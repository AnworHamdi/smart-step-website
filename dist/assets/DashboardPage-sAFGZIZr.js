import{h as Se,u as ve,j as w,l as Te,m as Na,n as Ea,o as ja,r as J,p as mr,q as Aa,t as Ae,v as Sa,w as Ta,D as Oe,d as ge,x as je,c as qa,e as da,y as Pa,z as kr,E as Ra,F as La,G as Ca,H as Ia,I as Ma}from"./index-9vBbjHyS.js";import{B as fe}from"./Button-BCTE0jUK.js";import{C as xe}from"./Card-Bexe3NUZ.js";const Nr=({className:q="w-5 h-5"})=>w.jsx("svg",{className:q,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),Da=({className:q="w-5 h-5"})=>w.jsx("svg",{className:q,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),Ba=({className:q="w-5 h-5"})=>w.jsx("svg",{className:q,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),Fa=({className:q="w-5 h-5"})=>w.jsx("svg",{className:q,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),Ua=({className:q="w-5 h-5"})=>w.jsxs("svg",{className:q,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Ha=({className:q="w-5 h-5"})=>w.jsx("svg",{className:q,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),Ka=({className:q="w-5 h-5"})=>w.jsx("svg",{className:q,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),za=({className:q="w-6 h-6"})=>w.jsx("svg",{className:q,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),Ga=({className:q="w-6 h-6"})=>w.jsx("svg",{className:q,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),Va=({activeSection:q,onSectionChange:I,isOpen:k,onToggle:f})=>{var n;const{user:u,logout:m}=Se(),{t:y}=ve(),b=[{id:"posts",label:y("dashboard.tabs.posts"),icon:Nr},{id:"messages",label:y("dashboard.tabs.messages"),icon:Da},{id:"subscriptions",label:y("dashboard.tabs.subscriptions")||"Subscriptions",icon:Ha},{id:"users",label:y("dashboard.tabs.users"),icon:Ba},{id:"team",label:y("dashboard.tabs.team"),icon:Fa},{id:"settings",label:y("dashboard.tabs.settings"),icon:Ua}],v=[{id:"posts",label:y("dashboard.tabs.posts"),icon:Nr}],x=(u==null?void 0:u.role)==="admin"||(u==null?void 0:u.role)==="Super admin"?b:v,c=e=>{I(e),window.innerWidth<1024&&f()};return w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:f,className:"lg:hidden fixed top-20 left-4 z-50 bg-smart-blue text-white p-2 rounded-lg shadow-lg","aria-label":"Toggle menu",children:k?w.jsx(Ga,{}):w.jsx(za,{})}),k&&w.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:f}),w.jsxs("aside",{className:`
          fixed lg:sticky top-0 left-0 h-screen bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700
          w-64 z-40 transform transition-transform duration-300 ease-in-out flex flex-col
          ${k?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        `,children:[w.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-10 h-10 rounded-full bg-smart-blue text-white flex items-center justify-center font-bold text-lg",children:(n=u==null?void 0:u.email)==null?void 0:n.charAt(0).toUpperCase()}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:u==null?void 0:u.email}),w.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:u==null?void 0:u.role})]})]})}),w.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:w.jsx("ul",{className:"space-y-2",children:x.map(e=>{const t=e.icon,o=q===e.id;return w.jsx("li",{children:w.jsxs("button",{onClick:()=>c(e.id),className:`
                      w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200
                      ${o?"bg-smart-blue text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}
                    `,children:[w.jsx(t,{className:"w-5 h-5 flex-shrink-0"}),w.jsx("span",{className:"font-medium",children:e.label})]})},e.id)})})}),w.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:w.jsxs("button",{onClick:m,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all duration-200",children:[w.jsx(Ka,{className:"w-5 h-5"}),w.jsx("span",{className:"font-medium",children:y("nav.logout")})]})})]})]})};var Be,Er;function Wa(){if(Er)return Be;Er=1;function q(){this.__data__=[],this.size=0}return Be=q,Be}var Fe,jr;function ha(){if(jr)return Fe;jr=1;function q(I,k){return I===k||I!==I&&k!==k}return Fe=q,Fe}var Ue,Ar;function Pe(){if(Ar)return Ue;Ar=1;var q=ha();function I(k,f){for(var u=k.length;u--;)if(q(k[u][0],f))return u;return-1}return Ue=I,Ue}var He,Sr;function Za(){if(Sr)return He;Sr=1;var q=Pe(),I=Array.prototype,k=I.splice;function f(u){var m=this.__data__,y=q(m,u);if(y<0)return!1;var b=m.length-1;return y==b?m.pop():k.call(m,y,1),--this.size,!0}return He=f,He}var Ke,Tr;function Ya(){if(Tr)return Ke;Tr=1;var q=Pe();function I(k){var f=this.__data__,u=q(f,k);return u<0?void 0:f[u][1]}return Ke=I,Ke}var ze,qr;function Xa(){if(qr)return ze;qr=1;var q=Pe();function I(k){return q(this.__data__,k)>-1}return ze=I,ze}var Ge,Pr;function Qa(){if(Pr)return Ge;Pr=1;var q=Pe();function I(k,f){var u=this.__data__,m=q(u,k);return m<0?(++this.size,u.push([k,f])):u[m][1]=f,this}return Ge=I,Ge}var Ve,Rr;function Re(){if(Rr)return Ve;Rr=1;var q=Wa(),I=Za(),k=Ya(),f=Xa(),u=Qa();function m(y){var b=-1,v=y==null?0:y.length;for(this.clear();++b<v;){var x=y[b];this.set(x[0],x[1])}}return m.prototype.clear=q,m.prototype.delete=I,m.prototype.get=k,m.prototype.has=f,m.prototype.set=u,Ve=m,Ve}var We,Lr;function Ja(){if(Lr)return We;Lr=1;var q=Re();function I(){this.__data__=new q,this.size=0}return We=I,We}var Ze,Cr;function $a(){if(Cr)return Ze;Cr=1;function q(I){var k=this.__data__,f=k.delete(I);return this.size=k.size,f}return Ze=q,Ze}var Ye,Ir;function ei(){if(Ir)return Ye;Ir=1;function q(I){return this.__data__.get(I)}return Ye=q,Ye}var Xe,Mr;function ti(){if(Mr)return Xe;Mr=1;function q(I){return this.__data__.has(I)}return Xe=q,Xe}var Qe,Dr;function pa(){if(Dr)return Qe;Dr=1;var q=typeof Te=="object"&&Te&&Te.Object===Object&&Te;return Qe=q,Qe}var Je,Br;function me(){if(Br)return Je;Br=1;var q=pa(),I=typeof self=="object"&&self&&self.Object===Object&&self,k=q||I||Function("return this")();return Je=k,Je}var $e,Fr;function br(){if(Fr)return $e;Fr=1;var q=me(),I=q.Symbol;return $e=I,$e}var et,Ur;function ri(){if(Ur)return et;Ur=1;var q=br(),I=Object.prototype,k=I.hasOwnProperty,f=I.toString,u=q?q.toStringTag:void 0;function m(y){var b=k.call(y,u),v=y[u];try{y[u]=void 0;var x=!0}catch{}var c=f.call(y);return x&&(b?y[u]=v:delete y[u]),c}return et=m,et}var tt,Hr;function ni(){if(Hr)return tt;Hr=1;var q=Object.prototype,I=q.toString;function k(f){return I.call(f)}return tt=k,tt}var rt,Kr;function Le(){if(Kr)return rt;Kr=1;var q=br(),I=ri(),k=ni(),f="[object Null]",u="[object Undefined]",m=q?q.toStringTag:void 0;function y(b){return b==null?b===void 0?u:f:m&&m in Object(b)?I(b):k(b)}return rt=y,rt}var nt,zr;function va(){if(zr)return nt;zr=1;function q(I){var k=typeof I;return I!=null&&(k=="object"||k=="function")}return nt=q,nt}var at,Gr;function ya(){if(Gr)return at;Gr=1;var q=Le(),I=va(),k="[object AsyncFunction]",f="[object Function]",u="[object GeneratorFunction]",m="[object Proxy]";function y(b){if(!I(b))return!1;var v=q(b);return v==f||v==u||v==k||v==m}return at=y,at}var it,Vr;function ai(){if(Vr)return it;Vr=1;var q=me(),I=q["__core-js_shared__"];return it=I,it}var ot,Wr;function ii(){if(Wr)return ot;Wr=1;var q=ai(),I=(function(){var f=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""})();function k(f){return!!I&&I in f}return ot=k,ot}var lt,Zr;function ga(){if(Zr)return lt;Zr=1;var q=Function.prototype,I=q.toString;function k(f){if(f!=null){try{return I.call(f)}catch{}try{return f+""}catch{}}return""}return lt=k,lt}var st,Yr;function oi(){if(Yr)return st;Yr=1;var q=ya(),I=ii(),k=va(),f=ga(),u=/[\\^$.*+?()[\]{}|]/g,m=/^\[object .+?Constructor\]$/,y=Function.prototype,b=Object.prototype,v=y.toString,x=b.hasOwnProperty,c=RegExp("^"+v.call(x).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function n(e){if(!k(e)||I(e))return!1;var t=q(e)?c:m;return t.test(f(e))}return st=n,st}var ut,Xr;function li(){if(Xr)return ut;Xr=1;function q(I,k){return I==null?void 0:I[k]}return ut=q,ut}var ct,Qr;function ke(){if(Qr)return ct;Qr=1;var q=oi(),I=li();function k(f,u){var m=I(f,u);return q(m)?m:void 0}return ct=k,ct}var ft,Jr;function xr(){if(Jr)return ft;Jr=1;var q=ke(),I=me(),k=q(I,"Map");return ft=k,ft}var dt,$r;function Ce(){if($r)return dt;$r=1;var q=ke(),I=q(Object,"create");return dt=I,dt}var ht,en;function si(){if(en)return ht;en=1;var q=Ce();function I(){this.__data__=q?q(null):{},this.size=0}return ht=I,ht}var pt,tn;function ui(){if(tn)return pt;tn=1;function q(I){var k=this.has(I)&&delete this.__data__[I];return this.size-=k?1:0,k}return pt=q,pt}var vt,rn;function ci(){if(rn)return vt;rn=1;var q=Ce(),I="__lodash_hash_undefined__",k=Object.prototype,f=k.hasOwnProperty;function u(m){var y=this.__data__;if(q){var b=y[m];return b===I?void 0:b}return f.call(y,m)?y[m]:void 0}return vt=u,vt}var yt,nn;function fi(){if(nn)return yt;nn=1;var q=Ce(),I=Object.prototype,k=I.hasOwnProperty;function f(u){var m=this.__data__;return q?m[u]!==void 0:k.call(m,u)}return yt=f,yt}var gt,an;function di(){if(an)return gt;an=1;var q=Ce(),I="__lodash_hash_undefined__";function k(f,u){var m=this.__data__;return this.size+=this.has(f)?0:1,m[f]=q&&u===void 0?I:u,this}return gt=k,gt}var mt,on;function hi(){if(on)return mt;on=1;var q=si(),I=ui(),k=ci(),f=fi(),u=di();function m(y){var b=-1,v=y==null?0:y.length;for(this.clear();++b<v;){var x=y[b];this.set(x[0],x[1])}}return m.prototype.clear=q,m.prototype.delete=I,m.prototype.get=k,m.prototype.has=f,m.prototype.set=u,mt=m,mt}var bt,ln;function pi(){if(ln)return bt;ln=1;var q=hi(),I=Re(),k=xr();function f(){this.size=0,this.__data__={hash:new q,map:new(k||I),string:new q}}return bt=f,bt}var xt,sn;function vi(){if(sn)return xt;sn=1;function q(I){var k=typeof I;return k=="string"||k=="number"||k=="symbol"||k=="boolean"?I!=="__proto__":I===null}return xt=q,xt}var _t,un;function Ie(){if(un)return _t;un=1;var q=vi();function I(k,f){var u=k.__data__;return q(f)?u[typeof f=="string"?"string":"hash"]:u.map}return _t=I,_t}var wt,cn;function yi(){if(cn)return wt;cn=1;var q=Ie();function I(k){var f=q(this,k).delete(k);return this.size-=f?1:0,f}return wt=I,wt}var Ot,fn;function gi(){if(fn)return Ot;fn=1;var q=Ie();function I(k){return q(this,k).get(k)}return Ot=I,Ot}var kt,dn;function mi(){if(dn)return kt;dn=1;var q=Ie();function I(k){return q(this,k).has(k)}return kt=I,kt}var Nt,hn;function bi(){if(hn)return Nt;hn=1;var q=Ie();function I(k,f){var u=q(this,k),m=u.size;return u.set(k,f),this.size+=u.size==m?0:1,this}return Nt=I,Nt}var Et,pn;function ma(){if(pn)return Et;pn=1;var q=pi(),I=yi(),k=gi(),f=mi(),u=bi();function m(y){var b=-1,v=y==null?0:y.length;for(this.clear();++b<v;){var x=y[b];this.set(x[0],x[1])}}return m.prototype.clear=q,m.prototype.delete=I,m.prototype.get=k,m.prototype.has=f,m.prototype.set=u,Et=m,Et}var jt,vn;function xi(){if(vn)return jt;vn=1;var q=Re(),I=xr(),k=ma(),f=200;function u(m,y){var b=this.__data__;if(b instanceof q){var v=b.__data__;if(!I||v.length<f-1)return v.push([m,y]),this.size=++b.size,this;b=this.__data__=new k(v)}return b.set(m,y),this.size=b.size,this}return jt=u,jt}var At,yn;function _i(){if(yn)return At;yn=1;var q=Re(),I=Ja(),k=$a(),f=ei(),u=ti(),m=xi();function y(b){var v=this.__data__=new q(b);this.size=v.size}return y.prototype.clear=I,y.prototype.delete=k,y.prototype.get=f,y.prototype.has=u,y.prototype.set=m,At=y,At}var St,gn;function wi(){if(gn)return St;gn=1;var q="__lodash_hash_undefined__";function I(k){return this.__data__.set(k,q),this}return St=I,St}var Tt,mn;function Oi(){if(mn)return Tt;mn=1;function q(I){return this.__data__.has(I)}return Tt=q,Tt}var qt,bn;function ki(){if(bn)return qt;bn=1;var q=ma(),I=wi(),k=Oi();function f(u){var m=-1,y=u==null?0:u.length;for(this.__data__=new q;++m<y;)this.add(u[m])}return f.prototype.add=f.prototype.push=I,f.prototype.has=k,qt=f,qt}var Pt,xn;function Ni(){if(xn)return Pt;xn=1;function q(I,k){for(var f=-1,u=I==null?0:I.length;++f<u;)if(k(I[f],f,I))return!0;return!1}return Pt=q,Pt}var Rt,_n;function Ei(){if(_n)return Rt;_n=1;function q(I,k){return I.has(k)}return Rt=q,Rt}var Lt,wn;function ba(){if(wn)return Lt;wn=1;var q=ki(),I=Ni(),k=Ei(),f=1,u=2;function m(y,b,v,x,c,n){var e=v&f,t=y.length,o=b.length;if(t!=o&&!(e&&o>t))return!1;var l=n.get(y),s=n.get(b);if(l&&s)return l==b&&s==y;var a=-1,i=!0,d=v&u?new q:void 0;for(n.set(y,b),n.set(b,y);++a<t;){var r=y[a],p=b[a];if(x)var O=e?x(p,r,a,b,y,n):x(r,p,a,y,b,n);if(O!==void 0){if(O)continue;i=!1;break}if(d){if(!I(b,function(g,E){if(!k(d,E)&&(r===g||c(r,g,v,x,n)))return d.push(E)})){i=!1;break}}else if(!(r===p||c(r,p,v,x,n))){i=!1;break}}return n.delete(y),n.delete(b),i}return Lt=m,Lt}var Ct,On;function ji(){if(On)return Ct;On=1;var q=me(),I=q.Uint8Array;return Ct=I,Ct}var It,kn;function Ai(){if(kn)return It;kn=1;function q(I){var k=-1,f=Array(I.size);return I.forEach(function(u,m){f[++k]=[m,u]}),f}return It=q,It}var Mt,Nn;function Si(){if(Nn)return Mt;Nn=1;function q(I){var k=-1,f=Array(I.size);return I.forEach(function(u){f[++k]=u}),f}return Mt=q,Mt}var Dt,En;function Ti(){if(En)return Dt;En=1;var q=br(),I=ji(),k=ha(),f=ba(),u=Ai(),m=Si(),y=1,b=2,v="[object Boolean]",x="[object Date]",c="[object Error]",n="[object Map]",e="[object Number]",t="[object RegExp]",o="[object Set]",l="[object String]",s="[object Symbol]",a="[object ArrayBuffer]",i="[object DataView]",d=q?q.prototype:void 0,r=d?d.valueOf:void 0;function p(O,g,E,S,N,_,h){switch(E){case i:if(O.byteLength!=g.byteLength||O.byteOffset!=g.byteOffset)return!1;O=O.buffer,g=g.buffer;case a:return!(O.byteLength!=g.byteLength||!_(new I(O),new I(g)));case v:case x:case e:return k(+O,+g);case c:return O.name==g.name&&O.message==g.message;case t:case l:return O==g+"";case n:var j=u;case o:var T=S&y;if(j||(j=m),O.size!=g.size&&!T)return!1;var P=h.get(O);if(P)return P==g;S|=b,h.set(O,g);var D=f(j(O),j(g),S,N,_,h);return h.delete(O),D;case s:if(r)return r.call(O)==r.call(g)}return!1}return Dt=p,Dt}var Bt,jn;function qi(){if(jn)return Bt;jn=1;function q(I,k){for(var f=-1,u=k.length,m=I.length;++f<u;)I[m+f]=k[f];return I}return Bt=q,Bt}var Ft,An;function _r(){if(An)return Ft;An=1;var q=Array.isArray;return Ft=q,Ft}var Ut,Sn;function Pi(){if(Sn)return Ut;Sn=1;var q=qi(),I=_r();function k(f,u,m){var y=u(f);return I(f)?y:q(y,m(f))}return Ut=k,Ut}var Ht,Tn;function Ri(){if(Tn)return Ht;Tn=1;function q(I,k){for(var f=-1,u=I==null?0:I.length,m=0,y=[];++f<u;){var b=I[f];k(b,f,I)&&(y[m++]=b)}return y}return Ht=q,Ht}var Kt,qn;function Li(){if(qn)return Kt;qn=1;function q(){return[]}return Kt=q,Kt}var zt,Pn;function Ci(){if(Pn)return zt;Pn=1;var q=Ri(),I=Li(),k=Object.prototype,f=k.propertyIsEnumerable,u=Object.getOwnPropertySymbols,m=u?function(y){return y==null?[]:(y=Object(y),q(u(y),function(b){return f.call(y,b)}))}:I;return zt=m,zt}var Gt,Rn;function Ii(){if(Rn)return Gt;Rn=1;function q(I,k){for(var f=-1,u=Array(I);++f<I;)u[f]=k(f);return u}return Gt=q,Gt}var Vt,Ln;function Me(){if(Ln)return Vt;Ln=1;function q(I){return I!=null&&typeof I=="object"}return Vt=q,Vt}var Wt,Cn;function Mi(){if(Cn)return Wt;Cn=1;var q=Le(),I=Me(),k="[object Arguments]";function f(u){return I(u)&&q(u)==k}return Wt=f,Wt}var Zt,In;function Di(){if(In)return Zt;In=1;var q=Mi(),I=Me(),k=Object.prototype,f=k.hasOwnProperty,u=k.propertyIsEnumerable,m=q((function(){return arguments})())?q:function(y){return I(y)&&f.call(y,"callee")&&!u.call(y,"callee")};return Zt=m,Zt}var Ne={exports:{}},Yt,Mn;function Bi(){if(Mn)return Yt;Mn=1;function q(){return!1}return Yt=q,Yt}Ne.exports;var Dn;function xa(){return Dn||(Dn=1,(function(q,I){var k=me(),f=Bi(),u=I&&!I.nodeType&&I,m=u&&!0&&q&&!q.nodeType&&q,y=m&&m.exports===u,b=y?k.Buffer:void 0,v=b?b.isBuffer:void 0,x=v||f;q.exports=x})(Ne,Ne.exports)),Ne.exports}var Xt,Bn;function Fi(){if(Bn)return Xt;Bn=1;var q=9007199254740991,I=/^(?:0|[1-9]\d*)$/;function k(f,u){var m=typeof f;return u=u??q,!!u&&(m=="number"||m!="symbol"&&I.test(f))&&f>-1&&f%1==0&&f<u}return Xt=k,Xt}var Qt,Fn;function _a(){if(Fn)return Qt;Fn=1;var q=9007199254740991;function I(k){return typeof k=="number"&&k>-1&&k%1==0&&k<=q}return Qt=I,Qt}var Jt,Un;function Ui(){if(Un)return Jt;Un=1;var q=Le(),I=_a(),k=Me(),f="[object Arguments]",u="[object Array]",m="[object Boolean]",y="[object Date]",b="[object Error]",v="[object Function]",x="[object Map]",c="[object Number]",n="[object Object]",e="[object RegExp]",t="[object Set]",o="[object String]",l="[object WeakMap]",s="[object ArrayBuffer]",a="[object DataView]",i="[object Float32Array]",d="[object Float64Array]",r="[object Int8Array]",p="[object Int16Array]",O="[object Int32Array]",g="[object Uint8Array]",E="[object Uint8ClampedArray]",S="[object Uint16Array]",N="[object Uint32Array]",_={};_[i]=_[d]=_[r]=_[p]=_[O]=_[g]=_[E]=_[S]=_[N]=!0,_[f]=_[u]=_[s]=_[m]=_[a]=_[y]=_[b]=_[v]=_[x]=_[c]=_[n]=_[e]=_[t]=_[o]=_[l]=!1;function h(j){return k(j)&&I(j.length)&&!!_[q(j)]}return Jt=h,Jt}var $t,Hn;function Hi(){if(Hn)return $t;Hn=1;function q(I){return function(k){return I(k)}}return $t=q,$t}var Ee={exports:{}};Ee.exports;var Kn;function Ki(){return Kn||(Kn=1,(function(q,I){var k=pa(),f=I&&!I.nodeType&&I,u=f&&!0&&q&&!q.nodeType&&q,m=u&&u.exports===f,y=m&&k.process,b=(function(){try{var v=u&&u.require&&u.require("util").types;return v||y&&y.binding&&y.binding("util")}catch{}})();q.exports=b})(Ee,Ee.exports)),Ee.exports}var er,zn;function wa(){if(zn)return er;zn=1;var q=Ui(),I=Hi(),k=Ki(),f=k&&k.isTypedArray,u=f?I(f):q;return er=u,er}var tr,Gn;function zi(){if(Gn)return tr;Gn=1;var q=Ii(),I=Di(),k=_r(),f=xa(),u=Fi(),m=wa(),y=Object.prototype,b=y.hasOwnProperty;function v(x,c){var n=k(x),e=!n&&I(x),t=!n&&!e&&f(x),o=!n&&!e&&!t&&m(x),l=n||e||t||o,s=l?q(x.length,String):[],a=s.length;for(var i in x)(c||b.call(x,i))&&!(l&&(i=="length"||t&&(i=="offset"||i=="parent")||o&&(i=="buffer"||i=="byteLength"||i=="byteOffset")||u(i,a)))&&s.push(i);return s}return tr=v,tr}var rr,Vn;function Gi(){if(Vn)return rr;Vn=1;var q=Object.prototype;function I(k){var f=k&&k.constructor,u=typeof f=="function"&&f.prototype||q;return k===u}return rr=I,rr}var nr,Wn;function Vi(){if(Wn)return nr;Wn=1;function q(I,k){return function(f){return I(k(f))}}return nr=q,nr}var ar,Zn;function Wi(){if(Zn)return ar;Zn=1;var q=Vi(),I=q(Object.keys,Object);return ar=I,ar}var ir,Yn;function Zi(){if(Yn)return ir;Yn=1;var q=Gi(),I=Wi(),k=Object.prototype,f=k.hasOwnProperty;function u(m){if(!q(m))return I(m);var y=[];for(var b in Object(m))f.call(m,b)&&b!="constructor"&&y.push(b);return y}return ir=u,ir}var or,Xn;function Yi(){if(Xn)return or;Xn=1;var q=ya(),I=_a();function k(f){return f!=null&&I(f.length)&&!q(f)}return or=k,or}var lr,Qn;function Xi(){if(Qn)return lr;Qn=1;var q=zi(),I=Zi(),k=Yi();function f(u){return k(u)?q(u):I(u)}return lr=f,lr}var sr,Jn;function Qi(){if(Jn)return sr;Jn=1;var q=Pi(),I=Ci(),k=Xi();function f(u){return q(u,k,I)}return sr=f,sr}var ur,$n;function Ji(){if($n)return ur;$n=1;var q=Qi(),I=1,k=Object.prototype,f=k.hasOwnProperty;function u(m,y,b,v,x,c){var n=b&I,e=q(m),t=e.length,o=q(y),l=o.length;if(t!=l&&!n)return!1;for(var s=t;s--;){var a=e[s];if(!(n?a in y:f.call(y,a)))return!1}var i=c.get(m),d=c.get(y);if(i&&d)return i==y&&d==m;var r=!0;c.set(m,y),c.set(y,m);for(var p=n;++s<t;){a=e[s];var O=m[a],g=y[a];if(v)var E=n?v(g,O,a,y,m,c):v(O,g,a,m,y,c);if(!(E===void 0?O===g||x(O,g,b,v,c):E)){r=!1;break}p||(p=a=="constructor")}if(r&&!p){var S=m.constructor,N=y.constructor;S!=N&&"constructor"in m&&"constructor"in y&&!(typeof S=="function"&&S instanceof S&&typeof N=="function"&&N instanceof N)&&(r=!1)}return c.delete(m),c.delete(y),r}return ur=u,ur}var cr,ea;function $i(){if(ea)return cr;ea=1;var q=ke(),I=me(),k=q(I,"DataView");return cr=k,cr}var fr,ta;function eo(){if(ta)return fr;ta=1;var q=ke(),I=me(),k=q(I,"Promise");return fr=k,fr}var dr,ra;function to(){if(ra)return dr;ra=1;var q=ke(),I=me(),k=q(I,"Set");return dr=k,dr}var hr,na;function ro(){if(na)return hr;na=1;var q=ke(),I=me(),k=q(I,"WeakMap");return hr=k,hr}var pr,aa;function no(){if(aa)return pr;aa=1;var q=$i(),I=xr(),k=eo(),f=to(),u=ro(),m=Le(),y=ga(),b="[object Map]",v="[object Object]",x="[object Promise]",c="[object Set]",n="[object WeakMap]",e="[object DataView]",t=y(q),o=y(I),l=y(k),s=y(f),a=y(u),i=m;return(q&&i(new q(new ArrayBuffer(1)))!=e||I&&i(new I)!=b||k&&i(k.resolve())!=x||f&&i(new f)!=c||u&&i(new u)!=n)&&(i=function(d){var r=m(d),p=r==v?d.constructor:void 0,O=p?y(p):"";if(O)switch(O){case t:return e;case o:return b;case l:return x;case s:return c;case a:return n}return r}),pr=i,pr}var vr,ia;function ao(){if(ia)return vr;ia=1;var q=_i(),I=ba(),k=Ti(),f=Ji(),u=no(),m=_r(),y=xa(),b=wa(),v=1,x="[object Arguments]",c="[object Array]",n="[object Object]",e=Object.prototype,t=e.hasOwnProperty;function o(l,s,a,i,d,r){var p=m(l),O=m(s),g=p?c:u(l),E=O?c:u(s);g=g==x?n:g,E=E==x?n:E;var S=g==n,N=E==n,_=g==E;if(_&&y(l)){if(!y(s))return!1;p=!0,S=!1}if(_&&!S)return r||(r=new q),p||b(l)?I(l,s,a,i,d,r):k(l,s,g,a,i,d,r);if(!(a&v)){var h=S&&t.call(l,"__wrapped__"),j=N&&t.call(s,"__wrapped__");if(h||j){var T=h?l.value():l,P=j?s.value():s;return r||(r=new q),d(T,P,a,i,r)}}return _?(r||(r=new q),f(l,s,a,i,d,r)):!1}return vr=o,vr}var yr,oa;function io(){if(oa)return yr;oa=1;var q=ao(),I=Me();function k(f,u,m,y,b){return f===u?!0:f==null||u==null||!I(f)&&!I(u)?f!==f&&u!==u:q(f,u,m,y,k,b)}return yr=k,yr}var gr,la;function oo(){if(la)return gr;la=1;var q=io();function I(k,f){return q(k,f)}return gr=I,gr}var qe={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var lo=qe.exports,sa;function so(){return sa||(sa=1,(function(q,I){(function(f,u){q.exports=u()})(typeof self<"u"?self:lo,function(){return(function(k){var f={};function u(m){if(f[m])return f[m].exports;var y=f[m]={i:m,l:!1,exports:{}};return k[m].call(y.exports,y,y.exports,u),y.l=!0,y.exports}return u.m=k,u.c=f,u.d=function(m,y,b){u.o(m,y)||Object.defineProperty(m,y,{configurable:!1,enumerable:!0,get:b})},u.n=function(m){var y=m&&m.__esModule?function(){return m.default}:function(){return m};return u.d(y,"a",y),y},u.o=function(m,y){return Object.prototype.hasOwnProperty.call(m,y)},u.p="",u(u.s=109)})([(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=u(17),y=u(18),b=u(19),v=u(45),x=u(46),c=u(47),n=u(48),e=u(49),t=u(12),o=u(32),l=u(33),s=u(31),a=u(1),i={Scope:a.Scope,create:a.create,find:a.find,query:a.query,register:a.register,Container:m.default,Format:y.default,Leaf:b.default,Embed:n.default,Scroll:v.default,Block:c.default,Inline:x.default,Text:e.default,Attributor:{Attribute:t.default,Class:o.default,Style:l.default,Store:s.default}};f.default=i}),(function(k,f,u){var m=this&&this.__extends||(function(){var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var d in i)i.hasOwnProperty(d)&&(a[d]=i[d])};return function(a,i){s(a,i);function d(){this.constructor=a}a.prototype=i===null?Object.create(i):(d.prototype=i.prototype,new d)}})();Object.defineProperty(f,"__esModule",{value:!0});var y=(function(s){m(a,s);function a(i){var d=this;return i="[Parchment] "+i,d=s.call(this,i)||this,d.message=i,d.name=d.constructor.name,d}return a})(Error);f.ParchmentError=y;var b={},v={},x={},c={};f.DATA_KEY="__blot";var n;(function(s){s[s.TYPE=3]="TYPE",s[s.LEVEL=12]="LEVEL",s[s.ATTRIBUTE=13]="ATTRIBUTE",s[s.BLOT=14]="BLOT",s[s.INLINE=7]="INLINE",s[s.BLOCK=11]="BLOCK",s[s.BLOCK_BLOT=10]="BLOCK_BLOT",s[s.INLINE_BLOT=6]="INLINE_BLOT",s[s.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",s[s.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",s[s.ANY=15]="ANY"})(n=f.Scope||(f.Scope={}));function e(s,a){var i=o(s);if(i==null)throw new y("Unable to create "+s+" blot");var d=i,r=s instanceof Node||s.nodeType===Node.TEXT_NODE?s:d.create(a);return new d(r,a)}f.create=e;function t(s,a){return a===void 0&&(a=!1),s==null?null:s[f.DATA_KEY]!=null?s[f.DATA_KEY].blot:a?t(s.parentNode,a):null}f.find=t;function o(s,a){a===void 0&&(a=n.ANY);var i;if(typeof s=="string")i=c[s]||b[s];else if(s instanceof Text||s.nodeType===Node.TEXT_NODE)i=c.text;else if(typeof s=="number")s&n.LEVEL&n.BLOCK?i=c.block:s&n.LEVEL&n.INLINE&&(i=c.inline);else if(s instanceof HTMLElement){var d=(s.getAttribute("class")||"").split(/\s+/);for(var r in d)if(i=v[d[r]],i)break;i=i||x[s.tagName]}return i==null?null:a&n.LEVEL&i.scope&&a&n.TYPE&i.scope?i:null}f.query=o;function l(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];if(s.length>1)return s.map(function(r){return l(r)});var i=s[0];if(typeof i.blotName!="string"&&typeof i.attrName!="string")throw new y("Invalid definition");if(i.blotName==="abstract")throw new y("Cannot register abstract class");if(c[i.blotName||i.attrName]=i,typeof i.keyName=="string")b[i.keyName]=i;else if(i.className!=null&&(v[i.className]=i),i.tagName!=null){Array.isArray(i.tagName)?i.tagName=i.tagName.map(function(r){return r.toUpperCase()}):i.tagName=i.tagName.toUpperCase();var d=Array.isArray(i.tagName)?i.tagName:[i.tagName];d.forEach(function(r){(x[r]==null||i.className==null)&&(x[r]=i)})}return i}f.register=l}),(function(k,f,u){var m=u(51),y=u(11),b=u(3),v=u(20),x="\0",c=function(n){Array.isArray(n)?this.ops=n:n!=null&&Array.isArray(n.ops)?this.ops=n.ops:this.ops=[]};c.prototype.insert=function(n,e){var t={};return n.length===0?this:(t.insert=n,e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(t.attributes=e),this.push(t))},c.prototype.delete=function(n){return n<=0?this:this.push({delete:n})},c.prototype.retain=function(n,e){if(n<=0)return this;var t={retain:n};return e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(t.attributes=e),this.push(t)},c.prototype.push=function(n){var e=this.ops.length,t=this.ops[e-1];if(n=b(!0,{},n),typeof t=="object"){if(typeof n.delete=="number"&&typeof t.delete=="number")return this.ops[e-1]={delete:t.delete+n.delete},this;if(typeof t.delete=="number"&&n.insert!=null&&(e-=1,t=this.ops[e-1],typeof t!="object"))return this.ops.unshift(n),this;if(y(n.attributes,t.attributes)){if(typeof n.insert=="string"&&typeof t.insert=="string")return this.ops[e-1]={insert:t.insert+n.insert},typeof n.attributes=="object"&&(this.ops[e-1].attributes=n.attributes),this;if(typeof n.retain=="number"&&typeof t.retain=="number")return this.ops[e-1]={retain:t.retain+n.retain},typeof n.attributes=="object"&&(this.ops[e-1].attributes=n.attributes),this}}return e===this.ops.length?this.ops.push(n):this.ops.splice(e,0,n),this},c.prototype.chop=function(){var n=this.ops[this.ops.length-1];return n&&n.retain&&!n.attributes&&this.ops.pop(),this},c.prototype.filter=function(n){return this.ops.filter(n)},c.prototype.forEach=function(n){this.ops.forEach(n)},c.prototype.map=function(n){return this.ops.map(n)},c.prototype.partition=function(n){var e=[],t=[];return this.forEach(function(o){var l=n(o)?e:t;l.push(o)}),[e,t]},c.prototype.reduce=function(n,e){return this.ops.reduce(n,e)},c.prototype.changeLength=function(){return this.reduce(function(n,e){return e.insert?n+v.length(e):e.delete?n-e.delete:n},0)},c.prototype.length=function(){return this.reduce(function(n,e){return n+v.length(e)},0)},c.prototype.slice=function(n,e){n=n||0,typeof e!="number"&&(e=1/0);for(var t=[],o=v.iterator(this.ops),l=0;l<e&&o.hasNext();){var s;l<n?s=o.next(n-l):(s=o.next(e-l),t.push(s)),l+=v.length(s)}return new c(t)},c.prototype.compose=function(n){var e=v.iterator(this.ops),t=v.iterator(n.ops),o=[],l=t.peek();if(l!=null&&typeof l.retain=="number"&&l.attributes==null){for(var s=l.retain;e.peekType()==="insert"&&e.peekLength()<=s;)s-=e.peekLength(),o.push(e.next());l.retain-s>0&&t.next(l.retain-s)}for(var a=new c(o);e.hasNext()||t.hasNext();)if(t.peekType()==="insert")a.push(t.next());else if(e.peekType()==="delete")a.push(e.next());else{var i=Math.min(e.peekLength(),t.peekLength()),d=e.next(i),r=t.next(i);if(typeof r.retain=="number"){var p={};typeof d.retain=="number"?p.retain=i:p.insert=d.insert;var O=v.attributes.compose(d.attributes,r.attributes,typeof d.retain=="number");if(O&&(p.attributes=O),a.push(p),!t.hasNext()&&y(a.ops[a.ops.length-1],p)){var g=new c(e.rest());return a.concat(g).chop()}}else typeof r.delete=="number"&&typeof d.retain=="number"&&a.push(r)}return a.chop()},c.prototype.concat=function(n){var e=new c(this.ops.slice());return n.ops.length>0&&(e.push(n.ops[0]),e.ops=e.ops.concat(n.ops.slice(1))),e},c.prototype.diff=function(n,e){if(this.ops===n.ops)return new c;var t=[this,n].map(function(i){return i.map(function(d){if(d.insert!=null)return typeof d.insert=="string"?d.insert:x;var r=i===n?"on":"with";throw new Error("diff() called "+r+" non-document")}).join("")}),o=new c,l=m(t[0],t[1],e),s=v.iterator(this.ops),a=v.iterator(n.ops);return l.forEach(function(i){for(var d=i[1].length;d>0;){var r=0;switch(i[0]){case m.INSERT:r=Math.min(a.peekLength(),d),o.push(a.next(r));break;case m.DELETE:r=Math.min(d,s.peekLength()),s.next(r),o.delete(r);break;case m.EQUAL:r=Math.min(s.peekLength(),a.peekLength(),d);var p=s.next(r),O=a.next(r);y(p.insert,O.insert)?o.retain(r,v.attributes.diff(p.attributes,O.attributes)):o.push(O).delete(r);break}d-=r}}),o.chop()},c.prototype.eachLine=function(n,e){e=e||`
`;for(var t=v.iterator(this.ops),o=new c,l=0;t.hasNext();){if(t.peekType()!=="insert")return;var s=t.peek(),a=v.length(s)-t.peekLength(),i=typeof s.insert=="string"?s.insert.indexOf(e,a)-a:-1;if(i<0)o.push(t.next());else if(i>0)o.push(t.next(i));else{if(n(o,t.next(1).attributes||{},l)===!1)return;l+=1,o=new c}}o.length()>0&&n(o,{},l)},c.prototype.transform=function(n,e){if(e=!!e,typeof n=="number")return this.transformPosition(n,e);for(var t=v.iterator(this.ops),o=v.iterator(n.ops),l=new c;t.hasNext()||o.hasNext();)if(t.peekType()==="insert"&&(e||o.peekType()!=="insert"))l.retain(v.length(t.next()));else if(o.peekType()==="insert")l.push(o.next());else{var s=Math.min(t.peekLength(),o.peekLength()),a=t.next(s),i=o.next(s);if(a.delete)continue;i.delete?l.push(i):l.retain(s,v.attributes.transform(a.attributes,i.attributes,e))}return l.chop()},c.prototype.transformPosition=function(n,e){e=!!e;for(var t=v.iterator(this.ops),o=0;t.hasNext()&&o<=n;){var l=t.peekLength(),s=t.peekType();if(t.next(),s==="delete"){n-=Math.min(l,n-o);continue}else s==="insert"&&(o<n||!e)&&(n+=l);o+=l}return n},k.exports=c}),(function(k,f){var u=Object.prototype.hasOwnProperty,m=Object.prototype.toString,y=Object.defineProperty,b=Object.getOwnPropertyDescriptor,v=function(t){return typeof Array.isArray=="function"?Array.isArray(t):m.call(t)==="[object Array]"},x=function(t){if(!t||m.call(t)!=="[object Object]")return!1;var o=u.call(t,"constructor"),l=t.constructor&&t.constructor.prototype&&u.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!o&&!l)return!1;var s;for(s in t);return typeof s>"u"||u.call(t,s)},c=function(t,o){y&&o.name==="__proto__"?y(t,o.name,{enumerable:!0,configurable:!0,value:o.newValue,writable:!0}):t[o.name]=o.newValue},n=function(t,o){if(o==="__proto__")if(u.call(t,o)){if(b)return b(t,o).value}else return;return t[o]};k.exports=function e(){var t,o,l,s,a,i,d=arguments[0],r=1,p=arguments.length,O=!1;for(typeof d=="boolean"&&(O=d,d=arguments[1]||{},r=2),(d==null||typeof d!="object"&&typeof d!="function")&&(d={});r<p;++r)if(t=arguments[r],t!=null)for(o in t)l=n(d,o),s=n(t,o),d!==s&&(O&&s&&(x(s)||(a=v(s)))?(a?(a=!1,i=l&&v(l)?l:[]):i=l&&x(l)?l:{},c(d,{name:o,newValue:e(O,i,s)})):typeof s<"u"&&c(d,{name:o,newValue:s}));return d}}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0}),f.default=f.BlockEmbed=f.bubbleFormats=void 0;var m=(function(){function _(h,j){for(var T=0;T<j.length;T++){var P=j[T];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(h,P.key,P)}}return function(h,j,T){return j&&_(h.prototype,j),T&&_(h,T),h}})(),y=function _(h,j,T){h===null&&(h=Function.prototype);var P=Object.getOwnPropertyDescriptor(h,j);if(P===void 0){var D=Object.getPrototypeOf(h);return D===null?void 0:_(D,j,T)}else{if("value"in P)return P.value;var U=P.get;return U===void 0?void 0:U.call(T)}},b=u(3),v=d(b),x=u(2),c=d(x),n=u(0),e=d(n),t=u(16),o=d(t),l=u(6),s=d(l),a=u(7),i=d(a);function d(_){return _&&_.__esModule?_:{default:_}}function r(_,h){if(!(_ instanceof h))throw new TypeError("Cannot call a class as a function")}function p(_,h){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:_}function O(_,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);_.prototype=Object.create(h&&h.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(_,h):_.__proto__=h)}var g=1,E=(function(_){O(h,_);function h(){return r(this,h),p(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return m(h,[{key:"attach",value:function(){y(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"attach",this).call(this),this.attributes=new e.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,v.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(T,P){var D=e.default.query(T,e.default.Scope.BLOCK_ATTRIBUTE);D!=null&&this.attributes.attribute(D,P)}},{key:"formatAt",value:function(T,P,D,U){this.format(D,U)}},{key:"insertAt",value:function(T,P,D){if(typeof P=="string"&&P.endsWith(`
`)){var U=e.default.create(S.blotName);this.parent.insertBefore(U,T===0?this:this.next),U.insertAt(0,P.slice(0,-1))}else y(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertAt",this).call(this,T,P,D)}}]),h})(e.default.Embed);E.scope=e.default.Scope.BLOCK_BLOT;var S=(function(_){O(h,_);function h(j){r(this,h);var T=p(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,j));return T.cache={},T}return m(h,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(e.default.Leaf).reduce(function(T,P){return P.length()===0?T:T.insert(P.value(),N(P))},new c.default).insert(`
`,N(this))),this.cache.delta}},{key:"deleteAt",value:function(T,P){y(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"deleteAt",this).call(this,T,P),this.cache={}}},{key:"formatAt",value:function(T,P,D,U){P<=0||(e.default.query(D,e.default.Scope.BLOCK)?T+P===this.length()&&this.format(D,U):y(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"formatAt",this).call(this,T,Math.min(P,this.length()-T-1),D,U),this.cache={})}},{key:"insertAt",value:function(T,P,D){if(D!=null)return y(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertAt",this).call(this,T,P,D);if(P.length!==0){var U=P.split(`
`),Y=U.shift();Y.length>0&&(T<this.length()-1||this.children.tail==null?y(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertAt",this).call(this,Math.min(T,this.length()-1),Y):this.children.tail.insertAt(this.children.tail.length(),Y),this.cache={});var B=this;U.reduce(function(C,A){return B=B.split(C,!0),B.insertAt(0,A),A.length},T+Y.length)}}},{key:"insertBefore",value:function(T,P){var D=this.children.head;y(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertBefore",this).call(this,T,P),D instanceof o.default&&D.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=y(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"length",this).call(this)+g),this.cache.length}},{key:"moveChildren",value:function(T,P){y(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"moveChildren",this).call(this,T,P),this.cache={}}},{key:"optimize",value:function(T){y(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"optimize",this).call(this,T),this.cache={}}},{key:"path",value:function(T){return y(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"path",this).call(this,T,!0)}},{key:"removeChild",value:function(T){y(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"removeChild",this).call(this,T),this.cache={}}},{key:"split",value:function(T){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(P&&(T===0||T>=this.length()-g)){var D=this.clone();return T===0?(this.parent.insertBefore(D,this),this):(this.parent.insertBefore(D,this.next),D)}else{var U=y(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"split",this).call(this,T,P);return this.cache={},U}}}]),h})(e.default.Block);S.blotName="block",S.tagName="P",S.defaultChild="break",S.allowedChildren=[s.default,e.default.Embed,i.default];function N(_){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return _==null||(typeof _.formats=="function"&&(h=(0,v.default)(h,_.formats())),_.parent==null||_.parent.blotName=="scroll"||_.parent.statics.scope!==_.statics.scope)?h:N(_.parent,h)}f.bubbleFormats=N,f.BlockEmbed=E,f.default=S}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0}),f.default=f.overload=f.expandConfig=void 0;var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},y=(function(){function B(C,A){var L=[],M=!0,K=!1,H=void 0;try{for(var R=C[Symbol.iterator](),F;!(M=(F=R.next()).done)&&(L.push(F.value),!(A&&L.length===A));M=!0);}catch(V){K=!0,H=V}finally{try{!M&&R.return&&R.return()}finally{if(K)throw H}}return L}return function(C,A){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return B(C,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),b=(function(){function B(C,A){for(var L=0;L<A.length;L++){var M=A[L];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(C,M.key,M)}}return function(C,A,L){return A&&B(C.prototype,A),L&&B(C,L),C}})();u(50);var v=u(2),x=N(v),c=u(14),n=N(c),e=u(8),t=N(e),o=u(9),l=N(o),s=u(0),a=N(s),i=u(15),d=N(i),r=u(3),p=N(r),O=u(10),g=N(O),E=u(34),S=N(E);function N(B){return B&&B.__esModule?B:{default:B}}function _(B,C,A){return C in B?Object.defineProperty(B,C,{value:A,enumerable:!0,configurable:!0,writable:!0}):B[C]=A,B}function h(B,C){if(!(B instanceof C))throw new TypeError("Cannot call a class as a function")}var j=(0,g.default)("quill"),T=(function(){b(B,null,[{key:"debug",value:function(A){A===!0&&(A="log"),g.default.level(A)}},{key:"find",value:function(A){return A.__quill||a.default.find(A)}},{key:"import",value:function(A){return this.imports[A]==null&&j.error("Cannot import "+A+". Are you sure it was registered?"),this.imports[A]}},{key:"register",value:function(A,L){var M=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof A!="string"){var H=A.attrName||A.blotName;typeof H=="string"?this.register("formats/"+H,A,L):Object.keys(A).forEach(function(R){M.register(R,A[R],L)})}else this.imports[A]!=null&&!K&&j.warn("Overwriting "+A+" with",L),this.imports[A]=L,(A.startsWith("blots/")||A.startsWith("formats/"))&&L.blotName!=="abstract"?a.default.register(L):A.startsWith("modules")&&typeof L.register=="function"&&L.register()}}]);function B(C){var A=this,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(h(this,B),this.options=P(C,L),this.container=this.options.container,this.container==null)return j.error("Invalid Quill container",C);this.options.debug&&B.debug(this.options.debug);var M=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new t.default,this.scroll=a.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new n.default(this.scroll),this.selection=new d.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(t.default.events.EDITOR_CHANGE,function(H){H===t.default.events.TEXT_CHANGE&&A.root.classList.toggle("ql-blank",A.editor.isBlank())}),this.emitter.on(t.default.events.SCROLL_UPDATE,function(H,R){var F=A.selection.lastRange,V=F&&F.length===0?F.index:void 0;D.call(A,function(){return A.editor.update(null,R,V)},H)});var K=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+M+"<p><br></p></div>");this.setContents(K),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return b(B,[{key:"addContainer",value:function(A){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof A=="string"){var M=A;A=document.createElement("div"),A.classList.add(M)}return this.container.insertBefore(A,L),A}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(A,L,M){var K=this,H=U(A,L,M),R=y(H,4);return A=R[0],L=R[1],M=R[3],D.call(this,function(){return K.editor.deleteText(A,L)},M,A,-1*L)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(A),this.container.classList.toggle("ql-disabled",!A)}},{key:"focus",value:function(){var A=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=A,this.scrollIntoView()}},{key:"format",value:function(A,L){var M=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.default.sources.API;return D.call(this,function(){var H=M.getSelection(!0),R=new x.default;if(H==null)return R;if(a.default.query(A,a.default.Scope.BLOCK))R=M.editor.formatLine(H.index,H.length,_({},A,L));else{if(H.length===0)return M.selection.format(A,L),R;R=M.editor.formatText(H.index,H.length,_({},A,L))}return M.setSelection(H,t.default.sources.SILENT),R},K)}},{key:"formatLine",value:function(A,L,M,K,H){var R=this,F=void 0,V=U(A,L,M,K,H),z=y(V,4);return A=z[0],L=z[1],F=z[2],H=z[3],D.call(this,function(){return R.editor.formatLine(A,L,F)},H,A,0)}},{key:"formatText",value:function(A,L,M,K,H){var R=this,F=void 0,V=U(A,L,M,K,H),z=y(V,4);return A=z[0],L=z[1],F=z[2],H=z[3],D.call(this,function(){return R.editor.formatText(A,L,F)},H,A,0)}},{key:"getBounds",value:function(A){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=void 0;typeof A=="number"?M=this.selection.getBounds(A,L):M=this.selection.getBounds(A.index,A.length);var K=this.container.getBoundingClientRect();return{bottom:M.bottom-K.top,height:M.height,left:M.left-K.left,right:M.right-K.left,top:M.top-K.top,width:M.width}}},{key:"getContents",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-A,M=U(A,L),K=y(M,2);return A=K[0],L=K[1],this.editor.getContents(A,L)}},{key:"getFormat",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof A=="number"?this.editor.getFormat(A,L):this.editor.getFormat(A.index,A.length)}},{key:"getIndex",value:function(A){return A.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(A){return this.scroll.leaf(A)}},{key:"getLine",value:function(A){return this.scroll.line(A)}},{key:"getLines",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof A!="number"?this.scroll.lines(A.index,A.length):this.scroll.lines(A,L)}},{key:"getModule",value:function(A){return this.theme.modules[A]}},{key:"getSelection",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return A&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-A,M=U(A,L),K=y(M,2);return A=K[0],L=K[1],this.editor.getText(A,L)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(A,L,M){var K=this,H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:B.sources.API;return D.call(this,function(){return K.editor.insertEmbed(A,L,M)},H,A)}},{key:"insertText",value:function(A,L,M,K,H){var R=this,F=void 0,V=U(A,0,M,K,H),z=y(V,4);return A=z[0],F=z[2],H=z[3],D.call(this,function(){return R.editor.insertText(A,L,F)},H,A,L.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(A,L,M){this.clipboard.dangerouslyPasteHTML(A,L,M)}},{key:"removeFormat",value:function(A,L,M){var K=this,H=U(A,L,M),R=y(H,4);return A=R[0],L=R[1],M=R[3],D.call(this,function(){return K.editor.removeFormat(A,L)},M,A)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(A){var L=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.default.sources.API;return D.call(this,function(){A=new x.default(A);var K=L.getLength(),H=L.editor.deleteText(0,K),R=L.editor.applyDelta(A),F=R.ops[R.ops.length-1];F!=null&&typeof F.insert=="string"&&F.insert[F.insert.length-1]===`
`&&(L.editor.deleteText(L.getLength()-1,1),R.delete(1));var V=H.compose(R);return V},M)}},{key:"setSelection",value:function(A,L,M){if(A==null)this.selection.setRange(null,L||B.sources.API);else{var K=U(A,L,M),H=y(K,4);A=H[0],L=H[1],M=H[3],this.selection.setRange(new i.Range(A,L),M),M!==t.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(A){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.default.sources.API,M=new x.default().insert(A);return this.setContents(M,L)}},{key:"update",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.default.sources.USER,L=this.scroll.update(A);return this.selection.update(A),L}},{key:"updateContents",value:function(A){var L=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.default.sources.API;return D.call(this,function(){return A=new x.default(A),L.editor.applyDelta(A,M)},M,!0)}}]),B})();T.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},T.events=t.default.events,T.sources=t.default.sources,T.version="1.3.7",T.imports={delta:x.default,parchment:a.default,"core/module":l.default,"core/theme":S.default};function P(B,C){if(C=(0,p.default)(!0,{container:B,modules:{clipboard:!0,keyboard:!0,history:!0}},C),!C.theme||C.theme===T.DEFAULTS.theme)C.theme=S.default;else if(C.theme=T.import("themes/"+C.theme),C.theme==null)throw new Error("Invalid theme "+C.theme+". Did you register it?");var A=(0,p.default)(!0,{},C.theme.DEFAULTS);[A,C].forEach(function(K){K.modules=K.modules||{},Object.keys(K.modules).forEach(function(H){K.modules[H]===!0&&(K.modules[H]={})})});var L=Object.keys(A.modules).concat(Object.keys(C.modules)),M=L.reduce(function(K,H){var R=T.import("modules/"+H);return R==null?j.error("Cannot load "+H+" module. Are you sure you registered it?"):K[H]=R.DEFAULTS||{},K},{});return C.modules!=null&&C.modules.toolbar&&C.modules.toolbar.constructor!==Object&&(C.modules.toolbar={container:C.modules.toolbar}),C=(0,p.default)(!0,{},T.DEFAULTS,{modules:M},A,C),["bounds","container","scrollingContainer"].forEach(function(K){typeof C[K]=="string"&&(C[K]=document.querySelector(C[K]))}),C.modules=Object.keys(C.modules).reduce(function(K,H){return C.modules[H]&&(K[H]=C.modules[H]),K},{}),C}function D(B,C,A,L){if(this.options.strict&&!this.isEnabled()&&C===t.default.sources.USER)return new x.default;var M=A==null?null:this.getSelection(),K=this.editor.delta,H=B();if(M!=null&&(A===!0&&(A=M.index),L==null?M=Y(M,H,C):L!==0&&(M=Y(M,A,L,C)),this.setSelection(M,t.default.sources.SILENT)),H.length()>0){var R,F=[t.default.events.TEXT_CHANGE,H,K,C];if((R=this.emitter).emit.apply(R,[t.default.events.EDITOR_CHANGE].concat(F)),C!==t.default.sources.SILENT){var V;(V=this.emitter).emit.apply(V,F)}}return H}function U(B,C,A,L,M){var K={};return typeof B.index=="number"&&typeof B.length=="number"?typeof C!="number"?(M=L,L=A,A=C,C=B.length,B=B.index):(C=B.length,B=B.index):typeof C!="number"&&(M=L,L=A,A=C,C=0),(typeof A>"u"?"undefined":m(A))==="object"?(K=A,M=L):typeof A=="string"&&(L!=null?K[A]=L:M=A),M=M||t.default.sources.API,[B,C,K,M]}function Y(B,C,A,L){if(B==null)return null;var M=void 0,K=void 0;if(C instanceof x.default){var H=[B.index,B.index+B.length].map(function(z){return C.transformPosition(z,L!==t.default.sources.USER)}),R=y(H,2);M=R[0],K=R[1]}else{var F=[B.index,B.index+B.length].map(function(z){return z<C||z===C&&L===t.default.sources.USER?z:A>=0?z+A:Math.max(C,z+A)}),V=y(F,2);M=V[0],K=V[1]}return new i.Range(M,K-M)}f.expandConfig=P,f.overload=U,f.default=T}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=(function(){function s(a,i){for(var d=0;d<i.length;d++){var r=i[d];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}return function(a,i,d){return i&&s(a.prototype,i),d&&s(a,d),a}})(),y=function s(a,i,d){a===null&&(a=Function.prototype);var r=Object.getOwnPropertyDescriptor(a,i);if(r===void 0){var p=Object.getPrototypeOf(a);return p===null?void 0:s(p,i,d)}else{if("value"in r)return r.value;var O=r.get;return O===void 0?void 0:O.call(d)}},b=u(7),v=n(b),x=u(0),c=n(x);function n(s){return s&&s.__esModule?s:{default:s}}function e(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function t(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:s}function o(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}var l=(function(s){o(a,s);function a(){return e(this,a),t(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,[{key:"formatAt",value:function(d,r,p,O){if(a.compare(this.statics.blotName,p)<0&&c.default.query(p,c.default.Scope.BLOT)){var g=this.isolate(d,r);O&&g.wrap(p,O)}else y(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"formatAt",this).call(this,d,r,p,O)}},{key:"optimize",value:function(d){if(y(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"optimize",this).call(this,d),this.parent instanceof a&&a.compare(this.statics.blotName,this.parent.statics.blotName)>0){var r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r),r.wrap(this)}}}],[{key:"compare",value:function(d,r){var p=a.order.indexOf(d),O=a.order.indexOf(r);return p>=0||O>=0?p-O:d===r?0:d<r?-1:1}}]),a})(c.default.Inline);l.allowedChildren=[l,c.default.Embed,v.default],l.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],f.default=l}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=u(0),y=b(m);function b(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=(function(e){c(t,e);function t(){return v(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t})(y.default.Text);f.default=n}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=(function(){function i(d,r){for(var p=0;p<r.length;p++){var O=r[p];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(d,O.key,O)}}return function(d,r,p){return r&&i(d.prototype,r),p&&i(d,p),d}})(),y=function i(d,r,p){d===null&&(d=Function.prototype);var O=Object.getOwnPropertyDescriptor(d,r);if(O===void 0){var g=Object.getPrototypeOf(d);return g===null?void 0:i(g,r,p)}else{if("value"in O)return O.value;var E=O.get;return E===void 0?void 0:E.call(p)}},b=u(54),v=n(b),x=u(10),c=n(x);function n(i){return i&&i.__esModule?i:{default:i}}function e(i,d){if(!(i instanceof d))throw new TypeError("Cannot call a class as a function")}function t(i,d){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:i}function o(i,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);i.prototype=Object.create(d&&d.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(i,d):i.__proto__=d)}var l=(0,c.default)("quill:events"),s=["selectionchange","mousedown","mouseup","click"];s.forEach(function(i){document.addEventListener(i,function(){for(var d=arguments.length,r=Array(d),p=0;p<d;p++)r[p]=arguments[p];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(O){if(O.__quill&&O.__quill.emitter){var g;(g=O.__quill.emitter).handleDOM.apply(g,r)}})})});var a=(function(i){o(d,i);function d(){e(this,d);var r=t(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return r.listeners={},r.on("error",l.error),r}return m(d,[{key:"emit",value:function(){l.log.apply(l,arguments),y(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(p){for(var O=arguments.length,g=Array(O>1?O-1:0),E=1;E<O;E++)g[E-1]=arguments[E];(this.listeners[p.type]||[]).forEach(function(S){var N=S.node,_=S.handler;(p.target===N||N.contains(p.target))&&_.apply(void 0,[p].concat(g))})}},{key:"listenDOM",value:function(p,O,g){this.listeners[p]||(this.listeners[p]=[]),this.listeners[p].push({node:O,handler:g})}}]),d})(v.default);a.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},a.sources={API:"api",SILENT:"silent",USER:"user"},f.default=a}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});function m(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}var y=function b(v){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};m(this,b),this.quill=v,this.options=x};y.DEFAULTS={},f.default=y}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=["error","warn","log","info"],y="warn";function b(x){if(m.indexOf(x)<=m.indexOf(y)){for(var c,n=arguments.length,e=Array(n>1?n-1:0),t=1;t<n;t++)e[t-1]=arguments[t];(c=console)[x].apply(c,e)}}function v(x){return m.reduce(function(c,n){return c[n]=b.bind(console,n,x),c},{})}b.level=v.level=function(x){y=x},f.default=v}),(function(k,f,u){var m=Array.prototype.slice,y=u(52),b=u(53),v=k.exports=function(e,t,o){return o||(o={}),e===t?!0:e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||typeof e!="object"&&typeof t!="object"?o.strict?e===t:e==t:n(e,t,o)};function x(e){return e==null}function c(e){return!(!e||typeof e!="object"||typeof e.length!="number"||typeof e.copy!="function"||typeof e.slice!="function"||e.length>0&&typeof e[0]!="number")}function n(e,t,o){var l,s;if(x(e)||x(t)||e.prototype!==t.prototype)return!1;if(b(e))return b(t)?(e=m.call(e),t=m.call(t),v(e,t,o)):!1;if(c(e)){if(!c(t)||e.length!==t.length)return!1;for(l=0;l<e.length;l++)if(e[l]!==t[l])return!1;return!0}try{var a=y(e),i=y(t)}catch{return!1}if(a.length!=i.length)return!1;for(a.sort(),i.sort(),l=a.length-1;l>=0;l--)if(a[l]!=i[l])return!1;for(l=a.length-1;l>=0;l--)if(s=a[l],!v(e[s],t[s],o))return!1;return typeof e==typeof t}}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=u(1),y=(function(){function b(v,x,c){c===void 0&&(c={}),this.attrName=v,this.keyName=x;var n=m.Scope.TYPE&m.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&m.Scope.LEVEL|n:this.scope=m.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return b.keys=function(v){return[].map.call(v.attributes,function(x){return x.name})},b.prototype.add=function(v,x){return this.canAdd(v,x)?(v.setAttribute(this.keyName,x),!0):!1},b.prototype.canAdd=function(v,x){var c=m.query(v,m.Scope.BLOT&(this.scope|m.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof x=="string"?this.whitelist.indexOf(x.replace(/["']/g,""))>-1:this.whitelist.indexOf(x)>-1},b.prototype.remove=function(v){v.removeAttribute(this.keyName)},b.prototype.value=function(v){var x=v.getAttribute(this.keyName);return this.canAdd(v,x)&&x?x:""},b})();f.default=y}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0}),f.default=f.Code=void 0;var m=(function(){function E(S,N){var _=[],h=!0,j=!1,T=void 0;try{for(var P=S[Symbol.iterator](),D;!(h=(D=P.next()).done)&&(_.push(D.value),!(N&&_.length===N));h=!0);}catch(U){j=!0,T=U}finally{try{!h&&P.return&&P.return()}finally{if(j)throw T}}return _}return function(S,N){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return E(S,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),y=(function(){function E(S,N){for(var _=0;_<N.length;_++){var h=N[_];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(S,h.key,h)}}return function(S,N,_){return N&&E(S.prototype,N),_&&E(S,_),S}})(),b=function E(S,N,_){S===null&&(S=Function.prototype);var h=Object.getOwnPropertyDescriptor(S,N);if(h===void 0){var j=Object.getPrototypeOf(S);return j===null?void 0:E(j,N,_)}else{if("value"in h)return h.value;var T=h.get;return T===void 0?void 0:T.call(_)}},v=u(2),x=i(v),c=u(0),n=i(c),e=u(4),t=i(e),o=u(6),l=i(o),s=u(7),a=i(s);function i(E){return E&&E.__esModule?E:{default:E}}function d(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function r(E,S){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:E}function p(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(E,S):E.__proto__=S)}var O=(function(E){p(S,E);function S(){return d(this,S),r(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return S})(l.default);O.blotName="code",O.tagName="CODE";var g=(function(E){p(S,E);function S(){return d(this,S),r(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return y(S,[{key:"delta",value:function(){var _=this,h=this.domNode.textContent;return h.endsWith(`
`)&&(h=h.slice(0,-1)),h.split(`
`).reduce(function(j,T){return j.insert(T).insert(`
`,_.formats())},new x.default)}},{key:"format",value:function(_,h){if(!(_===this.statics.blotName&&h)){var j=this.descendant(a.default,this.length()-1),T=m(j,1),P=T[0];P!=null&&P.deleteAt(P.length()-1,1),b(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,_,h)}}},{key:"formatAt",value:function(_,h,j,T){if(h!==0&&!(n.default.query(j,n.default.Scope.BLOCK)==null||j===this.statics.blotName&&T===this.statics.formats(this.domNode))){var P=this.newlineIndex(_);if(!(P<0||P>=_+h)){var D=this.newlineIndex(_,!0)+1,U=P-D+1,Y=this.isolate(D,U),B=Y.next;Y.format(j,T),B instanceof S&&B.formatAt(0,_-D+h-U,j,T)}}}},{key:"insertAt",value:function(_,h,j){if(j==null){var T=this.descendant(a.default,_),P=m(T,2),D=P[0],U=P[1];D.insertAt(U,h)}}},{key:"length",value:function(){var _=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?_:_+1}},{key:"newlineIndex",value:function(_){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(h)return this.domNode.textContent.slice(0,_).lastIndexOf(`
`);var j=this.domNode.textContent.slice(_).indexOf(`
`);return j>-1?_+j:-1}},{key:"optimize",value:function(_){this.domNode.textContent.endsWith(`
`)||this.appendChild(n.default.create("text",`
`)),b(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,_);var h=this.next;h!=null&&h.prev===this&&h.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===h.statics.formats(h.domNode)&&(h.optimize(_),h.moveChildren(this),h.remove())}},{key:"replace",value:function(_){b(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replace",this).call(this,_),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(h){var j=n.default.find(h);j==null?h.parentNode.removeChild(h):j instanceof n.default.Embed?j.remove():j.unwrap()})}}],[{key:"create",value:function(_){var h=b(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,_);return h.setAttribute("spellcheck",!1),h}},{key:"formats",value:function(){return!0}}]),S})(t.default);g.blotName="code-block",g.tagName="PRE",g.TAB="  ",f.Code=O,f.default=g}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},y=(function(){function B(C,A){var L=[],M=!0,K=!1,H=void 0;try{for(var R=C[Symbol.iterator](),F;!(M=(F=R.next()).done)&&(L.push(F.value),!(A&&L.length===A));M=!0);}catch(V){K=!0,H=V}finally{try{!M&&R.return&&R.return()}finally{if(K)throw H}}return L}return function(C,A){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return B(C,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),b=(function(){function B(C,A){for(var L=0;L<A.length;L++){var M=A[L];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(C,M.key,M)}}return function(C,A,L){return A&&B(C.prototype,A),L&&B(C,L),C}})(),v=u(2),x=h(v),c=u(20),n=h(c),e=u(0),t=h(e),o=u(13),l=h(o),s=u(24),a=h(s),i=u(4),d=h(i),r=u(16),p=h(r),O=u(21),g=h(O),E=u(11),S=h(E),N=u(3),_=h(N);function h(B){return B&&B.__esModule?B:{default:B}}function j(B,C,A){return C in B?Object.defineProperty(B,C,{value:A,enumerable:!0,configurable:!0,writable:!0}):B[C]=A,B}function T(B,C){if(!(B instanceof C))throw new TypeError("Cannot call a class as a function")}var P=/^[ -~]*$/,D=(function(){function B(C){T(this,B),this.scroll=C,this.delta=this.getDelta()}return b(B,[{key:"applyDelta",value:function(A){var L=this,M=!1;this.scroll.update();var K=this.scroll.length();return this.scroll.batchStart(),A=Y(A),A.reduce(function(H,R){var F=R.retain||R.delete||R.insert.length||1,V=R.attributes||{};if(R.insert!=null){if(typeof R.insert=="string"){var z=R.insert;z.endsWith(`
`)&&M&&(M=!1,z=z.slice(0,-1)),H>=K&&!z.endsWith(`
`)&&(M=!0),L.scroll.insertAt(H,z);var X=L.scroll.line(H),re=y(X,2),ae=re[0],W=re[1],ee=(0,_.default)({},(0,i.bubbleFormats)(ae));if(ae instanceof d.default){var ne=ae.descendant(t.default.Leaf,W),ie=y(ne,1),oe=ie[0];ee=(0,_.default)(ee,(0,i.bubbleFormats)(oe))}V=n.default.attributes.diff(ee,V)||{}}else if(m(R.insert)==="object"){var G=Object.keys(R.insert)[0];if(G==null)return H;L.scroll.insertAt(H,G,R.insert[G])}K+=F}return Object.keys(V).forEach(function(Z){L.scroll.formatAt(H,F,Z,V[Z])}),H+F},0),A.reduce(function(H,R){return typeof R.delete=="number"?(L.scroll.deleteAt(H,R.delete),H):H+(R.retain||R.insert.length||1)},0),this.scroll.batchEnd(),this.update(A)}},{key:"deleteText",value:function(A,L){return this.scroll.deleteAt(A,L),this.update(new x.default().retain(A).delete(L))}},{key:"formatLine",value:function(A,L){var M=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(K).forEach(function(H){if(!(M.scroll.whitelist!=null&&!M.scroll.whitelist[H])){var R=M.scroll.lines(A,Math.max(L,1)),F=L;R.forEach(function(V){var z=V.length();if(!(V instanceof l.default))V.format(H,K[H]);else{var X=A-V.offset(M.scroll),re=V.newlineIndex(X+F)-X+1;V.formatAt(X,re,H,K[H])}F-=z})}}),this.scroll.optimize(),this.update(new x.default().retain(A).retain(L,(0,g.default)(K)))}},{key:"formatText",value:function(A,L){var M=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(K).forEach(function(H){M.scroll.formatAt(A,L,H,K[H])}),this.update(new x.default().retain(A).retain(L,(0,g.default)(K)))}},{key:"getContents",value:function(A,L){return this.delta.slice(A,A+L)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(A,L){return A.concat(L.delta())},new x.default)}},{key:"getFormat",value:function(A){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=[],K=[];L===0?this.scroll.path(A).forEach(function(R){var F=y(R,1),V=F[0];V instanceof d.default?M.push(V):V instanceof t.default.Leaf&&K.push(V)}):(M=this.scroll.lines(A,L),K=this.scroll.descendants(t.default.Leaf,A,L));var H=[M,K].map(function(R){if(R.length===0)return{};for(var F=(0,i.bubbleFormats)(R.shift());Object.keys(F).length>0;){var V=R.shift();if(V==null)return F;F=U((0,i.bubbleFormats)(V),F)}return F});return _.default.apply(_.default,H)}},{key:"getText",value:function(A,L){return this.getContents(A,L).filter(function(M){return typeof M.insert=="string"}).map(function(M){return M.insert}).join("")}},{key:"insertEmbed",value:function(A,L,M){return this.scroll.insertAt(A,L,M),this.update(new x.default().retain(A).insert(j({},L,M)))}},{key:"insertText",value:function(A,L){var M=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return L=L.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(A,L),Object.keys(K).forEach(function(H){M.scroll.formatAt(A,L.length,H,K[H])}),this.update(new x.default().retain(A).insert(L,(0,g.default)(K)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var A=this.scroll.children.head;return A.statics.blotName!==d.default.blotName||A.children.length>1?!1:A.children.head instanceof p.default}},{key:"removeFormat",value:function(A,L){var M=this.getText(A,L),K=this.scroll.line(A+L),H=y(K,2),R=H[0],F=H[1],V=0,z=new x.default;R!=null&&(R instanceof l.default?V=R.newlineIndex(F)-F+1:V=R.length()-F,z=R.delta().slice(F,F+V-1).insert(`
`));var X=this.getContents(A,L+V),re=X.diff(new x.default().insert(M).concat(z)),ae=new x.default().retain(A).concat(re);return this.applyDelta(ae)}},{key:"update",value:function(A){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,K=this.delta;if(L.length===1&&L[0].type==="characterData"&&L[0].target.data.match(P)&&t.default.find(L[0].target)){var H=t.default.find(L[0].target),R=(0,i.bubbleFormats)(H),F=H.offset(this.scroll),V=L[0].oldValue.replace(a.default.CONTENTS,""),z=new x.default().insert(V),X=new x.default().insert(H.value()),re=new x.default().retain(F).concat(z.diff(X,M));A=re.reduce(function(ae,W){return W.insert?ae.insert(W.insert,R):ae.push(W)},new x.default),this.delta=K.compose(A)}else this.delta=this.getDelta(),(!A||!(0,S.default)(K.compose(A),this.delta))&&(A=K.diff(this.delta,M));return A}}]),B})();function U(B,C){return Object.keys(C).reduce(function(A,L){return B[L]==null||(C[L]===B[L]?A[L]=C[L]:Array.isArray(C[L])?C[L].indexOf(B[L])<0&&(A[L]=C[L].concat([B[L]])):A[L]=[C[L],B[L]]),A},{})}function Y(B){return B.reduce(function(C,A){if(A.insert===1){var L=(0,g.default)(A.attributes);return delete L.image,C.insert({image:A.attributes.image},L)}if(A.attributes!=null&&(A.attributes.list===!0||A.attributes.bullet===!0)&&(A=(0,g.default)(A),A.attributes.list?A.attributes.list="ordered":(A.attributes.list="bullet",delete A.attributes.bullet)),typeof A.insert=="string"){var M=A.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return C.insert(M,A.attributes)}return C.push(A)},new x.default)}f.default=D}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0}),f.default=f.Range=void 0;var m=(function(){function E(S,N){var _=[],h=!0,j=!1,T=void 0;try{for(var P=S[Symbol.iterator](),D;!(h=(D=P.next()).done)&&(_.push(D.value),!(N&&_.length===N));h=!0);}catch(U){j=!0,T=U}finally{try{!h&&P.return&&P.return()}finally{if(j)throw T}}return _}return function(S,N){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return E(S,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),y=(function(){function E(S,N){for(var _=0;_<N.length;_++){var h=N[_];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(S,h.key,h)}}return function(S,N,_){return N&&E(S.prototype,N),_&&E(S,_),S}})(),b=u(0),v=a(b),x=u(21),c=a(x),n=u(11),e=a(n),t=u(8),o=a(t),l=u(10),s=a(l);function a(E){return E&&E.__esModule?E:{default:E}}function i(E){if(Array.isArray(E)){for(var S=0,N=Array(E.length);S<E.length;S++)N[S]=E[S];return N}else return Array.from(E)}function d(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}var r=(0,s.default)("quill:selection"),p=function E(S){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;d(this,E),this.index=S,this.length=N},O=(function(){function E(S,N){var _=this;d(this,E),this.emitter=N,this.scroll=S,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=v.default.create("cursor",this),this.lastRange=this.savedRange=new p(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){_.mouseDown||setTimeout(_.update.bind(_,o.default.sources.USER),1)}),this.emitter.on(o.default.events.EDITOR_CHANGE,function(h,j){h===o.default.events.TEXT_CHANGE&&j.length()>0&&_.update(o.default.sources.SILENT)}),this.emitter.on(o.default.events.SCROLL_BEFORE_UPDATE,function(){if(_.hasFocus()){var h=_.getNativeRange();h!=null&&h.start.node!==_.cursor.textNode&&_.emitter.once(o.default.events.SCROLL_UPDATE,function(){try{_.setNativeRange(h.start.node,h.start.offset,h.end.node,h.end.offset)}catch{}})}}),this.emitter.on(o.default.events.SCROLL_OPTIMIZE,function(h,j){if(j.range){var T=j.range,P=T.startNode,D=T.startOffset,U=T.endNode,Y=T.endOffset;_.setNativeRange(P,D,U,Y)}}),this.update(o.default.sources.SILENT)}return y(E,[{key:"handleComposition",value:function(){var N=this;this.root.addEventListener("compositionstart",function(){N.composing=!0}),this.root.addEventListener("compositionend",function(){if(N.composing=!1,N.cursor.parent){var _=N.cursor.restore();if(!_)return;setTimeout(function(){N.setNativeRange(_.startNode,_.startOffset,_.endNode,_.endOffset)},1)}})}},{key:"handleDragging",value:function(){var N=this;this.emitter.listenDOM("mousedown",document.body,function(){N.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){N.mouseDown=!1,N.update(o.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(N,_){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[N])){this.scroll.update();var h=this.getNativeRange();if(!(h==null||!h.native.collapsed||v.default.query(N,v.default.Scope.BLOCK))){if(h.start.node!==this.cursor.textNode){var j=v.default.find(h.start.node,!1);if(j==null)return;if(j instanceof v.default.Leaf){var T=j.split(h.start.offset);j.parent.insertBefore(this.cursor,T)}else j.insertBefore(this.cursor,h.start.node);this.cursor.attach()}this.cursor.format(N,_),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(N){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,h=this.scroll.length();N=Math.min(N,h-1),_=Math.min(N+_,h-1)-N;var j=void 0,T=this.scroll.leaf(N),P=m(T,2),D=P[0],U=P[1];if(D==null)return null;var Y=D.position(U,!0),B=m(Y,2);j=B[0],U=B[1];var C=document.createRange();if(_>0){C.setStart(j,U);var A=this.scroll.leaf(N+_),L=m(A,2);if(D=L[0],U=L[1],D==null)return null;var M=D.position(U,!0),K=m(M,2);return j=K[0],U=K[1],C.setEnd(j,U),C.getBoundingClientRect()}else{var H="left",R=void 0;return j instanceof Text?(U<j.data.length?(C.setStart(j,U),C.setEnd(j,U+1)):(C.setStart(j,U-1),C.setEnd(j,U),H="right"),R=C.getBoundingClientRect()):(R=D.domNode.getBoundingClientRect(),U>0&&(H="right")),{bottom:R.top+R.height,height:R.height,left:R[H],right:R[H],top:R.top,width:0}}}},{key:"getNativeRange",value:function(){var N=document.getSelection();if(N==null||N.rangeCount<=0)return null;var _=N.getRangeAt(0);if(_==null)return null;var h=this.normalizeNative(_);return r.info("getNativeRange",h),h}},{key:"getRange",value:function(){var N=this.getNativeRange();if(N==null)return[null,null];var _=this.normalizedToRange(N);return[_,N]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(N){var _=this,h=[[N.start.node,N.start.offset]];N.native.collapsed||h.push([N.end.node,N.end.offset]);var j=h.map(function(D){var U=m(D,2),Y=U[0],B=U[1],C=v.default.find(Y,!0),A=C.offset(_.scroll);return B===0?A:C instanceof v.default.Container?A+C.length():A+C.index(Y,B)}),T=Math.min(Math.max.apply(Math,i(j)),this.scroll.length()-1),P=Math.min.apply(Math,[T].concat(i(j)));return new p(P,T-P)}},{key:"normalizeNative",value:function(N){if(!g(this.root,N.startContainer)||!N.collapsed&&!g(this.root,N.endContainer))return null;var _={start:{node:N.startContainer,offset:N.startOffset},end:{node:N.endContainer,offset:N.endOffset},native:N};return[_.start,_.end].forEach(function(h){for(var j=h.node,T=h.offset;!(j instanceof Text)&&j.childNodes.length>0;)if(j.childNodes.length>T)j=j.childNodes[T],T=0;else if(j.childNodes.length===T)j=j.lastChild,T=j instanceof Text?j.data.length:j.childNodes.length+1;else break;h.node=j,h.offset=T}),_}},{key:"rangeToNative",value:function(N){var _=this,h=N.collapsed?[N.index]:[N.index,N.index+N.length],j=[],T=this.scroll.length();return h.forEach(function(P,D){P=Math.min(T-1,P);var U=void 0,Y=_.scroll.leaf(P),B=m(Y,2),C=B[0],A=B[1],L=C.position(A,D!==0),M=m(L,2);U=M[0],A=M[1],j.push(U,A)}),j.length<2&&(j=j.concat(j)),j}},{key:"scrollIntoView",value:function(N){var _=this.lastRange;if(_!=null){var h=this.getBounds(_.index,_.length);if(h!=null){var j=this.scroll.length()-1,T=this.scroll.line(Math.min(_.index,j)),P=m(T,1),D=P[0],U=D;if(_.length>0){var Y=this.scroll.line(Math.min(_.index+_.length,j)),B=m(Y,1);U=B[0]}if(!(D==null||U==null)){var C=N.getBoundingClientRect();h.top<C.top?N.scrollTop-=C.top-h.top:h.bottom>C.bottom&&(N.scrollTop+=h.bottom-C.bottom)}}}}},{key:"setNativeRange",value:function(N,_){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:N,j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_,T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(r.info("setNativeRange",N,_,h,j),!(N!=null&&(this.root.parentNode==null||N.parentNode==null||h.parentNode==null))){var P=document.getSelection();if(P!=null)if(N!=null){this.hasFocus()||this.root.focus();var D=(this.getNativeRange()||{}).native;if(D==null||T||N!==D.startContainer||_!==D.startOffset||h!==D.endContainer||j!==D.endOffset){N.tagName=="BR"&&(_=[].indexOf.call(N.parentNode.childNodes,N),N=N.parentNode),h.tagName=="BR"&&(j=[].indexOf.call(h.parentNode.childNodes,h),h=h.parentNode);var U=document.createRange();U.setStart(N,_),U.setEnd(h,j),P.removeAllRanges(),P.addRange(U)}}else P.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(N){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.default.sources.API;if(typeof _=="string"&&(h=_,_=!1),r.info("setRange",N),N!=null){var j=this.rangeToNative(N);this.setNativeRange.apply(this,i(j).concat([_]))}else this.setNativeRange(null);this.update(h)}},{key:"update",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o.default.sources.USER,_=this.lastRange,h=this.getRange(),j=m(h,2),T=j[0],P=j[1];if(this.lastRange=T,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,e.default)(_,this.lastRange)){var D;!this.composing&&P!=null&&P.native.collapsed&&P.start.node!==this.cursor.textNode&&this.cursor.restore();var U=[o.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(_),N];if((D=this.emitter).emit.apply(D,[o.default.events.EDITOR_CHANGE].concat(U)),N!==o.default.sources.SILENT){var Y;(Y=this.emitter).emit.apply(Y,U)}}}}]),E})();function g(E,S){try{S.parentNode}catch{return!1}return S instanceof Text&&(S=S.parentNode),E.contains(S)}f.Range=p,f.default=O}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=(function(){function o(l,s){for(var a=0;a<s.length;a++){var i=s[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(l,i.key,i)}}return function(l,s,a){return s&&o(l.prototype,s),a&&o(l,a),l}})(),y=function o(l,s,a){l===null&&(l=Function.prototype);var i=Object.getOwnPropertyDescriptor(l,s);if(i===void 0){var d=Object.getPrototypeOf(l);return d===null?void 0:o(d,s,a)}else{if("value"in i)return i.value;var r=i.get;return r===void 0?void 0:r.call(a)}},b=u(0),v=x(b);function x(o){return o&&o.__esModule?o:{default:o}}function c(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}function n(o,l){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:o}function e(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);o.prototype=Object.create(l&&l.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(o,l):o.__proto__=l)}var t=(function(o){e(l,o);function l(){return c(this,l),n(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return m(l,[{key:"insertInto",value:function(a,i){a.children.length===0?y(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"insertInto",this).call(this,a,i):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),l})(v.default.Embed);t.blotName="break",t.tagName="BR",f.default=t}),(function(k,f,u){var m=this&&this.__extends||(function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(e,t){n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}})();Object.defineProperty(f,"__esModule",{value:!0});var y=u(44),b=u(30),v=u(1),x=(function(n){m(e,n);function e(t){var o=n.call(this,t)||this;return o.build(),o}return e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){n.prototype.attach.call(this),this.children.forEach(function(t){t.attach()})},e.prototype.build=function(){var t=this;this.children=new y.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(o){try{var l=c(o);t.insertBefore(l,t.children.head||void 0)}catch(s){if(s instanceof v.ParchmentError)return;throw s}})},e.prototype.deleteAt=function(t,o){if(t===0&&o===this.length())return this.remove();this.children.forEachAt(t,o,function(l,s,a){l.deleteAt(s,a)})},e.prototype.descendant=function(t,o){var l=this.children.find(o),s=l[0],a=l[1];return t.blotName==null&&t(s)||t.blotName!=null&&s instanceof t?[s,a]:s instanceof e?s.descendant(t,a):[null,-1]},e.prototype.descendants=function(t,o,l){o===void 0&&(o=0),l===void 0&&(l=Number.MAX_VALUE);var s=[],a=l;return this.children.forEachAt(o,l,function(i,d,r){(t.blotName==null&&t(i)||t.blotName!=null&&i instanceof t)&&s.push(i),i instanceof e&&(s=s.concat(i.descendants(t,d,a))),a-=r}),s},e.prototype.detach=function(){this.children.forEach(function(t){t.detach()}),n.prototype.detach.call(this)},e.prototype.formatAt=function(t,o,l,s){this.children.forEachAt(t,o,function(a,i,d){a.formatAt(i,d,l,s)})},e.prototype.insertAt=function(t,o,l){var s=this.children.find(t),a=s[0],i=s[1];if(a)a.insertAt(i,o,l);else{var d=l==null?v.create("text",o):v.create(o,l);this.appendChild(d)}},e.prototype.insertBefore=function(t,o){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(l){return t instanceof l}))throw new v.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,o)},e.prototype.length=function(){return this.children.reduce(function(t,o){return t+o.length()},0)},e.prototype.moveChildren=function(t,o){this.children.forEach(function(l){t.insertBefore(l,o)})},e.prototype.optimize=function(t){if(n.prototype.optimize.call(this,t),this.children.length===0)if(this.statics.defaultChild!=null){var o=v.create(this.statics.defaultChild);this.appendChild(o),o.optimize(t)}else this.remove()},e.prototype.path=function(t,o){o===void 0&&(o=!1);var l=this.children.find(t,o),s=l[0],a=l[1],i=[[this,t]];return s instanceof e?i.concat(s.path(a,o)):(s!=null&&i.push([s,a]),i)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(t){t instanceof e&&t.moveChildren(this),n.prototype.replace.call(this,t)},e.prototype.split=function(t,o){if(o===void 0&&(o=!1),!o){if(t===0)return this;if(t===this.length())return this.next}var l=this.clone();return this.parent.insertBefore(l,this.next),this.children.forEachAt(t,this.length(),function(s,a,i){s=s.split(a,o),l.appendChild(s)}),l},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,o){var l=this,s=[],a=[];t.forEach(function(i){i.target===l.domNode&&i.type==="childList"&&(s.push.apply(s,i.addedNodes),a.push.apply(a,i.removedNodes))}),a.forEach(function(i){if(!(i.parentNode!=null&&i.tagName!=="IFRAME"&&document.body.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var d=v.find(i);d!=null&&(d.domNode.parentNode==null||d.domNode.parentNode===l.domNode)&&d.detach()}}),s.filter(function(i){return i.parentNode==l.domNode}).sort(function(i,d){return i===d?0:i.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(i){var d=null;i.nextSibling!=null&&(d=v.find(i.nextSibling));var r=c(i);(r.next!=d||r.next==null)&&(r.parent!=null&&r.parent.removeChild(l),l.insertBefore(r,d||void 0))})},e})(b.default);function c(n){var e=v.find(n);if(e==null)try{e=v.create(n)}catch{e=v.create(v.Scope.INLINE),[].slice.call(n.childNodes).forEach(function(o){e.domNode.appendChild(o)}),n.parentNode&&n.parentNode.replaceChild(e.domNode,n),e.attach()}return e}f.default=x}),(function(k,f,u){var m=this&&this.__extends||(function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(e,t){n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}})();Object.defineProperty(f,"__esModule",{value:!0});var y=u(12),b=u(31),v=u(17),x=u(1),c=(function(n){m(e,n);function e(t){var o=n.call(this,t)||this;return o.attributes=new b.default(o.domNode),o}return e.formats=function(t){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()},e.prototype.format=function(t,o){var l=x.query(t);l instanceof y.default?this.attributes.attribute(l,o):o&&l!=null&&(t!==this.statics.blotName||this.formats()[t]!==o)&&this.replaceWith(t,o)},e.prototype.formats=function(){var t=this.attributes.values(),o=this.statics.formats(this.domNode);return o!=null&&(t[this.statics.blotName]=o),t},e.prototype.replaceWith=function(t,o){var l=n.prototype.replaceWith.call(this,t,o);return this.attributes.copy(l),l},e.prototype.update=function(t,o){var l=this;n.prototype.update.call(this,t,o),t.some(function(s){return s.target===l.domNode&&s.type==="attributes"})&&this.attributes.build()},e.prototype.wrap=function(t,o){var l=n.prototype.wrap.call(this,t,o);return l instanceof e&&l.statics.scope===this.statics.scope&&this.attributes.move(l),l},e})(v.default);f.default=c}),(function(k,f,u){var m=this&&this.__extends||(function(){var x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,n){c.__proto__=n}||function(c,n){for(var e in n)n.hasOwnProperty(e)&&(c[e]=n[e])};return function(c,n){x(c,n);function e(){this.constructor=c}c.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}})();Object.defineProperty(f,"__esModule",{value:!0});var y=u(30),b=u(1),v=(function(x){m(c,x);function c(){return x!==null&&x.apply(this,arguments)||this}return c.value=function(n){return!0},c.prototype.index=function(n,e){return this.domNode===n||this.domNode.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},c.prototype.position=function(n,e){var t=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return n>0&&(t+=1),[this.parent.domNode,t]},c.prototype.value=function(){var n;return n={},n[this.statics.blotName]=this.statics.value(this.domNode)||!0,n},c.scope=b.Scope.INLINE_BLOT,c})(y.default);f.default=v}),(function(k,f,u){var m=u(11),y=u(3),b={attributes:{compose:function(x,c,n){typeof x!="object"&&(x={}),typeof c!="object"&&(c={});var e=y(!0,{},c);n||(e=Object.keys(e).reduce(function(o,l){return e[l]!=null&&(o[l]=e[l]),o},{}));for(var t in x)x[t]!==void 0&&c[t]===void 0&&(e[t]=x[t]);return Object.keys(e).length>0?e:void 0},diff:function(x,c){typeof x!="object"&&(x={}),typeof c!="object"&&(c={});var n=Object.keys(x).concat(Object.keys(c)).reduce(function(e,t){return m(x[t],c[t])||(e[t]=c[t]===void 0?null:c[t]),e},{});return Object.keys(n).length>0?n:void 0},transform:function(x,c,n){if(typeof x!="object")return c;if(typeof c=="object"){if(!n)return c;var e=Object.keys(c).reduce(function(t,o){return x[o]===void 0&&(t[o]=c[o]),t},{});return Object.keys(e).length>0?e:void 0}}},iterator:function(x){return new v(x)},length:function(x){return typeof x.delete=="number"?x.delete:typeof x.retain=="number"?x.retain:typeof x.insert=="string"?x.insert.length:1}};function v(x){this.ops=x,this.index=0,this.offset=0}v.prototype.hasNext=function(){return this.peekLength()<1/0},v.prototype.next=function(x){x||(x=1/0);var c=this.ops[this.index];if(c){var n=this.offset,e=b.length(c);if(x>=e-n?(x=e-n,this.index+=1,this.offset=0):this.offset+=x,typeof c.delete=="number")return{delete:x};var t={};return c.attributes&&(t.attributes=c.attributes),typeof c.retain=="number"?t.retain=x:typeof c.insert=="string"?t.insert=c.insert.substr(n,x):t.insert=c.insert,t}else return{retain:1/0}},v.prototype.peek=function(){return this.ops[this.index]},v.prototype.peekLength=function(){return this.ops[this.index]?b.length(this.ops[this.index])-this.offset:1/0},v.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},v.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var x=this.offset,c=this.index,n=this.next(),e=this.ops.slice(this.index);return this.offset=x,this.index=c,[n].concat(e)}else return[]},k.exports=b}),(function(k,f){var u=(function(){function m(l,s){return s!=null&&l instanceof s}var y;try{y=Map}catch{y=function(){}}var b;try{b=Set}catch{b=function(){}}var v;try{v=Promise}catch{v=function(){}}function x(l,s,a,i,d){typeof s=="object"&&(a=s.depth,i=s.prototype,d=s.includeNonEnumerable,s=s.circular);var r=[],p=[],O=typeof Buffer<"u";typeof s>"u"&&(s=!0),typeof a>"u"&&(a=1/0);function g(E,S){if(E===null)return null;if(S===0)return E;var N,_;if(typeof E!="object")return E;if(m(E,y))N=new y;else if(m(E,b))N=new b;else if(m(E,v))N=new v(function(C,A){E.then(function(L){C(g(L,S-1))},function(L){A(g(L,S-1))})});else if(x.__isArray(E))N=[];else if(x.__isRegExp(E))N=new RegExp(E.source,o(E)),E.lastIndex&&(N.lastIndex=E.lastIndex);else if(x.__isDate(E))N=new Date(E.getTime());else{if(O&&Buffer.isBuffer(E))return Buffer.allocUnsafe?N=Buffer.allocUnsafe(E.length):N=new Buffer(E.length),E.copy(N),N;m(E,Error)?N=Object.create(E):typeof i>"u"?(_=Object.getPrototypeOf(E),N=Object.create(_)):(N=Object.create(i),_=i)}if(s){var h=r.indexOf(E);if(h!=-1)return p[h];r.push(E),p.push(N)}m(E,y)&&E.forEach(function(C,A){var L=g(A,S-1),M=g(C,S-1);N.set(L,M)}),m(E,b)&&E.forEach(function(C){var A=g(C,S-1);N.add(A)});for(var j in E){var T;_&&(T=Object.getOwnPropertyDescriptor(_,j)),!(T&&T.set==null)&&(N[j]=g(E[j],S-1))}if(Object.getOwnPropertySymbols)for(var P=Object.getOwnPropertySymbols(E),j=0;j<P.length;j++){var D=P[j],U=Object.getOwnPropertyDescriptor(E,D);U&&!U.enumerable&&!d||(N[D]=g(E[D],S-1),U.enumerable||Object.defineProperty(N,D,{enumerable:!1}))}if(d)for(var Y=Object.getOwnPropertyNames(E),j=0;j<Y.length;j++){var B=Y[j],U=Object.getOwnPropertyDescriptor(E,B);U&&U.enumerable||(N[B]=g(E[B],S-1),Object.defineProperty(N,B,{enumerable:!1}))}return N}return g(l,a)}x.clonePrototype=function(s){if(s===null)return null;var a=function(){};return a.prototype=s,new a};function c(l){return Object.prototype.toString.call(l)}x.__objToStr=c;function n(l){return typeof l=="object"&&c(l)==="[object Date]"}x.__isDate=n;function e(l){return typeof l=="object"&&c(l)==="[object Array]"}x.__isArray=e;function t(l){return typeof l=="object"&&c(l)==="[object RegExp]"}x.__isRegExp=t;function o(l){var s="";return l.global&&(s+="g"),l.ignoreCase&&(s+="i"),l.multiline&&(s+="m"),s}return x.__getRegExpFlags=o,x})();typeof k=="object"&&k.exports&&(k.exports=u)}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=(function(){function N(_,h){var j=[],T=!0,P=!1,D=void 0;try{for(var U=_[Symbol.iterator](),Y;!(T=(Y=U.next()).done)&&(j.push(Y.value),!(h&&j.length===h));T=!0);}catch(B){P=!0,D=B}finally{try{!T&&U.return&&U.return()}finally{if(P)throw D}}return j}return function(_,h){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return N(_,h);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),y=(function(){function N(_,h){for(var j=0;j<h.length;j++){var T=h[j];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}return function(_,h,j){return h&&N(_.prototype,h),j&&N(_,j),_}})(),b=function N(_,h,j){_===null&&(_=Function.prototype);var T=Object.getOwnPropertyDescriptor(_,h);if(T===void 0){var P=Object.getPrototypeOf(_);return P===null?void 0:N(P,h,j)}else{if("value"in T)return T.value;var D=T.get;return D===void 0?void 0:D.call(j)}},v=u(0),x=r(v),c=u(8),n=r(c),e=u(4),t=r(e),o=u(16),l=r(o),s=u(13),a=r(s),i=u(25),d=r(i);function r(N){return N&&N.__esModule?N:{default:N}}function p(N,_){if(!(N instanceof _))throw new TypeError("Cannot call a class as a function")}function O(N,_){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:N}function g(N,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);N.prototype=Object.create(_&&_.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(N,_):N.__proto__=_)}function E(N){return N instanceof t.default||N instanceof e.BlockEmbed}var S=(function(N){g(_,N);function _(h,j){p(this,_);var T=O(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,h));return T.emitter=j.emitter,Array.isArray(j.whitelist)&&(T.whitelist=j.whitelist.reduce(function(P,D){return P[D]=!0,P},{})),T.domNode.addEventListener("DOMNodeInserted",function(){}),T.optimize(),T.enable(),T}return y(_,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(j,T){var P=this.line(j),D=m(P,2),U=D[0],Y=D[1],B=this.line(j+T),C=m(B,1),A=C[0];if(b(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"deleteAt",this).call(this,j,T),A!=null&&U!==A&&Y>0){if(U instanceof e.BlockEmbed||A instanceof e.BlockEmbed){this.optimize();return}if(U instanceof a.default){var L=U.newlineIndex(U.length(),!0);if(L>-1&&(U=U.split(L+1),U===A)){this.optimize();return}}else if(A instanceof a.default){var M=A.newlineIndex(0);M>-1&&A.split(M+1)}var K=A.children.head instanceof l.default?null:A.children.head;U.moveChildren(A,K),U.remove()}this.optimize()}},{key:"enable",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",j)}},{key:"formatAt",value:function(j,T,P,D){this.whitelist!=null&&!this.whitelist[P]||(b(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"formatAt",this).call(this,j,T,P,D),this.optimize())}},{key:"insertAt",value:function(j,T,P){if(!(P!=null&&this.whitelist!=null&&!this.whitelist[T])){if(j>=this.length())if(P==null||x.default.query(T,x.default.Scope.BLOCK)==null){var D=x.default.create(this.statics.defaultChild);this.appendChild(D),P==null&&T.endsWith(`
`)&&(T=T.slice(0,-1)),D.insertAt(0,T,P)}else{var U=x.default.create(T,P);this.appendChild(U)}else b(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertAt",this).call(this,j,T,P);this.optimize()}}},{key:"insertBefore",value:function(j,T){if(j.statics.scope===x.default.Scope.INLINE_BLOT){var P=x.default.create(this.statics.defaultChild);P.appendChild(j),j=P}b(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertBefore",this).call(this,j,T)}},{key:"leaf",value:function(j){return this.path(j).pop()||[null,-1]}},{key:"line",value:function(j){return j===this.length()?this.line(j-1):this.descendant(E,j)}},{key:"lines",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,P=function D(U,Y,B){var C=[],A=B;return U.children.forEachAt(Y,B,function(L,M,K){E(L)?C.push(L):L instanceof x.default.Container&&(C=C.concat(D(L,M,A))),A-=K}),C};return P(this,j,T)}},{key:"optimize",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(b(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,j,T),j.length>0&&this.emitter.emit(n.default.events.SCROLL_OPTIMIZE,j,T))}},{key:"path",value:function(j){return b(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"path",this).call(this,j).slice(1)}},{key:"update",value:function(j){if(this.batch!==!0){var T=n.default.sources.USER;typeof j=="string"&&(T=j),Array.isArray(j)||(j=this.observer.takeRecords()),j.length>0&&this.emitter.emit(n.default.events.SCROLL_BEFORE_UPDATE,T,j),b(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"update",this).call(this,j.concat([])),j.length>0&&this.emitter.emit(n.default.events.SCROLL_UPDATE,T,j)}}}]),_})(x.default.Scroll);S.blotName="scroll",S.className="ql-editor",S.tagName="DIV",S.defaultChild="block",S.allowedChildren=[t.default,e.BlockEmbed,d.default],f.default=S}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0}),f.SHORTKEY=f.default=void 0;var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},y=(function(){function R(F,V){var z=[],X=!0,re=!1,ae=void 0;try{for(var W=F[Symbol.iterator](),ee;!(X=(ee=W.next()).done)&&(z.push(ee.value),!(V&&z.length===V));X=!0);}catch(ne){re=!0,ae=ne}finally{try{!X&&W.return&&W.return()}finally{if(re)throw ae}}return z}return function(F,V){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return R(F,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),b=(function(){function R(F,V){for(var z=0;z<V.length;z++){var X=V[z];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(F,X.key,X)}}return function(F,V,z){return V&&R(F.prototype,V),z&&R(F,z),F}})(),v=u(21),x=N(v),c=u(11),n=N(c),e=u(3),t=N(e),o=u(2),l=N(o),s=u(20),a=N(s),i=u(0),d=N(i),r=u(5),p=N(r),O=u(10),g=N(O),E=u(9),S=N(E);function N(R){return R&&R.__esModule?R:{default:R}}function _(R,F,V){return F in R?Object.defineProperty(R,F,{value:V,enumerable:!0,configurable:!0,writable:!0}):R[F]=V,R}function h(R,F){if(!(R instanceof F))throw new TypeError("Cannot call a class as a function")}function j(R,F){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:R}function T(R,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);R.prototype=Object.create(F&&F.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(R,F):R.__proto__=F)}var P=(0,g.default)("quill:keyboard"),D=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",U=(function(R){T(F,R),b(F,null,[{key:"match",value:function(z,X){return X=H(X),["altKey","ctrlKey","metaKey","shiftKey"].some(function(re){return!!X[re]!==z[re]&&X[re]!==null})?!1:X.key===(z.which||z.keyCode)}}]);function F(V,z){h(this,F);var X=j(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,V,z));return X.bindings={},Object.keys(X.options.bindings).forEach(function(re){re==="list autofill"&&V.scroll.whitelist!=null&&!V.scroll.whitelist.list||X.options.bindings[re]&&X.addBinding(X.options.bindings[re])}),X.addBinding({key:F.keys.ENTER,shiftKey:null},L),X.addBinding({key:F.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(X.addBinding({key:F.keys.BACKSPACE},{collapsed:!0},B),X.addBinding({key:F.keys.DELETE},{collapsed:!0},C)):(X.addBinding({key:F.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},B),X.addBinding({key:F.keys.DELETE},{collapsed:!0,suffix:/^.?$/},C)),X.addBinding({key:F.keys.BACKSPACE},{collapsed:!1},A),X.addBinding({key:F.keys.DELETE},{collapsed:!1},A),X.addBinding({key:F.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},B),X.listen(),X}return b(F,[{key:"addBinding",value:function(z){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ae=H(z);if(ae==null||ae.key==null)return P.warn("Attempted to add invalid keyboard binding",ae);typeof X=="function"&&(X={handler:X}),typeof re=="function"&&(re={handler:re}),ae=(0,t.default)(ae,X,re),this.bindings[ae.key]=this.bindings[ae.key]||[],this.bindings[ae.key].push(ae)}},{key:"listen",value:function(){var z=this;this.quill.root.addEventListener("keydown",function(X){if(!X.defaultPrevented){var re=X.which||X.keyCode,ae=(z.bindings[re]||[]).filter(function(de){return F.match(X,de)});if(ae.length!==0){var W=z.quill.getSelection();if(!(W==null||!z.quill.hasFocus())){var ee=z.quill.getLine(W.index),ne=y(ee,2),ie=ne[0],oe=ne[1],G=z.quill.getLeaf(W.index),Z=y(G,2),$=Z[0],te=Z[1],Q=W.length===0?[$,te]:z.quill.getLeaf(W.index+W.length),le=y(Q,2),se=le[0],ue=le[1],he=$ instanceof d.default.Text?$.value().slice(0,te):"",ye=se instanceof d.default.Text?se.value().slice(ue):"",ce={collapsed:W.length===0,empty:W.length===0&&ie.length()<=1,format:z.quill.getFormat(W),offset:oe,prefix:he,suffix:ye},ka=ae.some(function(de){if(de.collapsed!=null&&de.collapsed!==ce.collapsed||de.empty!=null&&de.empty!==ce.empty||de.offset!=null&&de.offset!==ce.offset)return!1;if(Array.isArray(de.format)){if(de.format.every(function(be){return ce.format[be]==null}))return!1}else if(m(de.format)==="object"&&!Object.keys(de.format).every(function(be){return de.format[be]===!0?ce.format[be]!=null:de.format[be]===!1?ce.format[be]==null:(0,n.default)(de.format[be],ce.format[be])}))return!1;return de.prefix!=null&&!de.prefix.test(ce.prefix)||de.suffix!=null&&!de.suffix.test(ce.suffix)?!1:de.handler.call(z,W,ce)!==!0});ka&&X.preventDefault()}}}})}}]),F})(S.default);U.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},U.DEFAULTS={bindings:{bold:K("bold"),italic:K("italic"),underline:K("underline"),indent:{key:U.keys.TAB,format:["blockquote","indent","list"],handler:function(F,V){if(V.collapsed&&V.offset!==0)return!0;this.quill.format("indent","+1",p.default.sources.USER)}},outdent:{key:U.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(F,V){if(V.collapsed&&V.offset!==0)return!0;this.quill.format("indent","-1",p.default.sources.USER)}},"outdent backspace":{key:U.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(F,V){V.format.indent!=null?this.quill.format("indent","-1",p.default.sources.USER):V.format.list!=null&&this.quill.format("list",!1,p.default.sources.USER)}},"indent code-block":M(!0),"outdent code-block":M(!1),"remove tab":{key:U.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(F){this.quill.deleteText(F.index-1,1,p.default.sources.USER)}},tab:{key:U.keys.TAB,handler:function(F){this.quill.history.cutoff();var V=new l.default().retain(F.index).delete(F.length).insert("	");this.quill.updateContents(V,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(F.index+1,p.default.sources.SILENT)}},"list empty enter":{key:U.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(F,V){this.quill.format("list",!1,p.default.sources.USER),V.format.indent&&this.quill.format("indent",!1,p.default.sources.USER)}},"checklist enter":{key:U.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(F){var V=this.quill.getLine(F.index),z=y(V,2),X=z[0],re=z[1],ae=(0,t.default)({},X.formats(),{list:"checked"}),W=new l.default().retain(F.index).insert(`
`,ae).retain(X.length()-re-1).retain(1,{list:"unchecked"});this.quill.updateContents(W,p.default.sources.USER),this.quill.setSelection(F.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:U.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(F,V){var z=this.quill.getLine(F.index),X=y(z,2),re=X[0],ae=X[1],W=new l.default().retain(F.index).insert(`
`,V.format).retain(re.length()-ae-1).retain(1,{header:null});this.quill.updateContents(W,p.default.sources.USER),this.quill.setSelection(F.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(F,V){var z=V.prefix.length,X=this.quill.getLine(F.index),re=y(X,2),ae=re[0],W=re[1];if(W>z)return!0;var ee=void 0;switch(V.prefix.trim()){case"[]":case"[ ]":ee="unchecked";break;case"[x]":ee="checked";break;case"-":case"*":ee="bullet";break;default:ee="ordered"}this.quill.insertText(F.index," ",p.default.sources.USER),this.quill.history.cutoff();var ne=new l.default().retain(F.index-W).delete(z+1).retain(ae.length()-2-W).retain(1,{list:ee});this.quill.updateContents(ne,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(F.index-z,p.default.sources.SILENT)}},"code exit":{key:U.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(F){var V=this.quill.getLine(F.index),z=y(V,2),X=z[0],re=z[1],ae=new l.default().retain(F.index+X.length()-re-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ae,p.default.sources.USER)}},"embed left":Y(U.keys.LEFT,!1),"embed left shift":Y(U.keys.LEFT,!0),"embed right":Y(U.keys.RIGHT,!1),"embed right shift":Y(U.keys.RIGHT,!0)}};function Y(R,F){var V,z=R===U.keys.LEFT?"prefix":"suffix";return V={key:R,shiftKey:F,altKey:null},_(V,z,/^$/),_(V,"handler",function(re){var ae=re.index;R===U.keys.RIGHT&&(ae+=re.length+1);var W=this.quill.getLeaf(ae),ee=y(W,1),ne=ee[0];return ne instanceof d.default.Embed?(R===U.keys.LEFT?F?this.quill.setSelection(re.index-1,re.length+1,p.default.sources.USER):this.quill.setSelection(re.index-1,p.default.sources.USER):F?this.quill.setSelection(re.index,re.length+1,p.default.sources.USER):this.quill.setSelection(re.index+re.length+1,p.default.sources.USER),!1):!0}),V}function B(R,F){if(!(R.index===0||this.quill.getLength()<=1)){var V=this.quill.getLine(R.index),z=y(V,1),X=z[0],re={};if(F.offset===0){var ae=this.quill.getLine(R.index-1),W=y(ae,1),ee=W[0];if(ee!=null&&ee.length()>1){var ne=X.formats(),ie=this.quill.getFormat(R.index-1,1);re=a.default.attributes.diff(ne,ie)||{}}}var oe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(F.prefix)?2:1;this.quill.deleteText(R.index-oe,oe,p.default.sources.USER),Object.keys(re).length>0&&this.quill.formatLine(R.index-oe,oe,re,p.default.sources.USER),this.quill.focus()}}function C(R,F){var V=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(F.suffix)?2:1;if(!(R.index>=this.quill.getLength()-V)){var z={},X=0,re=this.quill.getLine(R.index),ae=y(re,1),W=ae[0];if(F.offset>=W.length()-1){var ee=this.quill.getLine(R.index+1),ne=y(ee,1),ie=ne[0];if(ie){var oe=W.formats(),G=this.quill.getFormat(R.index,1);z=a.default.attributes.diff(oe,G)||{},X=ie.length()}}this.quill.deleteText(R.index,V,p.default.sources.USER),Object.keys(z).length>0&&this.quill.formatLine(R.index+X-1,V,z,p.default.sources.USER)}}function A(R){var F=this.quill.getLines(R),V={};if(F.length>1){var z=F[0].formats(),X=F[F.length-1].formats();V=a.default.attributes.diff(X,z)||{}}this.quill.deleteText(R,p.default.sources.USER),Object.keys(V).length>0&&this.quill.formatLine(R.index,1,V,p.default.sources.USER),this.quill.setSelection(R.index,p.default.sources.SILENT),this.quill.focus()}function L(R,F){var V=this;R.length>0&&this.quill.scroll.deleteAt(R.index,R.length);var z=Object.keys(F.format).reduce(function(X,re){return d.default.query(re,d.default.Scope.BLOCK)&&!Array.isArray(F.format[re])&&(X[re]=F.format[re]),X},{});this.quill.insertText(R.index,`
`,z,p.default.sources.USER),this.quill.setSelection(R.index+1,p.default.sources.SILENT),this.quill.focus(),Object.keys(F.format).forEach(function(X){z[X]==null&&(Array.isArray(F.format[X])||X!=="link"&&V.quill.format(X,F.format[X],p.default.sources.USER))})}function M(R){return{key:U.keys.TAB,shiftKey:!R,format:{"code-block":!0},handler:function(V){var z=d.default.query("code-block"),X=V.index,re=V.length,ae=this.quill.scroll.descendant(z,X),W=y(ae,2),ee=W[0],ne=W[1];if(ee!=null){var ie=this.quill.getIndex(ee),oe=ee.newlineIndex(ne,!0)+1,G=ee.newlineIndex(ie+ne+re),Z=ee.domNode.textContent.slice(oe,G).split(`
`);ne=0,Z.forEach(function($,te){R?(ee.insertAt(oe+ne,z.TAB),ne+=z.TAB.length,te===0?X+=z.TAB.length:re+=z.TAB.length):$.startsWith(z.TAB)&&(ee.deleteAt(oe+ne,z.TAB.length),ne-=z.TAB.length,te===0?X-=z.TAB.length:re-=z.TAB.length),ne+=$.length+1}),this.quill.update(p.default.sources.USER),this.quill.setSelection(X,re,p.default.sources.SILENT)}}}}function K(R){return{key:R[0].toUpperCase(),shortKey:!0,handler:function(V,z){this.quill.format(R,!z.format[R],p.default.sources.USER)}}}function H(R){if(typeof R=="string"||typeof R=="number")return H({key:R});if((typeof R>"u"?"undefined":m(R))==="object"&&(R=(0,x.default)(R,!1)),typeof R.key=="string")if(U.keys[R.key.toUpperCase()]!=null)R.key=U.keys[R.key.toUpperCase()];else if(R.key.length===1)R.key=R.key.toUpperCase().charCodeAt(0);else return null;return R.shortKey&&(R[D]=R.shortKey,delete R.shortKey),R}f.default=U,f.SHORTKEY=D}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=(function(){function a(i,d){var r=[],p=!0,O=!1,g=void 0;try{for(var E=i[Symbol.iterator](),S;!(p=(S=E.next()).done)&&(r.push(S.value),!(d&&r.length===d));p=!0);}catch(N){O=!0,g=N}finally{try{!p&&E.return&&E.return()}finally{if(O)throw g}}return r}return function(i,d){if(Array.isArray(i))return i;if(Symbol.iterator in Object(i))return a(i,d);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),y=function a(i,d,r){i===null&&(i=Function.prototype);var p=Object.getOwnPropertyDescriptor(i,d);if(p===void 0){var O=Object.getPrototypeOf(i);return O===null?void 0:a(O,d,r)}else{if("value"in p)return p.value;var g=p.get;return g===void 0?void 0:g.call(r)}},b=(function(){function a(i,d){for(var r=0;r<d.length;r++){var p=d[r];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(i,p.key,p)}}return function(i,d,r){return d&&a(i.prototype,d),r&&a(i,r),i}})(),v=u(0),x=e(v),c=u(7),n=e(c);function e(a){return a&&a.__esModule?a:{default:a}}function t(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}function o(a,i){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:a}function l(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(a,i):a.__proto__=i)}var s=(function(a){l(i,a),b(i,null,[{key:"value",value:function(){}}]);function i(d,r){t(this,i);var p=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,d));return p.selection=r,p.textNode=document.createTextNode(i.CONTENTS),p.domNode.appendChild(p.textNode),p._length=0,p}return b(i,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(r,p){if(this._length!==0)return y(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"format",this).call(this,r,p);for(var O=this,g=0;O!=null&&O.statics.scope!==x.default.Scope.BLOCK_BLOT;)g+=O.offset(O.parent),O=O.parent;O!=null&&(this._length=i.CONTENTS.length,O.optimize(),O.formatAt(g,i.CONTENTS.length,r,p),this._length=0)}},{key:"index",value:function(r,p){return r===this.textNode?0:y(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"index",this).call(this,r,p)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){y(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var r=this.textNode,p=this.selection.getNativeRange(),O=void 0,g=void 0,E=void 0;if(p!=null&&p.start.node===r&&p.end.node===r){var S=[r,p.start.offset,p.end.offset];O=S[0],g=S[1],E=S[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==i.CONTENTS){var N=this.textNode.data.split(i.CONTENTS).join("");this.next instanceof n.default?(O=this.next.domNode,this.next.insertAt(0,N),this.textNode.data=i.CONTENTS):(this.textNode.data=N,this.parent.insertBefore(x.default.create(this.textNode),this),this.textNode=document.createTextNode(i.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),g!=null){var _=[g,E].map(function(j){return Math.max(0,Math.min(O.data.length,j-1))}),h=m(_,2);return g=h[0],E=h[1],{startNode:O,startOffset:g,endNode:O,endOffset:E}}}}},{key:"update",value:function(r,p){var O=this;if(r.some(function(E){return E.type==="characterData"&&E.target===O.textNode})){var g=this.restore();g&&(p.range=g)}}},{key:"value",value:function(){return""}}]),i})(x.default.Embed);s.blotName="cursor",s.className="ql-cursor",s.tagName="span",s.CONTENTS="\uFEFF",f.default=s}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=u(0),y=x(m),b=u(4),v=x(b);function x(o){return o&&o.__esModule?o:{default:o}}function c(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}function n(o,l){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:o}function e(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);o.prototype=Object.create(l&&l.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(o,l):o.__proto__=l)}var t=(function(o){e(l,o);function l(){return c(this,l),n(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return l})(y.default.Container);t.allowedChildren=[v.default,b.BlockEmbed,t],f.default=t}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0}),f.ColorStyle=f.ColorClass=f.ColorAttributor=void 0;var m=(function(){function s(a,i){for(var d=0;d<i.length;d++){var r=i[d];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}return function(a,i,d){return i&&s(a.prototype,i),d&&s(a,d),a}})(),y=function s(a,i,d){a===null&&(a=Function.prototype);var r=Object.getOwnPropertyDescriptor(a,i);if(r===void 0){var p=Object.getPrototypeOf(a);return p===null?void 0:s(p,i,d)}else{if("value"in r)return r.value;var O=r.get;return O===void 0?void 0:O.call(d)}},b=u(0),v=x(b);function x(s){return s&&s.__esModule?s:{default:s}}function c(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function n(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:s}function e(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}var t=(function(s){e(a,s);function a(){return c(this,a),n(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,[{key:"value",value:function(d){var r=y(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"value",this).call(this,d);return r.startsWith("rgb(")?(r=r.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+r.split(",").map(function(p){return("00"+parseInt(p).toString(16)).slice(-2)}).join("")):r}}]),a})(v.default.Attributor.Style),o=new v.default.Attributor.Class("color","ql-color",{scope:v.default.Scope.INLINE}),l=new t("color","color",{scope:v.default.Scope.INLINE});f.ColorAttributor=t,f.ColorClass=o,f.ColorStyle=l}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0}),f.sanitize=f.default=void 0;var m=(function(){function l(s,a){for(var i=0;i<a.length;i++){var d=a[i];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(s,d.key,d)}}return function(s,a,i){return a&&l(s.prototype,a),i&&l(s,i),s}})(),y=function l(s,a,i){s===null&&(s=Function.prototype);var d=Object.getOwnPropertyDescriptor(s,a);if(d===void 0){var r=Object.getPrototypeOf(s);return r===null?void 0:l(r,a,i)}else{if("value"in d)return d.value;var p=d.get;return p===void 0?void 0:p.call(i)}},b=u(6),v=x(b);function x(l){return l&&l.__esModule?l:{default:l}}function c(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}function n(l,s){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:l}function e(l,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);l.prototype=Object.create(s&&s.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(l,s):l.__proto__=s)}var t=(function(l){e(s,l);function s(){return c(this,s),n(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return m(s,[{key:"format",value:function(i,d){if(i!==this.statics.blotName||!d)return y(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"format",this).call(this,i,d);d=this.constructor.sanitize(d),this.domNode.setAttribute("href",d)}}],[{key:"create",value:function(i){var d=y(s.__proto__||Object.getPrototypeOf(s),"create",this).call(this,i);return i=this.sanitize(i),d.setAttribute("href",i),d.setAttribute("rel","noopener noreferrer"),d.setAttribute("target","_blank"),d}},{key:"formats",value:function(i){return i.getAttribute("href")}},{key:"sanitize",value:function(i){return o(i,this.PROTOCOL_WHITELIST)?i:this.SANITIZED_URL}}]),s})(v.default);t.blotName="link",t.tagName="A",t.SANITIZED_URL="about:blank",t.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function o(l,s){var a=document.createElement("a");a.href=l;var i=a.href.slice(0,a.href.indexOf(":"));return s.indexOf(i)>-1}f.default=t,f.sanitize=o}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},y=(function(){function s(a,i){for(var d=0;d<i.length;d++){var r=i[d];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}return function(a,i,d){return i&&s(a.prototype,i),d&&s(a,d),a}})(),b=u(23),v=n(b),x=u(107),c=n(x);function n(s){return s&&s.__esModule?s:{default:s}}function e(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}var t=0;function o(s,a){s.setAttribute(a,s.getAttribute(a)!=="true")}var l=(function(){function s(a){var i=this;e(this,s),this.select=a,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){i.togglePicker()}),this.label.addEventListener("keydown",function(d){switch(d.keyCode){case v.default.keys.ENTER:i.togglePicker();break;case v.default.keys.ESCAPE:i.escape(),d.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return y(s,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),o(this.label,"aria-expanded"),o(this.options,"aria-hidden")}},{key:"buildItem",value:function(i){var d=this,r=document.createElement("span");return r.tabIndex="0",r.setAttribute("role","button"),r.classList.add("ql-picker-item"),i.hasAttribute("value")&&r.setAttribute("data-value",i.getAttribute("value")),i.textContent&&r.setAttribute("data-label",i.textContent),r.addEventListener("click",function(){d.selectItem(r,!0)}),r.addEventListener("keydown",function(p){switch(p.keyCode){case v.default.keys.ENTER:d.selectItem(r,!0),p.preventDefault();break;case v.default.keys.ESCAPE:d.escape(),p.preventDefault();break}}),r}},{key:"buildLabel",value:function(){var i=document.createElement("span");return i.classList.add("ql-picker-label"),i.innerHTML=c.default,i.tabIndex="0",i.setAttribute("role","button"),i.setAttribute("aria-expanded","false"),this.container.appendChild(i),i}},{key:"buildOptions",value:function(){var i=this,d=document.createElement("span");d.classList.add("ql-picker-options"),d.setAttribute("aria-hidden","true"),d.tabIndex="-1",d.id="ql-picker-options-"+t,t+=1,this.label.setAttribute("aria-controls",d.id),this.options=d,[].slice.call(this.select.options).forEach(function(r){var p=i.buildItem(r);d.appendChild(p),r.selected===!0&&i.selectItem(p)}),this.container.appendChild(d)}},{key:"buildPicker",value:function(){var i=this;[].slice.call(this.select.attributes).forEach(function(d){i.container.setAttribute(d.name,d.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var i=this;this.close(),setTimeout(function(){return i.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(i){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=this.container.querySelector(".ql-selected");if(i!==r&&(r!=null&&r.classList.remove("ql-selected"),i!=null&&(i.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(i.parentNode.children,i),i.hasAttribute("data-value")?this.label.setAttribute("data-value",i.getAttribute("data-value")):this.label.removeAttribute("data-value"),i.hasAttribute("data-label")?this.label.setAttribute("data-label",i.getAttribute("data-label")):this.label.removeAttribute("data-label"),d))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":m(Event))==="object"){var p=document.createEvent("Event");p.initEvent("change",!0,!0),this.select.dispatchEvent(p)}this.close()}}},{key:"update",value:function(){var i=void 0;if(this.select.selectedIndex>-1){var d=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];i=this.select.options[this.select.selectedIndex],this.selectItem(d)}else this.selectItem(null);var r=i!=null&&i!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}]),s})();f.default=l}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=u(0),y=P(m),b=u(5),v=P(b),x=u(4),c=P(x),n=u(16),e=P(n),t=u(25),o=P(t),l=u(24),s=P(l),a=u(35),i=P(a),d=u(6),r=P(d),p=u(22),O=P(p),g=u(7),E=P(g),S=u(55),N=P(S),_=u(42),h=P(_),j=u(23),T=P(j);function P(D){return D&&D.__esModule?D:{default:D}}v.default.register({"blots/block":c.default,"blots/block/embed":x.BlockEmbed,"blots/break":e.default,"blots/container":o.default,"blots/cursor":s.default,"blots/embed":i.default,"blots/inline":r.default,"blots/scroll":O.default,"blots/text":E.default,"modules/clipboard":N.default,"modules/history":h.default,"modules/keyboard":T.default}),y.default.register(c.default,e.default,s.default,r.default,O.default,E.default),f.default=v.default}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=u(1),y=(function(){function b(v){this.domNode=v,this.domNode[m.DATA_KEY]={blot:this}}return Object.defineProperty(b.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),b.create=function(v){if(this.tagName==null)throw new m.ParchmentError("Blot definition missing tagName");var x;return Array.isArray(this.tagName)?(typeof v=="string"&&(v=v.toUpperCase(),parseInt(v).toString()===v&&(v=parseInt(v))),typeof v=="number"?x=document.createElement(this.tagName[v-1]):this.tagName.indexOf(v)>-1?x=document.createElement(v):x=document.createElement(this.tagName[0])):x=document.createElement(this.tagName),this.className&&x.classList.add(this.className),x},b.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},b.prototype.clone=function(){var v=this.domNode.cloneNode(!1);return m.create(v)},b.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[m.DATA_KEY]},b.prototype.deleteAt=function(v,x){var c=this.isolate(v,x);c.remove()},b.prototype.formatAt=function(v,x,c,n){var e=this.isolate(v,x);if(m.query(c,m.Scope.BLOT)!=null&&n)e.wrap(c,n);else if(m.query(c,m.Scope.ATTRIBUTE)!=null){var t=m.create(this.statics.scope);e.wrap(t),t.format(c,n)}},b.prototype.insertAt=function(v,x,c){var n=c==null?m.create("text",x):m.create(x,c),e=this.split(v);this.parent.insertBefore(n,e)},b.prototype.insertInto=function(v,x){x===void 0&&(x=null),this.parent!=null&&this.parent.children.remove(this);var c=null;v.children.insertBefore(this,x),x!=null&&(c=x.domNode),(this.domNode.parentNode!=v.domNode||this.domNode.nextSibling!=c)&&v.domNode.insertBefore(this.domNode,c),this.parent=v,this.attach()},b.prototype.isolate=function(v,x){var c=this.split(v);return c.split(x),c},b.prototype.length=function(){return 1},b.prototype.offset=function(v){return v===void 0&&(v=this.parent),this.parent==null||this==v?0:this.parent.children.offset(this)+this.parent.offset(v)},b.prototype.optimize=function(v){this.domNode[m.DATA_KEY]!=null&&delete this.domNode[m.DATA_KEY].mutations},b.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},b.prototype.replace=function(v){v.parent!=null&&(v.parent.insertBefore(this,v.next),v.remove())},b.prototype.replaceWith=function(v,x){var c=typeof v=="string"?m.create(v,x):v;return c.replace(this),c},b.prototype.split=function(v,x){return v===0?this:this.next},b.prototype.update=function(v,x){},b.prototype.wrap=function(v,x){var c=typeof v=="string"?m.create(v,x):v;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},b.blotName="abstract",b})();f.default=y}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=u(12),y=u(32),b=u(33),v=u(1),x=(function(){function c(n){this.attributes={},this.domNode=n,this.build()}return c.prototype.attribute=function(n,e){e?n.add(this.domNode,e)&&(n.value(this.domNode)!=null?this.attributes[n.attrName]=n:delete this.attributes[n.attrName]):(n.remove(this.domNode),delete this.attributes[n.attrName])},c.prototype.build=function(){var n=this;this.attributes={};var e=m.default.keys(this.domNode),t=y.default.keys(this.domNode),o=b.default.keys(this.domNode);e.concat(t).concat(o).forEach(function(l){var s=v.query(l,v.Scope.ATTRIBUTE);s instanceof m.default&&(n.attributes[s.attrName]=s)})},c.prototype.copy=function(n){var e=this;Object.keys(this.attributes).forEach(function(t){var o=e.attributes[t].value(e.domNode);n.format(t,o)})},c.prototype.move=function(n){var e=this;this.copy(n),Object.keys(this.attributes).forEach(function(t){e.attributes[t].remove(e.domNode)}),this.attributes={}},c.prototype.values=function(){var n=this;return Object.keys(this.attributes).reduce(function(e,t){return e[t]=n.attributes[t].value(n.domNode),e},{})},c})();f.default=x}),(function(k,f,u){var m=this&&this.__extends||(function(){var x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,n){c.__proto__=n}||function(c,n){for(var e in n)n.hasOwnProperty(e)&&(c[e]=n[e])};return function(c,n){x(c,n);function e(){this.constructor=c}c.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}})();Object.defineProperty(f,"__esModule",{value:!0});var y=u(12);function b(x,c){var n=x.getAttribute("class")||"";return n.split(/\s+/).filter(function(e){return e.indexOf(c+"-")===0})}var v=(function(x){m(c,x);function c(){return x!==null&&x.apply(this,arguments)||this}return c.keys=function(n){return(n.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},c.prototype.add=function(n,e){return this.canAdd(n,e)?(this.remove(n),n.classList.add(this.keyName+"-"+e),!0):!1},c.prototype.remove=function(n){var e=b(n,this.keyName);e.forEach(function(t){n.classList.remove(t)}),n.classList.length===0&&n.removeAttribute("class")},c.prototype.value=function(n){var e=b(n,this.keyName)[0]||"",t=e.slice(this.keyName.length+1);return this.canAdd(n,t)?t:""},c})(y.default);f.default=v}),(function(k,f,u){var m=this&&this.__extends||(function(){var x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,n){c.__proto__=n}||function(c,n){for(var e in n)n.hasOwnProperty(e)&&(c[e]=n[e])};return function(c,n){x(c,n);function e(){this.constructor=c}c.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}})();Object.defineProperty(f,"__esModule",{value:!0});var y=u(12);function b(x){var c=x.split("-"),n=c.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return c[0]+n}var v=(function(x){m(c,x);function c(){return x!==null&&x.apply(this,arguments)||this}return c.keys=function(n){return(n.getAttribute("style")||"").split(";").map(function(e){var t=e.split(":");return t[0].trim()})},c.prototype.add=function(n,e){return this.canAdd(n,e)?(n.style[b(this.keyName)]=e,!0):!1},c.prototype.remove=function(n){n.style[b(this.keyName)]="",n.getAttribute("style")||n.removeAttribute("style")},c.prototype.value=function(n){var e=n.style[b(this.keyName)];return this.canAdd(n,e)?e:""},c})(y.default);f.default=v}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=(function(){function v(x,c){for(var n=0;n<c.length;n++){var e=c[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(x,e.key,e)}}return function(x,c,n){return c&&v(x.prototype,c),n&&v(x,n),x}})();function y(v,x){if(!(v instanceof x))throw new TypeError("Cannot call a class as a function")}var b=(function(){function v(x,c){y(this,v),this.quill=x,this.options=c,this.modules={}}return m(v,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(n){c.modules[n]==null&&c.addModule(n)})}},{key:"addModule",value:function(c){var n=this.quill.constructor.import("modules/"+c);return this.modules[c]=new n(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),v})();b.DEFAULTS={modules:{}},b.themes={default:b},f.default=b}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=(function(){function a(i,d){for(var r=0;r<d.length;r++){var p=d[r];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(i,p.key,p)}}return function(i,d,r){return d&&a(i.prototype,d),r&&a(i,r),i}})(),y=function a(i,d,r){i===null&&(i=Function.prototype);var p=Object.getOwnPropertyDescriptor(i,d);if(p===void 0){var O=Object.getPrototypeOf(i);return O===null?void 0:a(O,d,r)}else{if("value"in p)return p.value;var g=p.get;return g===void 0?void 0:g.call(r)}},b=u(0),v=n(b),x=u(7),c=n(x);function n(a){return a&&a.__esModule?a:{default:a}}function e(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}function t(a,i){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:a}function o(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(a,i):a.__proto__=i)}var l="\uFEFF",s=(function(a){o(i,a);function i(d){e(this,i);var r=t(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,d));return r.contentNode=document.createElement("span"),r.contentNode.setAttribute("contenteditable",!1),[].slice.call(r.domNode.childNodes).forEach(function(p){r.contentNode.appendChild(p)}),r.leftGuard=document.createTextNode(l),r.rightGuard=document.createTextNode(l),r.domNode.appendChild(r.leftGuard),r.domNode.appendChild(r.contentNode),r.domNode.appendChild(r.rightGuard),r}return m(i,[{key:"index",value:function(r,p){return r===this.leftGuard?0:r===this.rightGuard?1:y(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"index",this).call(this,r,p)}},{key:"restore",value:function(r){var p=void 0,O=void 0,g=r.data.split(l).join("");if(r===this.leftGuard)if(this.prev instanceof c.default){var E=this.prev.length();this.prev.insertAt(E,g),p={startNode:this.prev.domNode,startOffset:E+g.length}}else O=document.createTextNode(g),this.parent.insertBefore(v.default.create(O),this),p={startNode:O,startOffset:g.length};else r===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,g),p={startNode:this.next.domNode,startOffset:g.length}):(O=document.createTextNode(g),this.parent.insertBefore(v.default.create(O),this.next),p={startNode:O,startOffset:g.length}));return r.data=l,p}},{key:"update",value:function(r,p){var O=this;r.forEach(function(g){if(g.type==="characterData"&&(g.target===O.leftGuard||g.target===O.rightGuard)){var E=O.restore(g.target);E&&(p.range=E)}})}}]),i})(v.default.Embed);f.default=s}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0}),f.AlignStyle=f.AlignClass=f.AlignAttribute=void 0;var m=u(0),y=b(m);function b(e){return e&&e.__esModule?e:{default:e}}var v={scope:y.default.Scope.BLOCK,whitelist:["right","center","justify"]},x=new y.default.Attributor.Attribute("align","align",v),c=new y.default.Attributor.Class("align","ql-align",v),n=new y.default.Attributor.Style("align","text-align",v);f.AlignAttribute=x,f.AlignClass=c,f.AlignStyle=n}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0}),f.BackgroundStyle=f.BackgroundClass=void 0;var m=u(0),y=v(m),b=u(26);function v(n){return n&&n.__esModule?n:{default:n}}var x=new y.default.Attributor.Class("background","ql-bg",{scope:y.default.Scope.INLINE}),c=new b.ColorAttributor("background","background-color",{scope:y.default.Scope.INLINE});f.BackgroundClass=x,f.BackgroundStyle=c}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0}),f.DirectionStyle=f.DirectionClass=f.DirectionAttribute=void 0;var m=u(0),y=b(m);function b(e){return e&&e.__esModule?e:{default:e}}var v={scope:y.default.Scope.BLOCK,whitelist:["rtl"]},x=new y.default.Attributor.Attribute("direction","dir",v),c=new y.default.Attributor.Class("direction","ql-direction",v),n=new y.default.Attributor.Style("direction","direction",v);f.DirectionAttribute=x,f.DirectionClass=c,f.DirectionStyle=n}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0}),f.FontClass=f.FontStyle=void 0;var m=(function(){function a(i,d){for(var r=0;r<d.length;r++){var p=d[r];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(i,p.key,p)}}return function(i,d,r){return d&&a(i.prototype,d),r&&a(i,r),i}})(),y=function a(i,d,r){i===null&&(i=Function.prototype);var p=Object.getOwnPropertyDescriptor(i,d);if(p===void 0){var O=Object.getPrototypeOf(i);return O===null?void 0:a(O,d,r)}else{if("value"in p)return p.value;var g=p.get;return g===void 0?void 0:g.call(r)}},b=u(0),v=x(b);function x(a){return a&&a.__esModule?a:{default:a}}function c(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}function n(a,i){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:a}function e(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(a,i):a.__proto__=i)}var t={scope:v.default.Scope.INLINE,whitelist:["serif","monospace"]},o=new v.default.Attributor.Class("font","ql-font",t),l=(function(a){e(i,a);function i(){return c(this,i),n(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return m(i,[{key:"value",value:function(r){return y(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"value",this).call(this,r).replace(/["']/g,"")}}]),i})(v.default.Attributor.Style),s=new l("font","font-family",t);f.FontStyle=s,f.FontClass=o}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0}),f.SizeStyle=f.SizeClass=void 0;var m=u(0),y=b(m);function b(c){return c&&c.__esModule?c:{default:c}}var v=new y.default.Attributor.Class("size","ql-size",{scope:y.default.Scope.INLINE,whitelist:["small","large","huge"]}),x=new y.default.Attributor.Style("size","font-size",{scope:y.default.Scope.INLINE,whitelist:["10px","18px","32px"]});f.SizeClass=v,f.SizeStyle=x}),(function(k,f,u){k.exports={align:{"":u(76),center:u(77),right:u(78),justify:u(79)},background:u(80),blockquote:u(81),bold:u(82),clean:u(83),code:u(58),"code-block":u(58),color:u(84),direction:{"":u(85),rtl:u(86)},float:{center:u(87),full:u(88),left:u(89),right:u(90)},formula:u(91),header:{1:u(92),2:u(93)},italic:u(94),image:u(95),indent:{"+1":u(96),"-1":u(97)},link:u(98),list:{ordered:u(99),bullet:u(100),check:u(101)},script:{sub:u(102),super:u(103)},strike:u(104),underline:u(105),video:u(106)}}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0}),f.getLastChangeIndex=f.default=void 0;var m=(function(){function d(r,p){for(var O=0;O<p.length;O++){var g=p[O];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(r,g.key,g)}}return function(r,p,O){return p&&d(r.prototype,p),O&&d(r,O),r}})(),y=u(0),b=e(y),v=u(5),x=e(v),c=u(9),n=e(c);function e(d){return d&&d.__esModule?d:{default:d}}function t(d,r){if(!(d instanceof r))throw new TypeError("Cannot call a class as a function")}function o(d,r){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:d}function l(d,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);d.prototype=Object.create(r&&r.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(d,r):d.__proto__=r)}var s=(function(d){l(r,d);function r(p,O){t(this,r);var g=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,p,O));return g.lastRecorded=0,g.ignoreChange=!1,g.clear(),g.quill.on(x.default.events.EDITOR_CHANGE,function(E,S,N,_){E!==x.default.events.TEXT_CHANGE||g.ignoreChange||(!g.options.userOnly||_===x.default.sources.USER?g.record(S,N):g.transform(S))}),g.quill.keyboard.addBinding({key:"Z",shortKey:!0},g.undo.bind(g)),g.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},g.redo.bind(g)),/Win/i.test(navigator.platform)&&g.quill.keyboard.addBinding({key:"Y",shortKey:!0},g.redo.bind(g)),g}return m(r,[{key:"change",value:function(O,g){if(this.stack[O].length!==0){var E=this.stack[O].pop();this.stack[g].push(E),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(E[O],x.default.sources.USER),this.ignoreChange=!1;var S=i(E[O]);this.quill.setSelection(S)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(O,g){if(O.ops.length!==0){this.stack.redo=[];var E=this.quill.getContents().diff(g),S=Date.now();if(this.lastRecorded+this.options.delay>S&&this.stack.undo.length>0){var N=this.stack.undo.pop();E=E.compose(N.undo),O=N.redo.compose(O)}else this.lastRecorded=S;this.stack.undo.push({redo:O,undo:E}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(O){this.stack.undo.forEach(function(g){g.undo=O.transform(g.undo,!0),g.redo=O.transform(g.redo,!0)}),this.stack.redo.forEach(function(g){g.undo=O.transform(g.undo,!0),g.redo=O.transform(g.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),r})(n.default);s.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function a(d){var r=d.ops[d.ops.length-1];return r==null?!1:r.insert!=null?typeof r.insert=="string"&&r.insert.endsWith(`
`):r.attributes!=null?Object.keys(r.attributes).some(function(p){return b.default.query(p,b.default.Scope.BLOCK)!=null}):!1}function i(d){var r=d.reduce(function(O,g){return O+=g.delete||0,O},0),p=d.length()-r;return a(d)&&(p-=1),p}f.default=s,f.getLastChangeIndex=i}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0}),f.default=f.BaseTooltip=void 0;var m=(function(){function L(M,K){for(var H=0;H<K.length;H++){var R=K[H];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(M,R.key,R)}}return function(M,K,H){return K&&L(M.prototype,K),H&&L(M,H),M}})(),y=function L(M,K,H){M===null&&(M=Function.prototype);var R=Object.getOwnPropertyDescriptor(M,K);if(R===void 0){var F=Object.getPrototypeOf(M);return F===null?void 0:L(F,K,H)}else{if("value"in R)return R.value;var V=R.get;return V===void 0?void 0:V.call(H)}},b=u(3),v=S(b),x=u(2),c=S(x),n=u(8),e=S(n),t=u(23),o=S(t),l=u(34),s=S(l),a=u(59),i=S(a),d=u(60),r=S(d),p=u(28),O=S(p),g=u(61),E=S(g);function S(L){return L&&L.__esModule?L:{default:L}}function N(L,M){if(!(L instanceof M))throw new TypeError("Cannot call a class as a function")}function _(L,M){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:L}function h(L,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);L.prototype=Object.create(M&&M.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(L,M):L.__proto__=M)}var j=[!1,"center","right","justify"],T=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],P=[!1,"serif","monospace"],D=["1","2","3",!1],U=["small",!1,"large","huge"],Y=(function(L){h(M,L);function M(K,H){N(this,M);var R=_(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,K,H)),F=function V(z){if(!document.body.contains(K.root))return document.body.removeEventListener("click",V);R.tooltip!=null&&!R.tooltip.root.contains(z.target)&&document.activeElement!==R.tooltip.textbox&&!R.quill.hasFocus()&&R.tooltip.hide(),R.pickers!=null&&R.pickers.forEach(function(X){X.container.contains(z.target)||X.close()})};return K.emitter.listenDOM("click",document.body,F),R}return m(M,[{key:"addModule",value:function(H){var R=y(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"addModule",this).call(this,H);return H==="toolbar"&&this.extendToolbar(R),R}},{key:"buildButtons",value:function(H,R){H.forEach(function(F){var V=F.getAttribute("class")||"";V.split(/\s+/).forEach(function(z){if(z.startsWith("ql-")&&(z=z.slice(3),R[z]!=null))if(z==="direction")F.innerHTML=R[z][""]+R[z].rtl;else if(typeof R[z]=="string")F.innerHTML=R[z];else{var X=F.value||"";X!=null&&R[z][X]&&(F.innerHTML=R[z][X])}})})}},{key:"buildPickers",value:function(H,R){var F=this;this.pickers=H.map(function(z){if(z.classList.contains("ql-align"))return z.querySelector("option")==null&&A(z,j),new r.default(z,R.align);if(z.classList.contains("ql-background")||z.classList.contains("ql-color")){var X=z.classList.contains("ql-background")?"background":"color";return z.querySelector("option")==null&&A(z,T,X==="background"?"#ffffff":"#000000"),new i.default(z,R[X])}else return z.querySelector("option")==null&&(z.classList.contains("ql-font")?A(z,P):z.classList.contains("ql-header")?A(z,D):z.classList.contains("ql-size")&&A(z,U)),new O.default(z)});var V=function(){F.pickers.forEach(function(X){X.update()})};this.quill.on(e.default.events.EDITOR_CHANGE,V)}}]),M})(s.default);Y.DEFAULTS=(0,v.default)(!0,{},s.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var M=this,K=this.container.querySelector("input.ql-image[type=file]");K==null&&(K=document.createElement("input"),K.setAttribute("type","file"),K.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),K.classList.add("ql-image"),K.addEventListener("change",function(){if(K.files!=null&&K.files[0]!=null){var H=new FileReader;H.onload=function(R){var F=M.quill.getSelection(!0);M.quill.updateContents(new c.default().retain(F.index).delete(F.length).insert({image:R.target.result}),e.default.sources.USER),M.quill.setSelection(F.index+1,e.default.sources.SILENT),K.value=""},H.readAsDataURL(K.files[0])}}),this.container.appendChild(K)),K.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var B=(function(L){h(M,L);function M(K,H){N(this,M);var R=_(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,K,H));return R.textbox=R.root.querySelector('input[type="text"]'),R.listen(),R}return m(M,[{key:"listen",value:function(){var H=this;this.textbox.addEventListener("keydown",function(R){o.default.match(R,"enter")?(H.save(),R.preventDefault()):o.default.match(R,"escape")&&(H.cancel(),R.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),R!=null?this.textbox.value=R:H!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+H)||""),this.root.setAttribute("data-mode",H)}},{key:"restoreFocus",value:function(){var H=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=H}},{key:"save",value:function(){var H=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var R=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",H,e.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",H,e.default.sources.USER)),this.quill.root.scrollTop=R;break}case"video":H=C(H);case"formula":{if(!H)break;var F=this.quill.getSelection(!0);if(F!=null){var V=F.index+F.length;this.quill.insertEmbed(V,this.root.getAttribute("data-mode"),H,e.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(V+1," ",e.default.sources.USER),this.quill.setSelection(V+2,e.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),M})(E.default);function C(L){var M=L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return M?(M[1]||"https")+"://www.youtube.com/embed/"+M[2]+"?showinfo=0":(M=L.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(M[1]||"https")+"://player.vimeo.com/video/"+M[2]+"/":L}function A(L,M){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;M.forEach(function(H){var R=document.createElement("option");H===K?R.setAttribute("selected","selected"):R.setAttribute("value",H),L.appendChild(R)})}f.BaseTooltip=B,f.default=Y}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=(function(){function y(){this.head=this.tail=null,this.length=0}return y.prototype.append=function(){for(var b=[],v=0;v<arguments.length;v++)b[v]=arguments[v];this.insertBefore(b[0],null),b.length>1&&this.append.apply(this,b.slice(1))},y.prototype.contains=function(b){for(var v,x=this.iterator();v=x();)if(v===b)return!0;return!1},y.prototype.insertBefore=function(b,v){b&&(b.next=v,v!=null?(b.prev=v.prev,v.prev!=null&&(v.prev.next=b),v.prev=b,v===this.head&&(this.head=b)):this.tail!=null?(this.tail.next=b,b.prev=this.tail,this.tail=b):(b.prev=null,this.head=this.tail=b),this.length+=1)},y.prototype.offset=function(b){for(var v=0,x=this.head;x!=null;){if(x===b)return v;v+=x.length(),x=x.next}return-1},y.prototype.remove=function(b){this.contains(b)&&(b.prev!=null&&(b.prev.next=b.next),b.next!=null&&(b.next.prev=b.prev),b===this.head&&(this.head=b.next),b===this.tail&&(this.tail=b.prev),this.length-=1)},y.prototype.iterator=function(b){return b===void 0&&(b=this.head),function(){var v=b;return b!=null&&(b=b.next),v}},y.prototype.find=function(b,v){v===void 0&&(v=!1);for(var x,c=this.iterator();x=c();){var n=x.length();if(b<n||v&&b===n&&(x.next==null||x.next.length()!==0))return[x,b];b-=n}return[null,0]},y.prototype.forEach=function(b){for(var v,x=this.iterator();v=x();)b(v)},y.prototype.forEachAt=function(b,v,x){if(!(v<=0))for(var c=this.find(b),n=c[0],e=c[1],t,o=b-e,l=this.iterator(n);(t=l())&&o<b+v;){var s=t.length();b>o?x(t,b-o,Math.min(v,o+s-b)):x(t,0,Math.min(s,b+v-o)),o+=s}},y.prototype.map=function(b){return this.reduce(function(v,x){return v.push(b(x)),v},[])},y.prototype.reduce=function(b,v){for(var x,c=this.iterator();x=c();)v=b(v,x);return v},y})();f.default=m}),(function(k,f,u){var m=this&&this.__extends||(function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(e,t){n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}})();Object.defineProperty(f,"__esModule",{value:!0});var y=u(17),b=u(1),v={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},x=100,c=(function(n){m(e,n);function e(t){var o=n.call(this,t)||this;return o.scroll=o,o.observer=new MutationObserver(function(l){o.update(l)}),o.observer.observe(o.domNode,v),o.attach(),o}return e.prototype.detach=function(){n.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(t,o){this.update(),t===0&&o===this.length()?this.children.forEach(function(l){l.remove()}):n.prototype.deleteAt.call(this,t,o)},e.prototype.formatAt=function(t,o,l,s){this.update(),n.prototype.formatAt.call(this,t,o,l,s)},e.prototype.insertAt=function(t,o,l){this.update(),n.prototype.insertAt.call(this,t,o,l)},e.prototype.optimize=function(t,o){var l=this;t===void 0&&(t=[]),o===void 0&&(o={}),n.prototype.optimize.call(this,o);for(var s=[].slice.call(this.observer.takeRecords());s.length>0;)t.push(s.pop());for(var a=function(p,O){O===void 0&&(O=!0),!(p==null||p===l)&&p.domNode.parentNode!=null&&(p.domNode[b.DATA_KEY].mutations==null&&(p.domNode[b.DATA_KEY].mutations=[]),O&&a(p.parent))},i=function(p){p.domNode[b.DATA_KEY]==null||p.domNode[b.DATA_KEY].mutations==null||(p instanceof y.default&&p.children.forEach(i),p.optimize(o))},d=t,r=0;d.length>0;r+=1){if(r>=x)throw new Error("[Parchment] Maximum optimize iterations reached");for(d.forEach(function(p){var O=b.find(p.target,!0);O!=null&&(O.domNode===p.target&&(p.type==="childList"?(a(b.find(p.previousSibling,!1)),[].forEach.call(p.addedNodes,function(g){var E=b.find(g,!1);a(E,!1),E instanceof y.default&&E.children.forEach(function(S){a(S,!1)})})):p.type==="attributes"&&a(O.prev)),a(O))}),this.children.forEach(i),d=[].slice.call(this.observer.takeRecords()),s=d.slice();s.length>0;)t.push(s.pop())}},e.prototype.update=function(t,o){var l=this;o===void 0&&(o={}),t=t||this.observer.takeRecords(),t.map(function(s){var a=b.find(s.target,!0);return a==null?null:a.domNode[b.DATA_KEY].mutations==null?(a.domNode[b.DATA_KEY].mutations=[s],a):(a.domNode[b.DATA_KEY].mutations.push(s),null)}).forEach(function(s){s==null||s===l||s.domNode[b.DATA_KEY]==null||s.update(s.domNode[b.DATA_KEY].mutations||[],o)}),this.domNode[b.DATA_KEY].mutations!=null&&n.prototype.update.call(this,this.domNode[b.DATA_KEY].mutations,o),this.optimize(t,o)},e.blotName="scroll",e.defaultChild="block",e.scope=b.Scope.BLOCK_BLOT,e.tagName="DIV",e})(y.default);f.default=c}),(function(k,f,u){var m=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])};return function(n,e){c(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}})();Object.defineProperty(f,"__esModule",{value:!0});var y=u(18),b=u(1);function v(c,n){if(Object.keys(c).length!==Object.keys(n).length)return!1;for(var e in c)if(c[e]!==n[e])return!1;return!0}var x=(function(c){m(n,c);function n(){return c!==null&&c.apply(this,arguments)||this}return n.formats=function(e){if(e.tagName!==n.tagName)return c.formats.call(this,e)},n.prototype.format=function(e,t){var o=this;e===this.statics.blotName&&!t?(this.children.forEach(function(l){l instanceof y.default||(l=l.wrap(n.blotName,!0)),o.attributes.copy(l)}),this.unwrap()):c.prototype.format.call(this,e,t)},n.prototype.formatAt=function(e,t,o,l){if(this.formats()[o]!=null||b.query(o,b.Scope.ATTRIBUTE)){var s=this.isolate(e,t);s.format(o,l)}else c.prototype.formatAt.call(this,e,t,o,l)},n.prototype.optimize=function(e){c.prototype.optimize.call(this,e);var t=this.formats();if(Object.keys(t).length===0)return this.unwrap();var o=this.next;o instanceof n&&o.prev===this&&v(t,o.formats())&&(o.moveChildren(this),o.remove())},n.blotName="inline",n.scope=b.Scope.INLINE_BLOT,n.tagName="SPAN",n})(y.default);f.default=x}),(function(k,f,u){var m=this&&this.__extends||(function(){var x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,n){c.__proto__=n}||function(c,n){for(var e in n)n.hasOwnProperty(e)&&(c[e]=n[e])};return function(c,n){x(c,n);function e(){this.constructor=c}c.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}})();Object.defineProperty(f,"__esModule",{value:!0});var y=u(18),b=u(1),v=(function(x){m(c,x);function c(){return x!==null&&x.apply(this,arguments)||this}return c.formats=function(n){var e=b.query(c.blotName).tagName;if(n.tagName!==e)return x.formats.call(this,n)},c.prototype.format=function(n,e){b.query(n,b.Scope.BLOCK)!=null&&(n===this.statics.blotName&&!e?this.replaceWith(c.blotName):x.prototype.format.call(this,n,e))},c.prototype.formatAt=function(n,e,t,o){b.query(t,b.Scope.BLOCK)!=null?this.format(t,o):x.prototype.formatAt.call(this,n,e,t,o)},c.prototype.insertAt=function(n,e,t){if(t==null||b.query(e,b.Scope.INLINE)!=null)x.prototype.insertAt.call(this,n,e,t);else{var o=this.split(n),l=b.create(e,t);o.parent.insertBefore(l,o)}},c.prototype.update=function(n,e){navigator.userAgent.match(/Trident/)?this.build():x.prototype.update.call(this,n,e)},c.blotName="block",c.scope=b.Scope.BLOCK_BLOT,c.tagName="P",c})(y.default);f.default=v}),(function(k,f,u){var m=this&&this.__extends||(function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,c){x.__proto__=c}||function(x,c){for(var n in c)c.hasOwnProperty(n)&&(x[n]=c[n])};return function(x,c){v(x,c);function n(){this.constructor=x}x.prototype=c===null?Object.create(c):(n.prototype=c.prototype,new n)}})();Object.defineProperty(f,"__esModule",{value:!0});var y=u(19),b=(function(v){m(x,v);function x(){return v!==null&&v.apply(this,arguments)||this}return x.formats=function(c){},x.prototype.format=function(c,n){v.prototype.formatAt.call(this,0,this.length(),c,n)},x.prototype.formatAt=function(c,n,e,t){c===0&&n===this.length()?this.format(e,t):v.prototype.formatAt.call(this,c,n,e,t)},x.prototype.formats=function(){return this.statics.formats(this.domNode)},x})(y.default);f.default=b}),(function(k,f,u){var m=this&&this.__extends||(function(){var x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,n){c.__proto__=n}||function(c,n){for(var e in n)n.hasOwnProperty(e)&&(c[e]=n[e])};return function(c,n){x(c,n);function e(){this.constructor=c}c.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}})();Object.defineProperty(f,"__esModule",{value:!0});var y=u(19),b=u(1),v=(function(x){m(c,x);function c(n){var e=x.call(this,n)||this;return e.text=e.statics.value(e.domNode),e}return c.create=function(n){return document.createTextNode(n)},c.value=function(n){var e=n.data;return e.normalize&&(e=e.normalize()),e},c.prototype.deleteAt=function(n,e){this.domNode.data=this.text=this.text.slice(0,n)+this.text.slice(n+e)},c.prototype.index=function(n,e){return this.domNode===n?e:-1},c.prototype.insertAt=function(n,e,t){t==null?(this.text=this.text.slice(0,n)+e+this.text.slice(n),this.domNode.data=this.text):x.prototype.insertAt.call(this,n,e,t)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(n){x.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(n,e){return[this.domNode,n]},c.prototype.split=function(n,e){if(e===void 0&&(e=!1),!e){if(n===0)return this;if(n===this.length())return this.next}var t=b.create(this.domNode.splitText(n));return this.parent.insertBefore(t,this.next),this.text=this.statics.value(this.domNode),t},c.prototype.update=function(n,e){var t=this;n.some(function(o){return o.type==="characterData"&&o.target===t.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=b.Scope.INLINE_BLOT,c})(y.default);f.default=v}),(function(k,f,u){var m=document.createElement("div");if(m.classList.toggle("test-class",!1),m.classList.contains("test-class")){var y=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(b,v){return arguments.length>1&&!this.contains(b)==!v?v:y.call(this,b)}}String.prototype.startsWith||(String.prototype.startsWith=function(b,v){return v=v||0,this.substr(v,b.length)===b}),String.prototype.endsWith||(String.prototype.endsWith=function(b,v){var x=this.toString();(typeof v!="number"||!isFinite(v)||Math.floor(v)!==v||v>x.length)&&(v=x.length),v-=b.length;var c=x.indexOf(b,v);return c!==-1&&c===v}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(v){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof v!="function")throw new TypeError("predicate must be a function");for(var x=Object(this),c=x.length>>>0,n=arguments[1],e,t=0;t<c;t++)if(e=x[t],v.call(n,e,t,x))return e}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})}),(function(k,f){var u=-1,m=1,y=0;function b(r,p,O){if(r==p)return r?[[y,r]]:[];(O<0||r.length<O)&&(O=null);var g=n(r,p),E=r.substring(0,g);r=r.substring(g),p=p.substring(g),g=e(r,p);var S=r.substring(r.length-g);r=r.substring(0,r.length-g),p=p.substring(0,p.length-g);var N=v(r,p);return E&&N.unshift([y,E]),S&&N.push([y,S]),o(N),O!=null&&(N=a(N,O)),N=i(N),N}function v(r,p){var O;if(!r)return[[m,p]];if(!p)return[[u,r]];var g=r.length>p.length?r:p,E=r.length>p.length?p:r,S=g.indexOf(E);if(S!=-1)return O=[[m,g.substring(0,S)],[y,E],[m,g.substring(S+E.length)]],r.length>p.length&&(O[0][0]=O[2][0]=u),O;if(E.length==1)return[[u,r],[m,p]];var N=t(r,p);if(N){var _=N[0],h=N[1],j=N[2],T=N[3],P=N[4],D=b(_,j),U=b(h,T);return D.concat([[y,P]],U)}return x(r,p)}function x(r,p){for(var O=r.length,g=p.length,E=Math.ceil((O+g)/2),S=E,N=2*E,_=new Array(N),h=new Array(N),j=0;j<N;j++)_[j]=-1,h[j]=-1;_[S+1]=0,h[S+1]=0;for(var T=O-g,P=T%2!=0,D=0,U=0,Y=0,B=0,C=0;C<E;C++){for(var A=-C+D;A<=C-U;A+=2){var L=S+A,M;A==-C||A!=C&&_[L-1]<_[L+1]?M=_[L+1]:M=_[L-1]+1;for(var K=M-A;M<O&&K<g&&r.charAt(M)==p.charAt(K);)M++,K++;if(_[L]=M,M>O)U+=2;else if(K>g)D+=2;else if(P){var H=S+T-A;if(H>=0&&H<N&&h[H]!=-1){var R=O-h[H];if(M>=R)return c(r,p,M,K)}}}for(var F=-C+Y;F<=C-B;F+=2){var H=S+F,R;F==-C||F!=C&&h[H-1]<h[H+1]?R=h[H+1]:R=h[H-1]+1;for(var V=R-F;R<O&&V<g&&r.charAt(O-R-1)==p.charAt(g-V-1);)R++,V++;if(h[H]=R,R>O)B+=2;else if(V>g)Y+=2;else if(!P){var L=S+T-F;if(L>=0&&L<N&&_[L]!=-1){var M=_[L],K=S+M-L;if(R=O-R,M>=R)return c(r,p,M,K)}}}}return[[u,r],[m,p]]}function c(r,p,O,g){var E=r.substring(0,O),S=p.substring(0,g),N=r.substring(O),_=p.substring(g),h=b(E,S),j=b(N,_);return h.concat(j)}function n(r,p){if(!r||!p||r.charAt(0)!=p.charAt(0))return 0;for(var O=0,g=Math.min(r.length,p.length),E=g,S=0;O<E;)r.substring(S,E)==p.substring(S,E)?(O=E,S=O):g=E,E=Math.floor((g-O)/2+O);return E}function e(r,p){if(!r||!p||r.charAt(r.length-1)!=p.charAt(p.length-1))return 0;for(var O=0,g=Math.min(r.length,p.length),E=g,S=0;O<E;)r.substring(r.length-E,r.length-S)==p.substring(p.length-E,p.length-S)?(O=E,S=O):g=E,E=Math.floor((g-O)/2+O);return E}function t(r,p){var O=r.length>p.length?r:p,g=r.length>p.length?p:r;if(O.length<4||g.length*2<O.length)return null;function E(U,Y,B){for(var C=U.substring(B,B+Math.floor(U.length/4)),A=-1,L="",M,K,H,R;(A=Y.indexOf(C,A+1))!=-1;){var F=n(U.substring(B),Y.substring(A)),V=e(U.substring(0,B),Y.substring(0,A));L.length<V+F&&(L=Y.substring(A-V,A)+Y.substring(A,A+F),M=U.substring(0,B-V),K=U.substring(B+F),H=Y.substring(0,A-V),R=Y.substring(A+F))}return L.length*2>=U.length?[M,K,H,R,L]:null}var S=E(O,g,Math.ceil(O.length/4)),N=E(O,g,Math.ceil(O.length/2)),_;if(!S&&!N)return null;N?S?_=S[4].length>N[4].length?S:N:_=N:_=S;var h,j,T,P;r.length>p.length?(h=_[0],j=_[1],T=_[2],P=_[3]):(T=_[0],P=_[1],h=_[2],j=_[3]);var D=_[4];return[h,j,T,P,D]}function o(r){r.push([y,""]);for(var p=0,O=0,g=0,E="",S="",N;p<r.length;)switch(r[p][0]){case m:g++,S+=r[p][1],p++;break;case u:O++,E+=r[p][1],p++;break;case y:O+g>1?(O!==0&&g!==0&&(N=n(S,E),N!==0&&(p-O-g>0&&r[p-O-g-1][0]==y?r[p-O-g-1][1]+=S.substring(0,N):(r.splice(0,0,[y,S.substring(0,N)]),p++),S=S.substring(N),E=E.substring(N)),N=e(S,E),N!==0&&(r[p][1]=S.substring(S.length-N)+r[p][1],S=S.substring(0,S.length-N),E=E.substring(0,E.length-N))),O===0?r.splice(p-g,O+g,[m,S]):g===0?r.splice(p-O,O+g,[u,E]):r.splice(p-O-g,O+g,[u,E],[m,S]),p=p-O-g+(O?1:0)+(g?1:0)+1):p!==0&&r[p-1][0]==y?(r[p-1][1]+=r[p][1],r.splice(p,1)):p++,g=0,O=0,E="",S="";break}r[r.length-1][1]===""&&r.pop();var _=!1;for(p=1;p<r.length-1;)r[p-1][0]==y&&r[p+1][0]==y&&(r[p][1].substring(r[p][1].length-r[p-1][1].length)==r[p-1][1]?(r[p][1]=r[p-1][1]+r[p][1].substring(0,r[p][1].length-r[p-1][1].length),r[p+1][1]=r[p-1][1]+r[p+1][1],r.splice(p-1,1),_=!0):r[p][1].substring(0,r[p+1][1].length)==r[p+1][1]&&(r[p-1][1]+=r[p+1][1],r[p][1]=r[p][1].substring(r[p+1][1].length)+r[p+1][1],r.splice(p+1,1),_=!0)),p++;_&&o(r)}var l=b;l.INSERT=m,l.DELETE=u,l.EQUAL=y,k.exports=l;function s(r,p){if(p===0)return[y,r];for(var O=0,g=0;g<r.length;g++){var E=r[g];if(E[0]===u||E[0]===y){var S=O+E[1].length;if(p===S)return[g+1,r];if(p<S){r=r.slice();var N=p-O,_=[E[0],E[1].slice(0,N)],h=[E[0],E[1].slice(N)];return r.splice(g,1,_,h),[g+1,r]}else O=S}}throw new Error("cursor_pos is out of bounds!")}function a(r,p){var O=s(r,p),g=O[1],E=O[0],S=g[E],N=g[E+1];if(S==null)return r;if(S[0]!==y)return r;if(N!=null&&S[1]+N[1]===N[1]+S[1])return g.splice(E,2,N,S),d(g,E,2);if(N!=null&&N[1].indexOf(S[1])===0){g.splice(E,2,[N[0],S[1]],[0,S[1]]);var _=N[1].slice(S[1].length);return _.length>0&&g.splice(E+2,0,[N[0],_]),d(g,E,3)}else return r}function i(r){for(var p=!1,O=function(N){return N.charCodeAt(0)>=56320&&N.charCodeAt(0)<=57343},g=function(N){return N.charCodeAt(N.length-1)>=55296&&N.charCodeAt(N.length-1)<=56319},E=2;E<r.length;E+=1)r[E-2][0]===y&&g(r[E-2][1])&&r[E-1][0]===u&&O(r[E-1][1])&&r[E][0]===m&&O(r[E][1])&&(p=!0,r[E-1][1]=r[E-2][1].slice(-1)+r[E-1][1],r[E][1]=r[E-2][1].slice(-1)+r[E][1],r[E-2][1]=r[E-2][1].slice(0,-1));if(!p)return r;for(var S=[],E=0;E<r.length;E+=1)r[E][1].length>0&&S.push(r[E]);return S}function d(r,p,O){for(var g=p+O-1;g>=0&&g>=p-1;g--)if(g+1<r.length){var E=r[g],S=r[g+1];E[0]===S[1]&&r.splice(g,2,[E[0],E[1]+S[1]])}return r}}),(function(k,f){f=k.exports=typeof Object.keys=="function"?Object.keys:u,f.shim=u;function u(m){var y=[];for(var b in m)y.push(b);return y}}),(function(k,f){var u=(function(){return Object.prototype.toString.call(arguments)})()=="[object Arguments]";f=k.exports=u?m:y,f.supported=m;function m(b){return Object.prototype.toString.call(b)=="[object Arguments]"}f.unsupported=y;function y(b){return b&&typeof b=="object"&&typeof b.length=="number"&&Object.prototype.hasOwnProperty.call(b,"callee")&&!Object.prototype.propertyIsEnumerable.call(b,"callee")||!1}}),(function(k,f){var u=Object.prototype.hasOwnProperty,m="~";function y(){}Object.create&&(y.prototype=Object.create(null),new y().__proto__||(m=!1));function b(x,c,n){this.fn=x,this.context=c,this.once=n||!1}function v(){this._events=new y,this._eventsCount=0}v.prototype.eventNames=function(){var c=[],n,e;if(this._eventsCount===0)return c;for(e in n=this._events)u.call(n,e)&&c.push(m?e.slice(1):e);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(n)):c},v.prototype.listeners=function(c,n){var e=m?m+c:c,t=this._events[e];if(n)return!!t;if(!t)return[];if(t.fn)return[t.fn];for(var o=0,l=t.length,s=new Array(l);o<l;o++)s[o]=t[o].fn;return s},v.prototype.emit=function(c,n,e,t,o,l){var s=m?m+c:c;if(!this._events[s])return!1;var a=this._events[s],i=arguments.length,d,r;if(a.fn){switch(a.once&&this.removeListener(c,a.fn,void 0,!0),i){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,n),!0;case 3:return a.fn.call(a.context,n,e),!0;case 4:return a.fn.call(a.context,n,e,t),!0;case 5:return a.fn.call(a.context,n,e,t,o),!0;case 6:return a.fn.call(a.context,n,e,t,o,l),!0}for(r=1,d=new Array(i-1);r<i;r++)d[r-1]=arguments[r];a.fn.apply(a.context,d)}else{var p=a.length,O;for(r=0;r<p;r++)switch(a[r].once&&this.removeListener(c,a[r].fn,void 0,!0),i){case 1:a[r].fn.call(a[r].context);break;case 2:a[r].fn.call(a[r].context,n);break;case 3:a[r].fn.call(a[r].context,n,e);break;case 4:a[r].fn.call(a[r].context,n,e,t);break;default:if(!d)for(O=1,d=new Array(i-1);O<i;O++)d[O-1]=arguments[O];a[r].fn.apply(a[r].context,d)}}return!0},v.prototype.on=function(c,n,e){var t=new b(n,e||this),o=m?m+c:c;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],t]:this._events[o].push(t):(this._events[o]=t,this._eventsCount++),this},v.prototype.once=function(c,n,e){var t=new b(n,e||this,!0),o=m?m+c:c;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],t]:this._events[o].push(t):(this._events[o]=t,this._eventsCount++),this},v.prototype.removeListener=function(c,n,e,t){var o=m?m+c:c;if(!this._events[o])return this;if(!n)return--this._eventsCount===0?this._events=new y:delete this._events[o],this;var l=this._events[o];if(l.fn)l.fn===n&&(!t||l.once)&&(!e||l.context===e)&&(--this._eventsCount===0?this._events=new y:delete this._events[o]);else{for(var s=0,a=[],i=l.length;s<i;s++)(l[s].fn!==n||t&&!l[s].once||e&&l[s].context!==e)&&a.push(l[s]);a.length?this._events[o]=a.length===1?a[0]:a:--this._eventsCount===0?this._events=new y:delete this._events[o]}return this},v.prototype.removeAllListeners=function(c){var n;return c?(n=m?m+c:c,this._events[n]&&(--this._eventsCount===0?this._events=new y:delete this._events[n])):(this._events=new y,this._eventsCount=0),this},v.prototype.off=v.prototype.removeListener,v.prototype.addListener=v.prototype.on,v.prototype.setMaxListeners=function(){return this},v.prefixed=m,v.EventEmitter=v,typeof k<"u"&&(k.exports=v)}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0}),f.matchText=f.matchSpacing=f.matchNewline=f.matchBlot=f.matchAttributor=f.default=void 0;var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},y=(function(){function G(Z,$){var te=[],Q=!0,le=!1,se=void 0;try{for(var ue=Z[Symbol.iterator](),he;!(Q=(he=ue.next()).done)&&(te.push(he.value),!($&&te.length===$));Q=!0);}catch(ye){le=!0,se=ye}finally{try{!Q&&ue.return&&ue.return()}finally{if(le)throw se}}return te}return function(Z,$){if(Array.isArray(Z))return Z;if(Symbol.iterator in Object(Z))return G(Z,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),b=(function(){function G(Z,$){for(var te=0;te<$.length;te++){var Q=$[te];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(Z,Q.key,Q)}}return function(Z,$,te){return $&&G(Z.prototype,$),te&&G(Z,te),Z}})(),v=u(3),x=h(v),c=u(2),n=h(c),e=u(0),t=h(e),o=u(5),l=h(o),s=u(10),a=h(s),i=u(9),d=h(i),r=u(36),p=u(37),O=u(13),g=h(O),E=u(26),S=u(38),N=u(39),_=u(40);function h(G){return G&&G.__esModule?G:{default:G}}function j(G,Z,$){return Z in G?Object.defineProperty(G,Z,{value:$,enumerable:!0,configurable:!0,writable:!0}):G[Z]=$,G}function T(G,Z){if(!(G instanceof Z))throw new TypeError("Cannot call a class as a function")}function P(G,Z){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z&&(typeof Z=="object"||typeof Z=="function")?Z:G}function D(G,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);G.prototype=Object.create(Z&&Z.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(G,Z):G.__proto__=Z)}var U=(0,a.default)("quill:clipboard"),Y="__ql-matcher",B=[[Node.TEXT_NODE,oe],[Node.TEXT_NODE,ee],["br",re],[Node.ELEMENT_NODE,ee],[Node.ELEMENT_NODE,X],[Node.ELEMENT_NODE,ne],[Node.ELEMENT_NODE,z],[Node.ELEMENT_NODE,ie],["li",W],["b",V.bind(V,"bold")],["i",V.bind(V,"italic")],["style",ae]],C=[r.AlignAttribute,S.DirectionAttribute].reduce(function(G,Z){return G[Z.keyName]=Z,G},{}),A=[r.AlignStyle,p.BackgroundStyle,E.ColorStyle,S.DirectionStyle,N.FontStyle,_.SizeStyle].reduce(function(G,Z){return G[Z.keyName]=Z,G},{}),L=(function(G){D(Z,G);function Z($,te){T(this,Z);var Q=P(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this,$,te));return Q.quill.root.addEventListener("paste",Q.onPaste.bind(Q)),Q.container=Q.quill.addContainer("ql-clipboard"),Q.container.setAttribute("contenteditable",!0),Q.container.setAttribute("tabindex",-1),Q.matchers=[],B.concat(Q.options.matchers).forEach(function(le){var se=y(le,2),ue=se[0],he=se[1];!te.matchVisual&&he===ne||Q.addMatcher(ue,he)}),Q}return b(Z,[{key:"addMatcher",value:function(te,Q){this.matchers.push([te,Q])}},{key:"convert",value:function(te){if(typeof te=="string")return this.container.innerHTML=te.replace(/\>\r?\n +\</g,"><"),this.convert();var Q=this.quill.getFormat(this.quill.selection.savedRange.index);if(Q[g.default.blotName]){var le=this.container.innerText;return this.container.innerHTML="",new n.default().insert(le,j({},g.default.blotName,Q[g.default.blotName]))}var se=this.prepareMatching(),ue=y(se,2),he=ue[0],ye=ue[1],ce=F(this.container,he,ye);return H(ce,`
`)&&ce.ops[ce.ops.length-1].attributes==null&&(ce=ce.compose(new n.default().retain(ce.length()-1).delete(1))),U.log("convert",this.container.innerHTML,ce),this.container.innerHTML="",ce}},{key:"dangerouslyPasteHTML",value:function(te,Q){var le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.default.sources.API;if(typeof te=="string")this.quill.setContents(this.convert(te),Q),this.quill.setSelection(0,l.default.sources.SILENT);else{var se=this.convert(Q);this.quill.updateContents(new n.default().retain(te).concat(se),le),this.quill.setSelection(te+se.length(),l.default.sources.SILENT)}}},{key:"onPaste",value:function(te){var Q=this;if(!(te.defaultPrevented||!this.quill.isEnabled())){var le=this.quill.getSelection(),se=new n.default().retain(le.index),ue=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(l.default.sources.SILENT),setTimeout(function(){se=se.concat(Q.convert()).delete(le.length),Q.quill.updateContents(se,l.default.sources.USER),Q.quill.setSelection(se.length()-le.length,l.default.sources.SILENT),Q.quill.scrollingContainer.scrollTop=ue,Q.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var te=this,Q=[],le=[];return this.matchers.forEach(function(se){var ue=y(se,2),he=ue[0],ye=ue[1];switch(he){case Node.TEXT_NODE:le.push(ye);break;case Node.ELEMENT_NODE:Q.push(ye);break;default:[].forEach.call(te.container.querySelectorAll(he),function(ce){ce[Y]=ce[Y]||[],ce[Y].push(ye)});break}}),[Q,le]}}]),Z})(d.default);L.DEFAULTS={matchers:[],matchVisual:!0};function M(G,Z,$){return(typeof Z>"u"?"undefined":m(Z))==="object"?Object.keys(Z).reduce(function(te,Q){return M(te,Q,Z[Q])},G):G.reduce(function(te,Q){return Q.attributes&&Q.attributes[Z]?te.push(Q):te.insert(Q.insert,(0,x.default)({},j({},Z,$),Q.attributes))},new n.default)}function K(G){if(G.nodeType!==Node.ELEMENT_NODE)return{};var Z="__ql-computed-style";return G[Z]||(G[Z]=window.getComputedStyle(G))}function H(G,Z){for(var $="",te=G.ops.length-1;te>=0&&$.length<Z.length;--te){var Q=G.ops[te];if(typeof Q.insert!="string")break;$=Q.insert+$}return $.slice(-1*Z.length)===Z}function R(G){if(G.childNodes.length===0)return!1;var Z=K(G);return["block","list-item"].indexOf(Z.display)>-1}function F(G,Z,$){return G.nodeType===G.TEXT_NODE?$.reduce(function(te,Q){return Q(G,te)},new n.default):G.nodeType===G.ELEMENT_NODE?[].reduce.call(G.childNodes||[],function(te,Q){var le=F(Q,Z,$);return Q.nodeType===G.ELEMENT_NODE&&(le=Z.reduce(function(se,ue){return ue(Q,se)},le),le=(Q[Y]||[]).reduce(function(se,ue){return ue(Q,se)},le)),te.concat(le)},new n.default):new n.default}function V(G,Z,$){return M($,G,!0)}function z(G,Z){var $=t.default.Attributor.Attribute.keys(G),te=t.default.Attributor.Class.keys(G),Q=t.default.Attributor.Style.keys(G),le={};return $.concat(te).concat(Q).forEach(function(se){var ue=t.default.query(se,t.default.Scope.ATTRIBUTE);ue!=null&&(le[ue.attrName]=ue.value(G),le[ue.attrName])||(ue=C[se],ue!=null&&(ue.attrName===se||ue.keyName===se)&&(le[ue.attrName]=ue.value(G)||void 0),ue=A[se],ue!=null&&(ue.attrName===se||ue.keyName===se)&&(ue=A[se],le[ue.attrName]=ue.value(G)||void 0))}),Object.keys(le).length>0&&(Z=M(Z,le)),Z}function X(G,Z){var $=t.default.query(G);if($==null)return Z;if($.prototype instanceof t.default.Embed){var te={},Q=$.value(G);Q!=null&&(te[$.blotName]=Q,Z=new n.default().insert(te,$.formats(G)))}else typeof $.formats=="function"&&(Z=M(Z,$.blotName,$.formats(G)));return Z}function re(G,Z){return H(Z,`
`)||Z.insert(`
`),Z}function ae(){return new n.default}function W(G,Z){var $=t.default.query(G);if($==null||$.blotName!=="list-item"||!H(Z,`
`))return Z;for(var te=-1,Q=G.parentNode;!Q.classList.contains("ql-clipboard");)(t.default.query(Q)||{}).blotName==="list"&&(te+=1),Q=Q.parentNode;return te<=0?Z:Z.compose(new n.default().retain(Z.length()-1).retain(1,{indent:te}))}function ee(G,Z){return H(Z,`
`)||(R(G)||Z.length()>0&&G.nextSibling&&R(G.nextSibling))&&Z.insert(`
`),Z}function ne(G,Z){if(R(G)&&G.nextElementSibling!=null&&!H(Z,`

`)){var $=G.offsetHeight+parseFloat(K(G).marginTop)+parseFloat(K(G).marginBottom);G.nextElementSibling.offsetTop>G.offsetTop+$*1.5&&Z.insert(`
`)}return Z}function ie(G,Z){var $={},te=G.style||{};return te.fontStyle&&K(G).fontStyle==="italic"&&($.italic=!0),te.fontWeight&&(K(G).fontWeight.startsWith("bold")||parseInt(K(G).fontWeight)>=700)&&($.bold=!0),Object.keys($).length>0&&(Z=M(Z,$)),parseFloat(te.textIndent||0)>0&&(Z=new n.default().insert("	").concat(Z)),Z}function oe(G,Z){var $=G.data;if(G.parentNode.tagName==="O:P")return Z.insert($.trim());if($.trim().length===0&&G.parentNode.classList.contains("ql-clipboard"))return Z;if(!K(G.parentNode).whiteSpace.startsWith("pre")){var te=function(le,se){return se=se.replace(/[^\u00a0]/g,""),se.length<1&&le?" ":se};$=$.replace(/\r\n/g," ").replace(/\n/g," "),$=$.replace(/\s\s+/g,te.bind(te,!0)),(G.previousSibling==null&&R(G.parentNode)||G.previousSibling!=null&&R(G.previousSibling))&&($=$.replace(/^\s+/,te.bind(te,!1))),(G.nextSibling==null&&R(G.parentNode)||G.nextSibling!=null&&R(G.nextSibling))&&($=$.replace(/\s+$/,te.bind(te,!1)))}return Z.insert($)}f.default=L,f.matchAttributor=z,f.matchBlot=X,f.matchNewline=ee,f.matchSpacing=ne,f.matchText=oe}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=(function(){function o(l,s){for(var a=0;a<s.length;a++){var i=s[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(l,i.key,i)}}return function(l,s,a){return s&&o(l.prototype,s),a&&o(l,a),l}})(),y=function o(l,s,a){l===null&&(l=Function.prototype);var i=Object.getOwnPropertyDescriptor(l,s);if(i===void 0){var d=Object.getPrototypeOf(l);return d===null?void 0:o(d,s,a)}else{if("value"in i)return i.value;var r=i.get;return r===void 0?void 0:r.call(a)}},b=u(6),v=x(b);function x(o){return o&&o.__esModule?o:{default:o}}function c(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}function n(o,l){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:o}function e(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);o.prototype=Object.create(l&&l.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(o,l):o.__proto__=l)}var t=(function(o){e(l,o);function l(){return c(this,l),n(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return m(l,[{key:"optimize",value:function(a){y(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"optimize",this).call(this,a),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return y(l.__proto__||Object.getPrototypeOf(l),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),l})(v.default);t.blotName="bold",t.tagName=["STRONG","B"],f.default=t}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0}),f.addControls=f.default=void 0;var m=(function(){function _(h,j){var T=[],P=!0,D=!1,U=void 0;try{for(var Y=h[Symbol.iterator](),B;!(P=(B=Y.next()).done)&&(T.push(B.value),!(j&&T.length===j));P=!0);}catch(C){D=!0,U=C}finally{try{!P&&Y.return&&Y.return()}finally{if(D)throw U}}return T}return function(h,j){if(Array.isArray(h))return h;if(Symbol.iterator in Object(h))return _(h,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),y=(function(){function _(h,j){for(var T=0;T<j.length;T++){var P=j[T];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(h,P.key,P)}}return function(h,j,T){return j&&_(h.prototype,j),T&&_(h,T),h}})(),b=u(2),v=a(b),x=u(0),c=a(x),n=u(5),e=a(n),t=u(10),o=a(t),l=u(9),s=a(l);function a(_){return _&&_.__esModule?_:{default:_}}function i(_,h,j){return h in _?Object.defineProperty(_,h,{value:j,enumerable:!0,configurable:!0,writable:!0}):_[h]=j,_}function d(_,h){if(!(_ instanceof h))throw new TypeError("Cannot call a class as a function")}function r(_,h){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:_}function p(_,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);_.prototype=Object.create(h&&h.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(_,h):_.__proto__=h)}var O=(0,o.default)("quill:toolbar"),g=(function(_){p(h,_);function h(j,T){d(this,h);var P=r(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,j,T));if(Array.isArray(P.options.container)){var D=document.createElement("div");S(D,P.options.container),j.container.parentNode.insertBefore(D,j.container),P.container=D}else typeof P.options.container=="string"?P.container=document.querySelector(P.options.container):P.container=P.options.container;if(!(P.container instanceof HTMLElement)){var U;return U=O.error("Container required for toolbar",P.options),r(P,U)}return P.container.classList.add("ql-toolbar"),P.controls=[],P.handlers={},Object.keys(P.options.handlers).forEach(function(Y){P.addHandler(Y,P.options.handlers[Y])}),[].forEach.call(P.container.querySelectorAll("button, select"),function(Y){P.attach(Y)}),P.quill.on(e.default.events.EDITOR_CHANGE,function(Y,B){Y===e.default.events.SELECTION_CHANGE&&P.update(B)}),P.quill.on(e.default.events.SCROLL_OPTIMIZE,function(){var Y=P.quill.selection.getRange(),B=m(Y,1),C=B[0];P.update(C)}),P}return y(h,[{key:"addHandler",value:function(T,P){this.handlers[T]=P}},{key:"attach",value:function(T){var P=this,D=[].find.call(T.classList,function(Y){return Y.indexOf("ql-")===0});if(D){if(D=D.slice(3),T.tagName==="BUTTON"&&T.setAttribute("type","button"),this.handlers[D]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[D]==null){O.warn("ignoring attaching to disabled format",D,T);return}if(c.default.query(D)==null){O.warn("ignoring attaching to nonexistent format",D,T);return}}var U=T.tagName==="SELECT"?"change":"click";T.addEventListener(U,function(Y){var B=void 0;if(T.tagName==="SELECT"){if(T.selectedIndex<0)return;var C=T.options[T.selectedIndex];C.hasAttribute("selected")?B=!1:B=C.value||!1}else T.classList.contains("ql-active")?B=!1:B=T.value||!T.hasAttribute("value"),Y.preventDefault();P.quill.focus();var A=P.quill.selection.getRange(),L=m(A,1),M=L[0];if(P.handlers[D]!=null)P.handlers[D].call(P,B);else if(c.default.query(D).prototype instanceof c.default.Embed){if(B=prompt("Enter "+D),!B)return;P.quill.updateContents(new v.default().retain(M.index).delete(M.length).insert(i({},D,B)),e.default.sources.USER)}else P.quill.format(D,B,e.default.sources.USER);P.update(M)}),this.controls.push([D,T])}}},{key:"update",value:function(T){var P=T==null?{}:this.quill.getFormat(T);this.controls.forEach(function(D){var U=m(D,2),Y=U[0],B=U[1];if(B.tagName==="SELECT"){var C=void 0;if(T==null)C=null;else if(P[Y]==null)C=B.querySelector("option[selected]");else if(!Array.isArray(P[Y])){var A=P[Y];typeof A=="string"&&(A=A.replace(/\"/g,'\\"')),C=B.querySelector('option[value="'+A+'"]')}C==null?(B.value="",B.selectedIndex=-1):C.selected=!0}else if(T==null)B.classList.remove("ql-active");else if(B.hasAttribute("value")){var L=P[Y]===B.getAttribute("value")||P[Y]!=null&&P[Y].toString()===B.getAttribute("value")||P[Y]==null&&!B.getAttribute("value");B.classList.toggle("ql-active",L)}else B.classList.toggle("ql-active",P[Y]!=null)})}}]),h})(s.default);g.DEFAULTS={};function E(_,h,j){var T=document.createElement("button");T.setAttribute("type","button"),T.classList.add("ql-"+h),j!=null&&(T.value=j),_.appendChild(T)}function S(_,h){Array.isArray(h[0])||(h=[h]),h.forEach(function(j){var T=document.createElement("span");T.classList.add("ql-formats"),j.forEach(function(P){if(typeof P=="string")E(T,P);else{var D=Object.keys(P)[0],U=P[D];Array.isArray(U)?N(T,D,U):E(T,D,U)}}),_.appendChild(T)})}function N(_,h,j){var T=document.createElement("select");T.classList.add("ql-"+h),j.forEach(function(P){var D=document.createElement("option");P!==!1?D.setAttribute("value",P):D.setAttribute("selected","selected"),T.appendChild(D)}),_.appendChild(T)}g.DEFAULTS={container:null,handlers:{clean:function(){var h=this,j=this.quill.getSelection();if(j!=null)if(j.length==0){var T=this.quill.getFormat();Object.keys(T).forEach(function(P){c.default.query(P,c.default.Scope.INLINE)!=null&&h.quill.format(P,!1)})}else this.quill.removeFormat(j,e.default.sources.USER)},direction:function(h){var j=this.quill.getFormat().align;h==="rtl"&&j==null?this.quill.format("align","right",e.default.sources.USER):!h&&j==="right"&&this.quill.format("align",!1,e.default.sources.USER),this.quill.format("direction",h,e.default.sources.USER)},indent:function(h){var j=this.quill.getSelection(),T=this.quill.getFormat(j),P=parseInt(T.indent||0);if(h==="+1"||h==="-1"){var D=h==="+1"?1:-1;T.direction==="rtl"&&(D*=-1),this.quill.format("indent",P+D,e.default.sources.USER)}},link:function(h){h===!0&&(h=prompt("Enter link URL:")),this.quill.format("link",h,e.default.sources.USER)},list:function(h){var j=this.quill.getSelection(),T=this.quill.getFormat(j);h==="check"?T.list==="checked"||T.list==="unchecked"?this.quill.format("list",!1,e.default.sources.USER):this.quill.format("list","unchecked",e.default.sources.USER):this.quill.format("list",h,e.default.sources.USER)}}},f.default=g,f.addControls=S}),(function(k,f){k.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=(function(){function o(l,s){for(var a=0;a<s.length;a++){var i=s[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(l,i.key,i)}}return function(l,s,a){return s&&o(l.prototype,s),a&&o(l,a),l}})(),y=function o(l,s,a){l===null&&(l=Function.prototype);var i=Object.getOwnPropertyDescriptor(l,s);if(i===void 0){var d=Object.getPrototypeOf(l);return d===null?void 0:o(d,s,a)}else{if("value"in i)return i.value;var r=i.get;return r===void 0?void 0:r.call(a)}},b=u(28),v=x(b);function x(o){return o&&o.__esModule?o:{default:o}}function c(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}function n(o,l){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:o}function e(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);o.prototype=Object.create(l&&l.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(o,l):o.__proto__=l)}var t=(function(o){e(l,o);function l(s,a){c(this,l);var i=n(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s));return i.label.innerHTML=a,i.container.classList.add("ql-color-picker"),[].slice.call(i.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(d){d.classList.add("ql-primary")}),i}return m(l,[{key:"buildItem",value:function(a){var i=y(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"buildItem",this).call(this,a);return i.style.backgroundColor=a.getAttribute("value")||"",i}},{key:"selectItem",value:function(a,i){y(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"selectItem",this).call(this,a,i);var d=this.label.querySelector(".ql-color-label"),r=a&&a.getAttribute("data-value")||"";d&&(d.tagName==="line"?d.style.stroke=r:d.style.fill=r)}}]),l})(v.default);f.default=t}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=(function(){function o(l,s){for(var a=0;a<s.length;a++){var i=s[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(l,i.key,i)}}return function(l,s,a){return s&&o(l.prototype,s),a&&o(l,a),l}})(),y=function o(l,s,a){l===null&&(l=Function.prototype);var i=Object.getOwnPropertyDescriptor(l,s);if(i===void 0){var d=Object.getPrototypeOf(l);return d===null?void 0:o(d,s,a)}else{if("value"in i)return i.value;var r=i.get;return r===void 0?void 0:r.call(a)}},b=u(28),v=x(b);function x(o){return o&&o.__esModule?o:{default:o}}function c(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}function n(o,l){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:o}function e(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);o.prototype=Object.create(l&&l.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(o,l):o.__proto__=l)}var t=(function(o){e(l,o);function l(s,a){c(this,l);var i=n(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s));return i.container.classList.add("ql-icon-picker"),[].forEach.call(i.container.querySelectorAll(".ql-picker-item"),function(d){d.innerHTML=a[d.getAttribute("data-value")||""]}),i.defaultItem=i.container.querySelector(".ql-selected"),i.selectItem(i.defaultItem),i}return m(l,[{key:"selectItem",value:function(a,i){y(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"selectItem",this).call(this,a,i),a=a||this.defaultItem,this.label.innerHTML=a.innerHTML}}]),l})(v.default);f.default=t}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=(function(){function v(x,c){for(var n=0;n<c.length;n++){var e=c[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(x,e.key,e)}}return function(x,c,n){return c&&v(x.prototype,c),n&&v(x,n),x}})();function y(v,x){if(!(v instanceof x))throw new TypeError("Cannot call a class as a function")}var b=(function(){function v(x,c){var n=this;y(this,v),this.quill=x,this.boundsContainer=c||document.body,this.root=x.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){n.root.style.marginTop=-1*n.quill.root.scrollTop+"px"}),this.hide()}return m(v,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var n=c.left+c.width/2-this.root.offsetWidth/2,e=c.bottom+this.quill.root.scrollTop;this.root.style.left=n+"px",this.root.style.top=e+"px",this.root.classList.remove("ql-flip");var t=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect(),l=0;if(o.right>t.right&&(l=t.right-o.right,this.root.style.left=n+l+"px"),o.left<t.left&&(l=t.left-o.left,this.root.style.left=n+l+"px"),o.bottom>t.bottom){var s=o.bottom-o.top,a=c.bottom-c.top+s;this.root.style.top=e-a+"px",this.root.classList.add("ql-flip")}return l}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),v})();f.default=b}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=(function(){function N(_,h){var j=[],T=!0,P=!1,D=void 0;try{for(var U=_[Symbol.iterator](),Y;!(T=(Y=U.next()).done)&&(j.push(Y.value),!(h&&j.length===h));T=!0);}catch(B){P=!0,D=B}finally{try{!T&&U.return&&U.return()}finally{if(P)throw D}}return j}return function(_,h){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return N(_,h);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),y=function N(_,h,j){_===null&&(_=Function.prototype);var T=Object.getOwnPropertyDescriptor(_,h);if(T===void 0){var P=Object.getPrototypeOf(_);return P===null?void 0:N(P,h,j)}else{if("value"in T)return T.value;var D=T.get;return D===void 0?void 0:D.call(j)}},b=(function(){function N(_,h){for(var j=0;j<h.length;j++){var T=h[j];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}return function(_,h,j){return h&&N(_.prototype,h),j&&N(_,j),_}})(),v=u(3),x=d(v),c=u(8),n=d(c),e=u(43),t=d(e),o=u(27),l=d(o),s=u(15),a=u(41),i=d(a);function d(N){return N&&N.__esModule?N:{default:N}}function r(N,_){if(!(N instanceof _))throw new TypeError("Cannot call a class as a function")}function p(N,_){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:N}function O(N,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);N.prototype=Object.create(_&&_.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(N,_):N.__proto__=_)}var g=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],E=(function(N){O(_,N);function _(h,j){r(this,_),j.modules.toolbar!=null&&j.modules.toolbar.container==null&&(j.modules.toolbar.container=g);var T=p(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,h,j));return T.quill.container.classList.add("ql-snow"),T}return b(_,[{key:"extendToolbar",value:function(j){j.container.classList.add("ql-snow"),this.buildButtons([].slice.call(j.container.querySelectorAll("button")),i.default),this.buildPickers([].slice.call(j.container.querySelectorAll("select")),i.default),this.tooltip=new S(this.quill,this.options.bounds),j.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(T,P){j.handlers.link.call(j,!P.format.link)})}}]),_})(t.default);E.DEFAULTS=(0,x.default)(!0,{},t.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(_){if(_){var h=this.quill.getSelection();if(h==null||h.length==0)return;var j=this.quill.getText(h);/^\S+@\S+\.\S+$/.test(j)&&j.indexOf("mailto:")!==0&&(j="mailto:"+j);var T=this.quill.theme.tooltip;T.edit("link",j)}else this.quill.format("link",!1)}}}}});var S=(function(N){O(_,N);function _(h,j){r(this,_);var T=p(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,h,j));return T.preview=T.root.querySelector("a.ql-preview"),T}return b(_,[{key:"listen",value:function(){var j=this;y(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(T){j.root.classList.contains("ql-editing")?j.save():j.edit("link",j.preview.textContent),T.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(T){if(j.linkRange!=null){var P=j.linkRange;j.restoreFocus(),j.quill.formatText(P,"link",!1,n.default.sources.USER),delete j.linkRange}T.preventDefault(),j.hide()}),this.quill.on(n.default.events.SELECTION_CHANGE,function(T,P,D){if(T!=null){if(T.length===0&&D===n.default.sources.USER){var U=j.quill.scroll.descendant(l.default,T.index),Y=m(U,2),B=Y[0],C=Y[1];if(B!=null){j.linkRange=new s.Range(T.index-C,B.length());var A=l.default.formats(B.domNode);j.preview.textContent=A,j.preview.setAttribute("href",A),j.show(),j.position(j.quill.getBounds(j.linkRange));return}}else delete j.linkRange;j.hide()}})}},{key:"show",value:function(){y(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),_})(e.BaseTooltip);S.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),f.default=E}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=u(29),y=Q(m),b=u(36),v=u(38),x=u(64),c=u(65),n=Q(c),e=u(66),t=Q(e),o=u(67),l=Q(o),s=u(37),a=u(26),i=u(39),d=u(40),r=u(56),p=Q(r),O=u(68),g=Q(O),E=u(27),S=Q(E),N=u(69),_=Q(N),h=u(70),j=Q(h),T=u(71),P=Q(T),D=u(72),U=Q(D),Y=u(73),B=Q(Y),C=u(13),A=Q(C),L=u(74),M=Q(L),K=u(75),H=Q(K),R=u(57),F=Q(R),V=u(41),z=Q(V),X=u(28),re=Q(X),ae=u(59),W=Q(ae),ee=u(60),ne=Q(ee),ie=u(61),oe=Q(ie),G=u(108),Z=Q(G),$=u(62),te=Q($);function Q(le){return le&&le.__esModule?le:{default:le}}y.default.register({"attributors/attribute/direction":v.DirectionAttribute,"attributors/class/align":b.AlignClass,"attributors/class/background":s.BackgroundClass,"attributors/class/color":a.ColorClass,"attributors/class/direction":v.DirectionClass,"attributors/class/font":i.FontClass,"attributors/class/size":d.SizeClass,"attributors/style/align":b.AlignStyle,"attributors/style/background":s.BackgroundStyle,"attributors/style/color":a.ColorStyle,"attributors/style/direction":v.DirectionStyle,"attributors/style/font":i.FontStyle,"attributors/style/size":d.SizeStyle},!0),y.default.register({"formats/align":b.AlignClass,"formats/direction":v.DirectionClass,"formats/indent":x.IndentClass,"formats/background":s.BackgroundStyle,"formats/color":a.ColorStyle,"formats/font":i.FontClass,"formats/size":d.SizeClass,"formats/blockquote":n.default,"formats/code-block":A.default,"formats/header":t.default,"formats/list":l.default,"formats/bold":p.default,"formats/code":C.Code,"formats/italic":g.default,"formats/link":S.default,"formats/script":_.default,"formats/strike":j.default,"formats/underline":P.default,"formats/image":U.default,"formats/video":B.default,"formats/list/item":o.ListItem,"modules/formula":M.default,"modules/syntax":H.default,"modules/toolbar":F.default,"themes/bubble":Z.default,"themes/snow":te.default,"ui/icons":z.default,"ui/picker":re.default,"ui/icon-picker":ne.default,"ui/color-picker":W.default,"ui/tooltip":oe.default},!0),f.default=y.default}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0}),f.IndentClass=void 0;var m=(function(){function l(s,a){for(var i=0;i<a.length;i++){var d=a[i];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(s,d.key,d)}}return function(s,a,i){return a&&l(s.prototype,a),i&&l(s,i),s}})(),y=function l(s,a,i){s===null&&(s=Function.prototype);var d=Object.getOwnPropertyDescriptor(s,a);if(d===void 0){var r=Object.getPrototypeOf(s);return r===null?void 0:l(r,a,i)}else{if("value"in d)return d.value;var p=d.get;return p===void 0?void 0:p.call(i)}},b=u(0),v=x(b);function x(l){return l&&l.__esModule?l:{default:l}}function c(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}function n(l,s){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:l}function e(l,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);l.prototype=Object.create(s&&s.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(l,s):l.__proto__=s)}var t=(function(l){e(s,l);function s(){return c(this,s),n(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return m(s,[{key:"add",value:function(i,d){if(d==="+1"||d==="-1"){var r=this.value(i)||0;d=d==="+1"?r+1:r-1}return d===0?(this.remove(i),!0):y(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"add",this).call(this,i,d)}},{key:"canAdd",value:function(i,d){return y(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"canAdd",this).call(this,i,d)||y(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"canAdd",this).call(this,i,parseInt(d))}},{key:"value",value:function(i){return parseInt(y(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"value",this).call(this,i))||void 0}}]),s})(v.default.Attributor.Class),o=new t("indent","ql-indent",{scope:v.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});f.IndentClass=o}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=u(4),y=b(m);function b(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=(function(e){c(t,e);function t(){return v(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t})(y.default);n.blotName="blockquote",n.tagName="blockquote",f.default=n}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=(function(){function t(o,l){for(var s=0;s<l.length;s++){var a=l[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}return function(o,l,s){return l&&t(o.prototype,l),s&&t(o,s),o}})(),y=u(4),b=v(y);function v(t){return t&&t.__esModule?t:{default:t}}function x(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}function c(t,o){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:t}function n(t,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);t.prototype=Object.create(o&&o.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(t,o):t.__proto__=o)}var e=(function(t){n(o,t);function o(){return x(this,o),c(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return m(o,null,[{key:"formats",value:function(s){return this.tagName.indexOf(s.tagName)+1}}]),o})(b.default);e.blotName="header",e.tagName=["H1","H2","H3","H4","H5","H6"],f.default=e}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0}),f.default=f.ListItem=void 0;var m=(function(){function r(p,O){for(var g=0;g<O.length;g++){var E=O[g];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,E.key,E)}}return function(p,O,g){return O&&r(p.prototype,O),g&&r(p,g),p}})(),y=function r(p,O,g){p===null&&(p=Function.prototype);var E=Object.getOwnPropertyDescriptor(p,O);if(E===void 0){var S=Object.getPrototypeOf(p);return S===null?void 0:r(S,O,g)}else{if("value"in E)return E.value;var N=E.get;return N===void 0?void 0:N.call(g)}},b=u(0),v=t(b),x=u(4),c=t(x),n=u(25),e=t(n);function t(r){return r&&r.__esModule?r:{default:r}}function o(r,p,O){return p in r?Object.defineProperty(r,p,{value:O,enumerable:!0,configurable:!0,writable:!0}):r[p]=O,r}function l(r,p){if(!(r instanceof p))throw new TypeError("Cannot call a class as a function")}function s(r,p){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:r}function a(r,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);r.prototype=Object.create(p&&p.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(r,p):r.__proto__=p)}var i=(function(r){a(p,r);function p(){return l(this,p),s(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return m(p,[{key:"format",value:function(g,E){g===d.blotName&&!E?this.replaceWith(v.default.create(this.statics.scope)):y(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,g,E)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():y(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(g,E){return this.parent.isolate(this.offset(this.parent),this.length()),g===this.parent.statics.blotName?(this.parent.replaceWith(g,E),this):(this.parent.unwrap(),y(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"replaceWith",this).call(this,g,E))}}],[{key:"formats",value:function(g){return g.tagName===this.tagName?void 0:y(p.__proto__||Object.getPrototypeOf(p),"formats",this).call(this,g)}}]),p})(c.default);i.blotName="list-item",i.tagName="LI";var d=(function(r){a(p,r),m(p,null,[{key:"create",value:function(g){var E=g==="ordered"?"OL":"UL",S=y(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,E);return(g==="checked"||g==="unchecked")&&S.setAttribute("data-checked",g==="checked"),S}},{key:"formats",value:function(g){if(g.tagName==="OL")return"ordered";if(g.tagName==="UL")return g.hasAttribute("data-checked")?g.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function p(O){l(this,p);var g=s(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,O)),E=function(N){if(N.target.parentNode===O){var _=g.statics.formats(O),h=v.default.find(N.target);_==="checked"?h.format("list","unchecked"):_==="unchecked"&&h.format("list","checked")}};return O.addEventListener("touchstart",E),O.addEventListener("mousedown",E),g}return m(p,[{key:"format",value:function(g,E){this.children.length>0&&this.children.tail.format(g,E)}},{key:"formats",value:function(){return o({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(g,E){if(g instanceof i)y(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"insertBefore",this).call(this,g,E);else{var S=E==null?this.length():E.offset(this),N=this.split(S);N.parent.insertBefore(g,N)}}},{key:"optimize",value:function(g){y(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,g);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&E.domNode.tagName===this.domNode.tagName&&E.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(E.moveChildren(this),E.remove())}},{key:"replace",value:function(g){if(g.statics.blotName!==this.statics.blotName){var E=v.default.create(this.statics.defaultChild);g.moveChildren(E),this.appendChild(E)}y(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"replace",this).call(this,g)}}]),p})(e.default);d.blotName="list",d.scope=v.default.Scope.BLOCK_BLOT,d.tagName=["OL","UL"],d.defaultChild="list-item",d.allowedChildren=[i],f.ListItem=i,f.default=d}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=u(56),y=b(m);function b(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=(function(e){c(t,e);function t(){return v(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t})(y.default);n.blotName="italic",n.tagName=["EM","I"],f.default=n}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=(function(){function o(l,s){for(var a=0;a<s.length;a++){var i=s[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(l,i.key,i)}}return function(l,s,a){return s&&o(l.prototype,s),a&&o(l,a),l}})(),y=function o(l,s,a){l===null&&(l=Function.prototype);var i=Object.getOwnPropertyDescriptor(l,s);if(i===void 0){var d=Object.getPrototypeOf(l);return d===null?void 0:o(d,s,a)}else{if("value"in i)return i.value;var r=i.get;return r===void 0?void 0:r.call(a)}},b=u(6),v=x(b);function x(o){return o&&o.__esModule?o:{default:o}}function c(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}function n(o,l){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:o}function e(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);o.prototype=Object.create(l&&l.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(o,l):o.__proto__=l)}var t=(function(o){e(l,o);function l(){return c(this,l),n(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return m(l,null,[{key:"create",value:function(a){return a==="super"?document.createElement("sup"):a==="sub"?document.createElement("sub"):y(l.__proto__||Object.getPrototypeOf(l),"create",this).call(this,a)}},{key:"formats",value:function(a){if(a.tagName==="SUB")return"sub";if(a.tagName==="SUP")return"super"}}]),l})(v.default);t.blotName="script",t.tagName=["SUB","SUP"],f.default=t}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=u(6),y=b(m);function b(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=(function(e){c(t,e);function t(){return v(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t})(y.default);n.blotName="strike",n.tagName="S",f.default=n}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=u(6),y=b(m);function b(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=(function(e){c(t,e);function t(){return v(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t})(y.default);n.blotName="underline",n.tagName="U",f.default=n}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=(function(){function s(a,i){for(var d=0;d<i.length;d++){var r=i[d];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}return function(a,i,d){return i&&s(a.prototype,i),d&&s(a,d),a}})(),y=function s(a,i,d){a===null&&(a=Function.prototype);var r=Object.getOwnPropertyDescriptor(a,i);if(r===void 0){var p=Object.getPrototypeOf(a);return p===null?void 0:s(p,i,d)}else{if("value"in r)return r.value;var O=r.get;return O===void 0?void 0:O.call(d)}},b=u(0),v=c(b),x=u(27);function c(s){return s&&s.__esModule?s:{default:s}}function n(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function e(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:s}function t(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}var o=["alt","height","width"],l=(function(s){t(a,s);function a(){return n(this,a),e(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,[{key:"format",value:function(d,r){o.indexOf(d)>-1?r?this.domNode.setAttribute(d,r):this.domNode.removeAttribute(d):y(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"format",this).call(this,d,r)}}],[{key:"create",value:function(d){var r=y(a.__proto__||Object.getPrototypeOf(a),"create",this).call(this,d);return typeof d=="string"&&r.setAttribute("src",this.sanitize(d)),r}},{key:"formats",value:function(d){return o.reduce(function(r,p){return d.hasAttribute(p)&&(r[p]=d.getAttribute(p)),r},{})}},{key:"match",value:function(d){return/\.(jpe?g|gif|png)$/.test(d)||/^data:image\/.+;base64/.test(d)}},{key:"sanitize",value:function(d){return(0,x.sanitize)(d,["http","https","data"])?d:"//:0"}},{key:"value",value:function(d){return d.getAttribute("src")}}]),a})(v.default.Embed);l.blotName="image",l.tagName="IMG",f.default=l}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0});var m=(function(){function s(a,i){for(var d=0;d<i.length;d++){var r=i[d];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}return function(a,i,d){return i&&s(a.prototype,i),d&&s(a,d),a}})(),y=function s(a,i,d){a===null&&(a=Function.prototype);var r=Object.getOwnPropertyDescriptor(a,i);if(r===void 0){var p=Object.getPrototypeOf(a);return p===null?void 0:s(p,i,d)}else{if("value"in r)return r.value;var O=r.get;return O===void 0?void 0:O.call(d)}},b=u(4),v=u(27),x=c(v);function c(s){return s&&s.__esModule?s:{default:s}}function n(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function e(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:s}function t(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}var o=["height","width"],l=(function(s){t(a,s);function a(){return n(this,a),e(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,[{key:"format",value:function(d,r){o.indexOf(d)>-1?r?this.domNode.setAttribute(d,r):this.domNode.removeAttribute(d):y(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"format",this).call(this,d,r)}}],[{key:"create",value:function(d){var r=y(a.__proto__||Object.getPrototypeOf(a),"create",this).call(this,d);return r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen",!0),r.setAttribute("src",this.sanitize(d)),r}},{key:"formats",value:function(d){return o.reduce(function(r,p){return d.hasAttribute(p)&&(r[p]=d.getAttribute(p)),r},{})}},{key:"sanitize",value:function(d){return x.default.sanitize(d)}},{key:"value",value:function(d){return d.getAttribute("src")}}]),a})(b.BlockEmbed);l.blotName="video",l.className="ql-video",l.tagName="IFRAME",f.default=l}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0}),f.default=f.FormulaBlot=void 0;var m=(function(){function d(r,p){for(var O=0;O<p.length;O++){var g=p[O];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(r,g.key,g)}}return function(r,p,O){return p&&d(r.prototype,p),O&&d(r,O),r}})(),y=function d(r,p,O){r===null&&(r=Function.prototype);var g=Object.getOwnPropertyDescriptor(r,p);if(g===void 0){var E=Object.getPrototypeOf(r);return E===null?void 0:d(E,p,O)}else{if("value"in g)return g.value;var S=g.get;return S===void 0?void 0:S.call(O)}},b=u(35),v=t(b),x=u(5),c=t(x),n=u(9),e=t(n);function t(d){return d&&d.__esModule?d:{default:d}}function o(d,r){if(!(d instanceof r))throw new TypeError("Cannot call a class as a function")}function l(d,r){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:d}function s(d,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);d.prototype=Object.create(r&&r.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(d,r):d.__proto__=r)}var a=(function(d){s(r,d);function r(){return o(this,r),l(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return m(r,null,[{key:"create",value:function(O){var g=y(r.__proto__||Object.getPrototypeOf(r),"create",this).call(this,O);return typeof O=="string"&&(window.katex.render(O,g,{throwOnError:!1,errorColor:"#f00"}),g.setAttribute("data-value",O)),g}},{key:"value",value:function(O){return O.getAttribute("data-value")}}]),r})(v.default);a.blotName="formula",a.className="ql-formula",a.tagName="SPAN";var i=(function(d){s(r,d),m(r,null,[{key:"register",value:function(){c.default.register(a,!0)}}]);function r(){o(this,r);var p=l(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return p}return r})(e.default);f.FormulaBlot=a,f.default=i}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0}),f.default=f.CodeToken=f.CodeBlock=void 0;var m=(function(){function O(g,E){for(var S=0;S<E.length;S++){var N=E[S];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(g,N.key,N)}}return function(g,E,S){return E&&O(g.prototype,E),S&&O(g,S),g}})(),y=function O(g,E,S){g===null&&(g=Function.prototype);var N=Object.getOwnPropertyDescriptor(g,E);if(N===void 0){var _=Object.getPrototypeOf(g);return _===null?void 0:O(_,E,S)}else{if("value"in N)return N.value;var h=N.get;return h===void 0?void 0:h.call(S)}},b=u(0),v=l(b),x=u(5),c=l(x),n=u(9),e=l(n),t=u(13),o=l(t);function l(O){return O&&O.__esModule?O:{default:O}}function s(O,g){if(!(O instanceof g))throw new TypeError("Cannot call a class as a function")}function a(O,g){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:O}function i(O,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);O.prototype=Object.create(g&&g.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(O,g):O.__proto__=g)}var d=(function(O){i(g,O);function g(){return s(this,g),a(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return m(g,[{key:"replaceWith",value:function(S){this.domNode.textContent=this.domNode.textContent,this.attach(),y(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"replaceWith",this).call(this,S)}},{key:"highlight",value:function(S){var N=this.domNode.textContent;this.cachedText!==N&&((N.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=S(N),this.domNode.normalize(),this.attach()),this.cachedText=N)}}]),g})(o.default);d.className="ql-syntax";var r=new v.default.Attributor.Class("token","hljs",{scope:v.default.Scope.INLINE}),p=(function(O){i(g,O),m(g,null,[{key:"register",value:function(){c.default.register(r,!0),c.default.register(d,!0)}}]);function g(E,S){s(this,g);var N=a(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,E,S));if(typeof N.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var _=null;return N.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(_),_=setTimeout(function(){N.highlight(),_=null},N.options.interval)}),N.highlight(),N}return m(g,[{key:"highlight",value:function(){var S=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var N=this.quill.getSelection();this.quill.scroll.descendants(d).forEach(function(_){_.highlight(S.options.highlight)}),this.quill.update(c.default.sources.SILENT),N!=null&&this.quill.setSelection(N,c.default.sources.SILENT)}}}]),g})(e.default);p.DEFAULTS={highlight:(function(){return window.hljs==null?null:function(O){var g=window.hljs.highlightAuto(O);return g.value}})(),interval:1e3},f.CodeBlock=d,f.CodeToken=r,f.default=p}),(function(k,f){k.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'}),(function(k,f){k.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'}),(function(k,f){k.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'}),(function(k,f){k.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'}),(function(k,f){k.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'}),(function(k,f){k.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'}),(function(k,f){k.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'}),(function(k,f){k.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'}),(function(k,f){k.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'}),(function(k,f){k.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'}),(function(k,f){k.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'}),(function(k,f){k.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'}),(function(k,f){k.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'}),(function(k,f){k.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'}),(function(k,f){k.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'}),(function(k,f){k.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'}),(function(k,f){k.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'}),(function(k,f){k.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'}),(function(k,f){k.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'}),(function(k,f){k.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'}),(function(k,f){k.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'}),(function(k,f){k.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'}),(function(k,f){k.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'}),(function(k,f){k.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'}),(function(k,f){k.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'}),(function(k,f){k.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'}),(function(k,f){k.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'}),(function(k,f){k.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'}),(function(k,f){k.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'}),(function(k,f){k.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'}),(function(k,f){k.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'}),(function(k,f){k.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'}),(function(k,f,u){Object.defineProperty(f,"__esModule",{value:!0}),f.default=f.BubbleTooltip=void 0;var m=function g(E,S,N){E===null&&(E=Function.prototype);var _=Object.getOwnPropertyDescriptor(E,S);if(_===void 0){var h=Object.getPrototypeOf(E);return h===null?void 0:g(h,S,N)}else{if("value"in _)return _.value;var j=_.get;return j===void 0?void 0:j.call(N)}},y=(function(){function g(E,S){for(var N=0;N<S.length;N++){var _=S[N];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(E,_.key,_)}}return function(E,S,N){return S&&g(E.prototype,S),N&&g(E,N),E}})(),b=u(3),v=s(b),x=u(8),c=s(x),n=u(43),e=s(n),t=u(15),o=u(41),l=s(o);function s(g){return g&&g.__esModule?g:{default:g}}function a(g,E){if(!(g instanceof E))throw new TypeError("Cannot call a class as a function")}function i(g,E){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:g}function d(g,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);g.prototype=Object.create(E&&E.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(g,E):g.__proto__=E)}var r=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],p=(function(g){d(E,g);function E(S,N){a(this,E),N.modules.toolbar!=null&&N.modules.toolbar.container==null&&(N.modules.toolbar.container=r);var _=i(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,S,N));return _.quill.container.classList.add("ql-bubble"),_}return y(E,[{key:"extendToolbar",value:function(N){this.tooltip=new O(this.quill,this.options.bounds),this.tooltip.root.appendChild(N.container),this.buildButtons([].slice.call(N.container.querySelectorAll("button")),l.default),this.buildPickers([].slice.call(N.container.querySelectorAll("select")),l.default)}}]),E})(e.default);p.DEFAULTS=(0,v.default)(!0,{},e.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){E?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var O=(function(g){d(E,g);function E(S,N){a(this,E);var _=i(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,S,N));return _.quill.on(c.default.events.EDITOR_CHANGE,function(h,j,T,P){if(h===c.default.events.SELECTION_CHANGE)if(j!=null&&j.length>0&&P===c.default.sources.USER){_.show(),_.root.style.left="0px",_.root.style.width="",_.root.style.width=_.root.offsetWidth+"px";var D=_.quill.getLines(j.index,j.length);if(D.length===1)_.position(_.quill.getBounds(j));else{var U=D[D.length-1],Y=_.quill.getIndex(U),B=Math.min(U.length()-1,j.index+j.length-Y),C=_.quill.getBounds(new t.Range(Y,B));_.position(C)}}else document.activeElement!==_.textbox&&_.quill.hasFocus()&&_.hide()}),_}return y(E,[{key:"listen",value:function(){var N=this;m(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){N.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!N.root.classList.contains("ql-hidden")){var _=N.quill.getSelection();_!=null&&N.position(N.quill.getBounds(_))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(N){var _=m(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"position",this).call(this,N),h=this.root.querySelector(".ql-tooltip-arrow");if(h.style.marginLeft="",_===0)return _;h.style.marginLeft=-1*_-h.offsetWidth/2+"px"}}]),E})(n.BaseTooltip);O.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),f.BubbleTooltip=O,f.default=p}),(function(k,f,u){k.exports=u(63)})]).default})})(qe)),qe.exports}var pe,ua;function uo(){if(ua)return pe;ua=1;var q=pe&&pe.__extends||(function(){var c=function(n,e){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var l in o)o.hasOwnProperty(l)&&(t[l]=o[l])},c(n,e)};return function(n,e){c(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}})(),I=pe&&pe.__assign||function(){return I=Object.assign||function(c){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(c[o]=n[o])}return c},I.apply(this,arguments)},k=pe&&pe.__spreadArrays||function(){for(var c=0,n=0,e=arguments.length;n<e;n++)c+=arguments[n].length;for(var t=Array(c),o=0,n=0;n<e;n++)for(var l=arguments[n],s=0,a=l.length;s<a;s++,o++)t[o]=l[s];return t},f=pe&&pe.__importDefault||function(c){return c&&c.__esModule?c:{default:c}},u=f(Na()),m=f(Ea()),y=f(oo()),b=f(so()),v=(function(c){q(n,c);function n(e){var t=c.call(this,e)||this;t.dirtyProps=["modules","formats","bounds","theme","children"],t.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],t.state={generation:0},t.selection=null,t.onEditorChange=function(l,s,a,i){var d,r,p,O;l==="text-change"?(r=(d=t).onEditorChangeText)===null||r===void 0||r.call(d,t.editor.root.innerHTML,s,i,t.unprivilegedEditor):l==="selection-change"&&((O=(p=t).onEditorChangeSelection)===null||O===void 0||O.call(p,s,i,t.unprivilegedEditor))};var o=t.isControlled()?e.value:e.defaultValue;return t.value=o??"",t}return n.prototype.validateProps=function(e){var t;if(u.default.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(u.default.Children.count(e.children)){var o=u.default.Children.only(e.children);if(((t=o)===null||t===void 0?void 0:t.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},n.prototype.shouldComponentUpdate=function(e,t){var o=this,l;if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){var s=this.getEditorContents(),a=(l=e.value,l??"");this.isEqualValue(a,s)||this.setEditorContents(this.editor,a)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),k(this.cleanProps,this.dirtyProps).some(function(i){return!y.default(e[i],o.props[i])})},n.prototype.shouldComponentRegenerate=function(e){var t=this;return this.dirtyProps.some(function(o){return!y.default(e[o],t.props[o])})},n.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},n.prototype.componentWillUnmount=function(){this.destroyEditor()},n.prototype.componentDidUpdate=function(e,t){var o=this;if(this.editor&&this.shouldComponentRegenerate(e)){var l=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:l,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){var a=this.regenerationSnapshot,l=a.delta,i=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var d=this.editor;d.setContents(l),x(function(){return o.setEditorSelection(d,i)})}},n.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},n.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},n.prototype.isControlled=function(){return"value"in this.props},n.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},n.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},n.prototype.createEditor=function(e,t){var o=new b.default(e,t);return t.tabIndex!=null&&this.setEditorTabIndex(o,t.tabIndex),this.hookEditor(o),o},n.prototype.hookEditor=function(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)},n.prototype.unhookEditor=function(e){e.off("editor-change",this.onEditorChange)},n.prototype.getEditorContents=function(){return this.value},n.prototype.getEditorSelection=function(){return this.selection},n.prototype.isDelta=function(e){return e&&e.ops},n.prototype.isEqualValue=function(e,t){return this.isDelta(e)&&this.isDelta(t)?y.default(e.ops,t.ops):y.default(e,t)},n.prototype.setEditorContents=function(e,t){var o=this;this.value=t;var l=this.getEditorSelection();typeof t=="string"?e.setContents(e.clipboard.convert(t)):e.setContents(t),x(function(){return o.setEditorSelection(e,l)})},n.prototype.setEditorSelection=function(e,t){if(this.selection=t,t){var o=e.getLength();t.index=Math.max(0,Math.min(t.index,o-1)),t.length=Math.max(0,Math.min(t.length,o-1-t.index)),e.setSelection(t)}},n.prototype.setEditorTabIndex=function(e,t){var o,l;!((l=(o=e)===null||o===void 0?void 0:o.scroll)===null||l===void 0)&&l.domNode&&(e.scroll.domNode.tabIndex=t)},n.prototype.setEditorReadOnly=function(e,t){t?e.disable():e.enable()},n.prototype.makeUnprivilegedEditor=function(e){var t=e;return{getHTML:function(){return t.root.innerHTML},getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}},n.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var e=m.default.findDOMNode(this.editingArea);if(!e)throw new Error("Cannot find element for editing area");if(e.nodeType===3)throw new Error("Editing area cannot be a text node");return e},n.prototype.renderEditingArea=function(){var e=this,t=this.props,o=t.children,l=t.preserveWhitespace,s=this.state.generation,a={key:s,ref:function(i){e.editingArea=i}};return u.default.Children.count(o)?u.default.cloneElement(u.default.Children.only(o),a):l?u.default.createElement("pre",I({},a)):u.default.createElement("div",I({},a))},n.prototype.render=function(){var e;return u.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(e=this.props.className,e??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},n.prototype.onEditorChangeText=function(e,t,o,l){var s,a;if(this.editor){var i=this.isDelta(this.value)?l.getContents():l.getHTML();i!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=i,(a=(s=this.props).onChange)===null||a===void 0||a.call(s,e,t,o,l))}},n.prototype.onEditorChangeSelection=function(e,t,o){var l,s,a,i,d,r;if(this.editor){var p=this.getEditorSelection(),O=!p&&e,g=p&&!e;y.default(e,p)||(this.selection=e,(s=(l=this.props).onChangeSelection)===null||s===void 0||s.call(l,e,t,o),O?(i=(a=this.props).onFocus)===null||i===void 0||i.call(a,e,t,o):g&&((r=(d=this.props).onBlur)===null||r===void 0||r.call(d,p,t,o)))}},n.prototype.focus=function(){this.editor&&this.editor.focus()},n.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},n.displayName="React Quill",n.Quill=b.default,n.defaultProps={theme:"snow",modules:{},readOnly:!1},n})(u.default.Component);function x(c){Promise.resolve().then(c)}return pe=v,pe}var co=uo();const ca=ja(co),wr=()=>{const[q,I]=J.useState(!1);return{translate:J.useCallback(async(f,u)=>{if(!f.trim())return"";I(!0);try{const m=await mr("/translate",{method:"POST",body:JSON.stringify({text:f,context:u})});if(!m.ok)throw new Error("Translation request failed");return(await m.json()).translated_text||""}catch(m){return console.error("Translation Hook Error:",m),""}finally{I(!1)}},[]),isTranslating:q}},Oa=({children:q,color:I="gray",className:k})=>{const f={green:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300",gray:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",blue:"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300"};return w.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f[I]} ${k}`,children:q})},De=({isOpen:q,onClose:I,children:k,title:f})=>{const u=J.useRef(null),m=J.useRef(null);return J.useEffect(()=>{var b;if(!q)return;const y=v=>{var x;if(v.key==="Escape")I();else if(v.key==="Tab"){const c=(x=u.current)==null?void 0:x.querySelectorAll("a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled])");if(!c||c.length===0)return;const n=c[0],e=c[c.length-1];v.shiftKey?document.activeElement===n&&(e.focus(),v.preventDefault()):document.activeElement===e&&(n.focus(),v.preventDefault())}};return document.addEventListener("keydown",y),(b=m.current)==null||b.focus(),()=>{document.removeEventListener("keydown",y)}},[q,I]),q?w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 z-50 flex justify-center items-center p-4",onClick:I,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:w.jsxs("div",{ref:u,className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:y=>y.stopPropagation(),children:[w.jsxs("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4 flex justify-between items-center z-10",children:[w.jsx("h2",{id:"modal-title",className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:f}),w.jsx("button",{ref:m,onClick:I,className:"text-gray-400 hover:text-gray-600 dark:hover:text-white transition-colors","aria-label":"Close modal",children:w.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),w.jsx("div",{className:"p-6",children:k})]})}):null},Or=({isOpen:q,onClose:I,onConfirm:k,title:f,message:u})=>{const{t:m}=ve();return w.jsx(De,{isOpen:q,onClose:I,title:f,children:w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-600 mb-6",children:u}),w.jsxs("div",{className:"flex justify-end gap-4",children:[w.jsx(fe,{variant:"secondary",onClick:I,children:m("dashboard.confirmDelete.cancel")}),w.jsx("button",{onClick:k,className:"px-8 py-3 rounded-lg font-bold text-sm uppercase tracking-wider transition-all duration-300 transform focus:outline-none focus:ring-4 focus:ring-opacity-50 bg-red-600 text-white shadow-lg hover:shadow-xl focus:ring-red-300 hover:-translate-y-0.5",children:m("dashboard.confirmDelete.confirm")})]})]})})},fo=({value:q,onChange:I,onClose:k})=>{const[f,u]=J.useState([]),[m,y]=J.useState(!0),[b,v]=J.useState(!1),[x,c]=J.useState(0),[n,e]=J.useState(null),[t,o]=J.useState(q),[l,s]=J.useState(!1),a=J.useRef(null),i=J.useRef(!0);J.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]);const d=J.useCallback(async()=>{try{y(!0),e(null);const h=await Aa("image");i.current&&u(h.data||[])}catch(h){console.error("Failed to load media:",h),i.current&&e("Failed to load media library")}finally{i.current&&y(!1)}},[]);J.useEffect(()=>{d()},[d]);const r=async h=>{if(!h||h.length===0)return;const j=h[0];if(!j.type.startsWith("image/")){e("Please select an image file");return}if(j.size>10*1024*1024){e("File size must be less than 10MB");return}try{v(!0),c(0),e(null);const T=setInterval(()=>{c(D=>Math.min(D+10,90))},100),P=await Sa(j);clearInterval(T),i.current&&P.media&&(c(100),u(D=>[P.media,...D]),o(P.media.url))}catch(T){console.error("Upload failed:",T),i.current&&e(T.message||"Upload failed")}finally{i.current&&(v(!1),c(0))}},p=h=>{h.preventDefault(),h.stopPropagation(),h.type==="dragenter"||h.type==="dragover"?s(!0):h.type==="dragleave"&&s(!1)},O=h=>{h.preventDefault(),h.stopPropagation(),s(!1),r(h.dataTransfer.files)},g=h=>{o(h.url)},E=()=>{t&&I(t),k()},S=()=>{k()},N=async(h,j,T)=>{if(T.stopPropagation(),!!window.confirm("Are you sure you want to delete this image?"))try{await Ta(h),i.current&&(u(P=>P.filter(D=>D.id!==h)),t===j&&o(""))}catch(P){console.error("Delete failed:",P),i.current&&e("Failed to delete image")}},_=h=>h<1024?h+" B":h<1024*1024?(h/1024).toFixed(1)+" KB":(h/(1024*1024)).toFixed(1)+" MB";return J.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[]),w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:h=>{h.target===h.currentTarget&&S()},children:w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col",onClick:h=>h.stopPropagation(),children:[w.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[w.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Media Library"}),w.jsx("button",{type:"button",onClick:S,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 text-2xl leading-none",children:""})]}),w.jsx("div",{className:`m-4 p-6 border-2 border-dashed rounded-lg transition-colors ${l?"border-smart-blue bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"}`,onDragEnter:p,onDragLeave:p,onDragOver:p,onDrop:O,children:w.jsxs("div",{className:"text-center",children:[b?w.jsxs("div",{className:"space-y-2",children:[w.jsx(Ae,{className:"w-8 h-8 mx-auto text-smart-blue"}),w.jsx("div",{className:"w-48 h-2 bg-gray-200 rounded-full mx-auto overflow-hidden",children:w.jsx("div",{className:"h-full bg-smart-blue transition-all duration-300",style:{width:`${x}%`}})}),w.jsx("p",{className:"text-sm text-gray-500",children:"Uploading..."})]}):w.jsxs(w.Fragment,{children:[w.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),w.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:["Drag and drop an image here, or"," ",w.jsx("button",{type:"button",onClick:()=>{var h;return(h=a.current)==null?void 0:h.click()},className:"text-smart-blue hover:underline font-medium",children:"browse"})]}),w.jsx("p",{className:"text-xs text-gray-500",children:"Supports: JPG, PNG, GIF, WebP (max 10MB)"})]}),w.jsx("input",{ref:a,type:"file",accept:"image/*",onChange:h=>{r(h.target.files),h.target.value=""},className:"hidden"})]})}),n&&w.jsx("div",{className:"mx-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:w.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:n})}),w.jsx("div",{className:"flex-1 overflow-y-auto p-4 min-h-[200px]",children:m?w.jsx("div",{className:"flex items-center justify-center py-12",children:w.jsx(Ae,{className:"w-8 h-8 text-smart-blue"})}):f.length===0?w.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[w.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),w.jsx("p",{children:"No images uploaded yet"}),w.jsx("p",{className:"text-sm",children:"Upload your first image above"})]}):w.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:f.map(h=>w.jsxs("div",{onClick:()=>g(h),className:`relative group cursor-pointer rounded-lg overflow-hidden border-2 transition-all ${t===h.url?"border-smart-blue ring-2 ring-smart-blue ring-opacity-50":"border-transparent hover:border-gray-300 dark:hover:border-gray-600"}`,children:[w.jsx("div",{className:"aspect-square bg-gray-100 dark:bg-gray-700",children:w.jsx("img",{src:h.url,alt:h.alt_text||h.original_name,className:"w-full h-full object-cover",loading:"lazy"})}),w.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all flex items-center justify-center",children:w.jsx("button",{type:"button",onClick:j=>N(h.id,h.url,j),className:"opacity-0 group-hover:opacity-100 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-all",title:"Delete",children:w.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})}),t===h.url&&w.jsx("div",{className:"absolute top-2 right-2 bg-smart-blue text-white rounded-full p-1",children:w.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:w.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),w.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[w.jsx("p",{className:"text-white text-xs truncate",children:h.original_name}),w.jsx("p",{className:"text-gray-300 text-xs",children:_(h.size)})]})]},h.id))})}),w.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:[w.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[f.length," ",f.length===1?"image":"images"," in library"]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),w.jsx("button",{type:"button",onClick:E,disabled:!t,className:"px-4 py-2 text-sm font-medium text-white bg-smart-blue rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Select Image"})]})]})]})})},fa=()=>{const{posts:q,deletePost:I,updatePost:k,addPost:f}=J.useContext(Oe),{user:u}=Se(),{t:m,language:y}=ve(),{translate:b}=wr(),[v,x]=J.useState("list"),[c,n]=J.useState(null),[e,t]=J.useState(""),[o,l]=J.useState("all"),[s,a]=J.useState(null),i={title:{ar:"",en:""},excerpt:{ar:"",en:""},content:{ar:"",en:""},imageUrl:"",status:"draft"},[d,r]=J.useState(i),[p,O]=J.useState(!1),[g,E]=J.useState({}),[S,N]=J.useState({title:!1,excerpt:!1,content:!1}),[_,h]=J.useState(!1),[j,T]=J.useState(()=>localStorage.getItem("autoTranslateEnabled")!=="false"),P=J.useRef(null),D=J.useRef(null);J.useEffect(()=>{v==="add"&&(r(c?{title:c.title,excerpt:c.excerpt,content:c.content,imageUrl:c.imageUrl,status:c.status}:i),E({}))},[v,c]),J.useEffect(()=>()=>{P.current&&clearTimeout(P.current)},[]);const U=J.useMemo(()=>{let W=q;return u&&u.role==="employee"&&(W=q.filter(ee=>ee.author===u.email)),W.filter(ee=>(y==="ar"?ee.title.ar:ee.title.en).toLowerCase().includes(e.toLowerCase())).filter(ee=>o==="all"?!0:ee.status===o)},[q,e,o,y,u]),Y=W=>{n(W),x("add")},B=()=>{n(null),x("add")},C=W=>{a(W)},A=async()=>{s&&(await I(s.id),a(null))},L=async W=>{const ee=W.status==="published"?"draft":"published";await k({...W,status:ee})},M=()=>{const W={title:{},excerpt:{},content:{}};let ee=!0;return d.title.en.trim()||(W.title.en=m("contact.validation.fieldRequired"),ee=!1),d.title.ar.trim()||(W.title.ar=m("contact.validation.fieldRequired"),ee=!1),d.excerpt.en.trim()||(W.excerpt.en=m("contact.validation.fieldRequired"),ee=!1),d.excerpt.ar.trim()||(W.excerpt.ar=m("contact.validation.fieldRequired"),ee=!1),d.content.en.trim()||(W.content.en=m("contact.validation.fieldRequired"),ee=!1),d.content.ar.trim()||(W.content.ar=m("contact.validation.fieldRequired"),ee=!1),d.imageUrl.trim()||(W.imageUrl=m("contact.validation.fieldRequired"),ee=!1),E(W),ee},K=W=>{const{name:ee,value:ne}=W.target;if(D.current=ee,ee.includes(".")){const[G,Z]=ee.split(".");r($=>({...$,[G]:{...$[G],[Z]:ne}}))}else r(G=>({...G,[ee]:ne}));if(!j||(P.current&&clearTimeout(P.current),!ee.includes(".")))return;const[ie,oe]=ee.split(".");if(!ne.trim()){N(G=>({...G,[ie]:!1}));return}N(G=>({...G,[ie]:!0})),P.current=window.setTimeout(async()=>{if(D.current!==ee){N(te=>({...te,[ie]:!1}));return}const G=oe==="ar"?"en":"ar",Z=`a blog post ${ie}`,$=await b(ne,Z);$&&D.current===ee&&r(te=>{const Q=ne;return te[ie][oe]===Q?{...te,[ie]:{...te[ie],[G]:$}}:te}),N(te=>({...te,[ie]:!1}))},800)},H=(W,ee,ne)=>{const ie=`${W}.${ee}`;if(D.current=ie,r(oe=>({...oe,[W]:{...oe[W],[ee]:ne}})),!!j){if(P.current&&clearTimeout(P.current),!ne.trim()||ne==="<p><br></p>"){N(oe=>({...oe,[W]:!1}));return}N(oe=>({...oe,[W]:!0})),P.current=window.setTimeout(async()=>{if(D.current!==ie){N($=>({...$,[W]:!1}));return}const oe=ee==="ar"?"en":"ar",G=`a blog post ${W} in HTML format. Keep the HTML tags (like <p>, <strong>, <ul>, etc.) exactly as they are and only translate the text content inside them.`,Z=await b(ne,G);Z&&D.current===ie&&r($=>$[W][ee]===ne?{...$,[W]:{...$[W],[oe]:Z}}:$),N($=>({...$,[W]:!1}))},1e3)}},R=async W=>{const ee=d[W].en.trim(),ne=d[W].ar.trim();if(!(!ee&&!ne)){N(ie=>({...ie,[W]:!0}));try{const ie=`a blog post ${W}`;if(ee&&!ne){const oe=await b(ee,ie);oe&&r(G=>({...G,[W]:{...G[W],ar:oe}}))}else if(ne&&!ee){const oe=await b(ne,ie);oe&&r(G=>({...G,[W]:{...G[W],en:oe}}))}else if(ee){const oe=await b(ee,ie);oe&&r(G=>({...G,[W]:{...G[W],ar:oe}}))}}catch(ie){console.error("Translation failed:",ie)}finally{N(ie=>({...ie,[W]:!1}))}}},F=async(W,ee=!1)=>{if(W.preventDefault(),!M()||!u)return;const ne={...d,status:ee?"draft":d.status};O(!0);try{c?await k({...c,...ne}):await f(ne,u.email),r(i),n(null),x("list")}catch(ie){console.error("Failed to save post",ie),alert("Could not save post. Please try again.")}finally{O(!1)}},V=()=>{r(i),n(null),x("list")},z=W=>`w-full px-3 py-2 border rounded-lg focus:outline-none transition duration-150 ease-in-out bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400 ${W?"border-red-400 focus:ring-2 focus:ring-red-200":"border-gray-300 focus:ring-2 focus:ring-blue-200 focus:border-smart-blue"}`,X=(W,ee,ne="input")=>{var te,Q,le,se;const ie=ne==="input"?"input":"textarea",oe=ne==="textarea"?W==="excerpt"?3:6:void 0,G=d[W].en.trim()||d[W].ar.trim(),Z=W==="content",$={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["link","clean"],[{direction:"rtl"}],[{align:[]}]]};return w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[ee,S[W]&&w.jsx(Ae,{className:"inline-block ml-2 h-4 w-4 text-smart-blue"})]}),!j&&G&&w.jsxs("button",{type:"button",onClick:()=>R(W),disabled:S[W],className:"flex items-center gap-1 px-2 py-1 text-xs font-medium text-smart-blue hover:text-smart-blue-dark bg-blue-50 dark:bg-blue-900/30 rounded-md hover:bg-blue-100 dark:hover:bg-blue-900/50 transition-colors disabled:opacity-50",children:[w.jsx(je,{className:"h-3 w-3"}),S[W]?"Translating...":"Translate"]})]}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[w.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"English"}),w.jsx(je,{className:"h-3 w-3 text-gray-400"})]}),Z?w.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-lg overflow-hidden border border-gray-300 dark:border-gray-600",children:w.jsx(ca,{theme:"snow",value:d[W].en,onChange:ue=>H(W,"en",ue),modules:$,placeholder:`Enter ${W} in English...`,className:"bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})}):w.jsx(ie,{name:`${W}.en`,value:d[W].en,onChange:K,rows:oe,className:z((te=g[W])==null?void 0:te.en),placeholder:`Enter ${W} in English...`}),((Q=g[W])==null?void 0:Q.en)&&w.jsx("p",{className:"text-red-600 text-xs mt-1",children:g[W].en})]}),w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[w.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:""}),w.jsx(je,{className:"h-3 w-3 text-gray-400"})]}),Z?w.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg overflow-hidden border border-gray-300 dark:border-gray-600",dir:"rtl",children:[w.jsx("style",{children:`
                  .ql-editor { text-align: right; direction: rtl; }
                  .ql-editor.ql-blank::before { left: auto; right: 15px; }
                `}),w.jsx(ca,{theme:"snow",value:d[W].ar,onChange:ue=>H(W,"ar",ue),modules:$,placeholder:` ${W==="title"?"":W==="excerpt"?"":""} ...`,className:"bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}):w.jsx(ie,{name:`${W}.ar`,value:d[W].ar,onChange:K,dir:"rtl",rows:oe,className:z((le=g[W])==null?void 0:le.ar),placeholder:` ${W==="title"?"":W==="excerpt"?"":""} ...`}),((se=g[W])==null?void 0:se.ar)&&w.jsx("p",{className:"text-red-600 text-xs mt-1",children:g[W].ar})]})]})]})},re=()=>w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:m("dashboard.posts.title")}),w.jsx(fe,{onClick:B,children:m("dashboard.posts.addPost")})]}),w.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[w.jsx("input",{type:"text",placeholder:m("dashboard.posts.searchPlaceholder"),value:e,onChange:W=>t(W.target.value),className:"w-full md:w-1/3 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400"}),w.jsxs("select",{value:o,onChange:W=>l(W.target.value),className:"w-full md:w-auto px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-300 bg-white dark:bg-gray-700 dark:text-white dark:border-gray-600",children:[w.jsx("option",{value:"all",children:m("dashboard.posts.all")}),w.jsx("option",{value:"published",children:m("dashboard.posts.published")}),w.jsx("option",{value:"draft",children:m("dashboard.posts.draft")})]})]}),w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[w.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:w.jsxs("tr",{children:[w.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:m("dashboard.posts.table.title")}),w.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:m("dashboard.posts.table.author")}),w.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:m("dashboard.posts.table.status")}),w.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:m("dashboard.posts.table.date")}),w.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:m("dashboard.posts.table.actions")})]})}),w.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:U.length>0?U.map(W=>w.jsxs("tr",{className:"odd:bg-white even:bg-gray-50 dark:odd:bg-gray-800 dark:even:bg-black/10",children:[w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:m(W.title)}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:W.author}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:w.jsx(Oa,{color:W.status==="published"?"green":"gray",children:m(`dashboard.posts.${W.status}`)})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:W.date}),w.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2 rtl:space-x-reverse",children:[w.jsx("button",{onClick:()=>L(W),className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",title:m("dashboard.posts.toggleStatus"),children:W.status==="published"?m("dashboard.posts.unpublish"):m("dashboard.posts.publish")}),w.jsx("button",{onClick:()=>Y(W),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:m("dashboard.posts.edit")}),w.jsx("button",{onClick:()=>C(W),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:m("dashboard.posts.delete")})]})]},W.id)):w.jsx("tr",{children:w.jsx("td",{colSpan:5,className:"text-center py-10 text-gray-500 dark:text-gray-400",children:m("dashboard.posts.noPosts")})})})]})})]}),ae=()=>{var W,ee,ne;return w.jsxs("div",{className:"max-w-4xl",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:m(c?"dashboard.postForm.editTitle":"dashboard.postForm.addTitle")}),w.jsx("button",{onClick:V,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:m("dashboard.postsTabs.backToPosts")})]}),w.jsxs("form",{onSubmit:ie=>F(ie,!1),className:"space-y-6",children:[X("title",((W=m("dashboard.postForm.titleEn"))==null?void 0:W.replace(" (English)",""))||"Title","input"),X("excerpt",((ee=m("dashboard.postForm.excerptEn"))==null?void 0:ee.replace(" (English)",""))||"Excerpt","textarea"),X("content",((ne=m("dashboard.postForm.contentEn"))==null?void 0:ne.replace(" (English)",""))||"Content","textarea"),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:m("dashboard.postForm.headerImage")}),w.jsxs("div",{className:"flex gap-4 items-start",children:[w.jsx("div",{className:"w-32 h-20 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg flex items-center justify-center overflow-hidden flex-shrink-0",children:d.imageUrl?w.jsx("img",{src:d.imageUrl,alt:"Preview",className:"w-full h-full object-cover"}):w.jsx("span",{className:"text-xs text-gray-400",children:"No Image"})}),w.jsxs("div",{className:"flex-1 space-y-2",children:[w.jsxs("div",{className:"flex gap-2",children:[w.jsx("input",{type:"url",name:"imageUrl",value:d.imageUrl,onChange:K,placeholder:"https://example.com/image.jpg",className:z(g.imageUrl)+" flex-1"}),w.jsxs("button",{type:"button",onClick:()=>h(!0),className:"px-4 py-2 text-sm font-medium bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors flex items-center gap-2",children:[w.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Browse"]})]}),g.imageUrl&&w.jsx("p",{className:"text-red-600 text-xs",children:g.imageUrl}),w.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Enter URL or browse media library"})]})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:m("dashboard.postForm.status")}),w.jsxs("select",{name:"status",value:d.status,onChange:K,className:z()+" max-w-xs",children:[w.jsx("option",{value:"draft",children:m("dashboard.posts.draft")}),w.jsx("option",{value:"published",children:m("dashboard.posts.published")})]})]}),w.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[w.jsx(fe,{variant:"secondary",onClick:V,type:"button",children:m("dashboard.postForm.cancel")}),w.jsx(fe,{variant:"secondary",type:"button",disabled:p,onClick:ie=>F(ie,!0),children:"Save as Draft"}),w.jsx(fe,{type:"submit",disabled:p,className:"min-w-[120px]",children:p?w.jsx(ge,{className:"h-5 w-5 text-white"}):c?m("dashboard.postForm.save"):"Publish"})]})]})]})};return w.jsxs(xe,{children:[w.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-6",children:w.jsxs("nav",{className:"flex space-x-8 rtl:space-x-reverse","aria-label":"Tabs",children:[w.jsxs("button",{onClick:()=>{x("list"),n(null)},className:`py-3 px-1 border-b-2 font-medium text-sm transition-colors ${v==="list"?"border-smart-blue text-smart-blue":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400"}`,children:[" ",m("dashboard.postsTabs.allPosts")]}),w.jsxs("button",{onClick:()=>{x("add"),n(null)},className:`py-3 px-1 border-b-2 font-medium text-sm transition-colors ${v==="add"&&!c?"border-smart-blue text-smart-blue":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400"}`,children:[" ",m("dashboard.postsTabs.addNew")]}),c&&w.jsxs("span",{className:"py-3 px-1 border-b-2 border-smart-blue text-smart-blue font-medium text-sm",children:[" ",m("dashboard.postsTabs.editing")," ",y==="ar"?c.title.ar.substring(0,20):c.title.en.substring(0,20),"..."]})]})}),v==="list"&&re(),v==="add"&&ae(),s&&w.jsx(Or,{isOpen:!!s,onClose:()=>a(null),onConfirm:A,title:m("dashboard.confirmDelete.title"),message:m("dashboard.confirmDelete.messagePost")}),_&&w.jsx(fo,{value:d.imageUrl,onChange:W=>r(ee=>({...ee,imageUrl:W})),onClose:()=>h(!1)})]})},ho="smartstep.ly",po=({isOpen:q,onClose:I,user:k})=>{const{addUser:f,updateUser:u,users:m}=J.useContext(Oe),{t:y,language:b}=ve(),{generateAndShowEmail:v}=Se(),x={email:"",password:"",role:"employee"},[c,n]=J.useState(x),[e,t]=J.useState(!1),[o,l]=J.useState({});J.useEffect(()=>{n(k?{email:k.email,password:"",role:k.role}:x),l({})},[k,q]);const s=()=>{const r={};let p=!0;return c.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.email)?m.some(O=>O.email.toLowerCase()===c.email.toLowerCase()&&O.id!==(k==null?void 0:k.id))?(r.email=y("dashboard.userForm.emailExists"),p=!1):c.email.endsWith(`@${ho}`)&&(r.email=y("dashboard.userForm.emailDomainRestricted"),p=!1):(r.email=y("contact.validation.invalidEmail"),p=!1):(r.email=y("contact.validation.fieldRequired"),p=!1),!k&&!c.password?(r.password=y("contact.validation.fieldRequired"),p=!1):c.password&&c.password.length<8&&(r.password=y("resetPasswordPage.validation.passwordLength"),p=!1),l(r),p},a=r=>{const{name:p,value:O}=r.target;n(g=>({...g,[p]:O}))},i=async r=>{if(r.preventDefault(),!s())return;t(!0);const p={email:c.email,role:c.role,...c.password&&{password:c.password}};try{if(k)await u({...k,...p,password:c.password||k.password});else{const O=await f(p);if(O){const g=`${window.location.origin}${window.location.pathname}#/verify-email/${O}`;await v("new-user",{verificationLink:g},b)}}I()}catch(O){console.error("Failed to save user",O),alert("Could not save user. Please try again.")}finally{t(!1)}},d=r=>`w-full px-3 py-2 border rounded-lg focus:outline-none transition duration-150 ease-in-out bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400 ${r?"border-red-400 focus:ring-2 focus:ring-red-200":"border-gray-300 focus:ring-2 focus:ring-blue-200 focus:border-smart-blue"}`;return w.jsx(De,{isOpen:q,onClose:I,title:y(k?"dashboard.userForm.editTitle":"dashboard.userForm.addTitle"),children:w.jsxs("form",{onSubmit:i,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:y("dashboard.userForm.email")}),w.jsx("input",{id:"email",type:"email",name:"email",value:c.email,onChange:a,className:d(o.email),"aria-describedby":o.email?"email-error":void 0}),o.email&&w.jsx("p",{id:"email-error",className:"text-red-600 text-xs mt-1",role:"alert",children:o.email})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:y("dashboard.userForm.password")}),w.jsx("input",{id:"password",type:"password",name:"password",value:c.password,onChange:a,className:d(o.password),"aria-describedby":o.password?"password-error":void 0}),o.password&&w.jsx("p",{id:"password-error",className:"text-red-600 text-xs mt-1",role:"alert",children:o.password})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:y("dashboard.userForm.role")}),w.jsxs("select",{id:"role",name:"role",value:c.role,onChange:a,className:d(),children:[w.jsx("option",{value:"employee",children:y("dashboard.users.roleEmployee")}),w.jsx("option",{value:"admin",children:y("dashboard.users.roleAdmin")})]})]}),w.jsxs("div",{className:"pt-4 flex justify-end gap-4",children:[w.jsx(fe,{variant:"secondary",onClick:I,type:"button",children:y("dashboard.userForm.cancel")}),w.jsx(fe,{type:"submit",disabled:e,className:"flex items-center justify-center min-w-[120px]",children:e?w.jsx(ge,{className:"h-5 w-5 text-white"}):y("dashboard.userForm.save")})]})]})})},vo="arbh.ly@gmail.com",yo=()=>{const{users:q,deleteUser:I}=J.useContext(Oe),{t:k}=ve(),[f,u]=J.useState(!1),[m,y]=J.useState(null),[b,v]=J.useState(null),x=t=>{y(t),u(!0)},c=()=>{y(null),u(!0)},n=t=>{v(t)},e=async()=>{b&&(await I(b.id),v(null))};return w.jsxs(xe,{children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:k("dashboard.users.title")}),w.jsx(fe,{onClick:c,children:k("dashboard.users.addUser")})]}),w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[w.jsx("thead",{className:"bg-gray-50",children:w.jsxs("tr",{children:[w.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase tracking-wider",children:k("dashboard.users.table.email")}),w.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase tracking-wider",children:k("dashboard.users.table.role")}),w.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase tracking-wider",children:k("dashboard.users.table.actions")})]})}),w.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:q.length>0?q.map(t=>{const o=t.email===vo;return w.jsxs("tr",{className:"odd:bg-white even:bg-gray-50",children:[w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.email}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:w.jsx(Oa,{color:t.role==="Super admin"?"purple":t.role==="admin"?"blue":"gray",children:t.role==="Super admin"?"Super Admin":k(t.role==="admin"?"dashboard.users.roleAdmin":"dashboard.users.roleEmployee")})}),w.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2 rtl:space-x-reverse",children:[w.jsx("button",{onClick:()=>x(t),className:`text-blue-600 hover:text-blue-900 ${o?"opacity-50 cursor-not-allowed":""}`,disabled:o,children:k("dashboard.users.edit")}),w.jsx("button",{onClick:()=>n(t),className:`text-red-600 hover:text-red-900 ${o?"opacity-50 cursor-not-allowed":""}`,disabled:o,children:k("dashboard.users.delete")})]})]},t.id)}):w.jsx("tr",{children:w.jsx("td",{colSpan:3,className:"text-center py-10 text-gray-500",children:k("dashboard.users.noUsers")})})})]})}),f&&w.jsx(po,{isOpen:f,onClose:()=>u(!1),user:m}),b&&w.jsx(Or,{isOpen:!!b,onClose:()=>v(null),onConfirm:e,title:k("dashboard.confirmDelete.title"),message:k("dashboard.confirmDelete.messageUser")})]})},_e=8,we=128,go=({isOpen:q,onClose:I,onSave:k,imageSrc:f})=>{const u=J.useRef(null),m=J.useRef(null),y=J.useRef(null),[b,v]=J.useState({x:10,y:10,width:100,height:100}),[x,c]=J.useState(!1),[n,e]=J.useState(null),[t,o]=J.useState({x:0,y:0}),l=(h,j)=>{const T=u.current;if(!T)return{x:0,y:0};const P=T.getBoundingClientRect();return{x:h-P.left,y:j-P.top}},s=()=>{const h=u.current,j=h==null?void 0:h.getContext("2d"),T=y.current;if(!h||!j||!T)return;j.clearRect(0,0,h.width,h.height),j.drawImage(T,0,0,h.width,h.height),j.fillStyle="rgba(0, 0, 0, 0.5)",j.fillRect(0,0,h.width,h.height),j.clearRect(b.x,b.y,b.width,b.height),j.strokeStyle="#fff",j.lineWidth=2,j.strokeRect(b.x,b.y,b.width,b.height),j.fillStyle="#fff";const P=i(b);Object.values(P).forEach(D=>{j.fillRect(D.x-_e/2,D.y-_e/2,_e,_e)}),a()},a=()=>{const h=m.current,j=h==null?void 0:h.getContext("2d"),T=y.current,P=u.current;if(!h||!j||!T||!P)return;j.clearRect(0,0,h.width,h.height);const D=T.naturalWidth/P.width,U=T.naturalHeight/P.height;j.drawImage(T,b.x*D,b.y*U,b.width*D,b.height*U,0,0,h.width,h.height)};J.useEffect(()=>{const h=new Image;h.src=f,h.onload=()=>{y.current=h;const j=u.current;if(!j)return;const T=h.naturalWidth/h.naturalHeight,P=350;j.width=P,j.height=P/T;const D=Math.min(j.width,j.height)*.8;v({x:(j.width-D)/2,y:(j.height-D)/2,width:D,height:D})}},[f]),J.useEffect(()=>{y.current&&s()},[b,y.current]);const i=h=>({tl:{x:h.x,y:h.y},tr:{x:h.x+h.width,y:h.y},bl:{x:h.x,y:h.y+h.height},br:{x:h.x+h.width,y:h.y+h.height}}),d=(h,j)=>{const T=i(j);for(const P in T){const D=T[P];if(Math.abs(h.x-D.x)<_e&&Math.abs(h.y-D.y)<_e)return P}return null},r=h=>{const j=d(h,b);j?e(j):h.x>b.x&&h.x<b.x+b.width&&h.y>b.y&&h.y<b.y+b.height&&c(!0),o(h)},p=h=>{const j=u.current;if(!j)return;const T=h.x-t.x,P=h.y-t.y;x?v(D=>({...D,x:Math.max(0,Math.min(D.x+T,j.width-D.width)),y:Math.max(0,Math.min(D.y+P,j.height-D.height))})):n&&v(D=>{let{x:U,y:Y,width:B,height:C}=D,A=B,L=C;n.includes("r")&&(A=B+T),n.includes("l")&&(A=B-T,U+=T),n.includes("b")&&(L=C+P),n.includes("t")&&(L=C-P,Y+=P);const M=Math.max(A,L);return n.includes("l")&&(U=D.x+D.width-M),n.includes("t")&&(Y=D.y+D.height-M),B=M,C=M,U<0&&(U=0,B=D.width+D.x),Y<0&&(Y=0,C=D.height+D.y),U+B>j.width&&(B=j.width-U,C=B),Y+C>j.height&&(C=j.height-Y,B=C),{x:U,y:Y,width:B,height:C}}),o(h)},O=()=>{c(!1),e(null)},g=h=>r(l(h.clientX,h.clientY)),E=h=>p(l(h.clientX,h.clientY)),S=h=>r(l(h.touches[0].clientX,h.touches[0].clientY)),N=h=>p(l(h.touches[0].clientX,h.touches[0].clientY)),_=()=>{const h=u.current,j=y.current;if(!h||!j)return;const T=document.createElement("canvas");T.width=we,T.height=we;const P=T.getContext("2d");if(!P)return;const D=j.naturalWidth/h.width,U=j.naturalHeight/h.height;P.drawImage(j,b.x*D,b.y*U,b.width*D,b.height*U,0,0,we,we),k(T.toDataURL("image/png"))};return q?w.jsx(De,{isOpen:q,onClose:I,title:"Crop Logo",children:w.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[w.jsx("div",{className:"flex-grow",children:w.jsx("canvas",{ref:u,className:"cursor-move border border-gray-300 dark:border-gray-600",onMouseDown:g,onMouseMove:E,onMouseUp:O,onMouseLeave:O,onTouchStart:S,onTouchMove:N,onTouchEnd:O})}),w.jsxs("div",{className:"flex-shrink-0 text-center space-y-2",children:[w.jsx("p",{className:"font-semibold text-sm",children:"Live Preview"}),w.jsx("canvas",{ref:m,width:we,height:we,className:"border-2 border-dashed border-gray-400 dark:border-gray-500 rounded-md"}),w.jsxs("div",{className:"flex gap-2 justify-center pt-4",children:[w.jsx(fe,{variant:"secondary",onClick:I,children:"Cancel"}),w.jsx(fe,{onClick:_,children:"Save"})]})]})]})}):null},mo=()=>{const{siteInfo:q,updateSiteInfo:I}=J.useContext(Oe),{user:k}=Se(),{t:f}=ve(),{translate:u}=wr(),[m,y]=J.useState(q),[b,v]=J.useState(!1),[x,c]=J.useState(!1),[n,e]=J.useState(!1),[t,o]=J.useState({isOpen:!1,imageSrc:""}),[l,s]=J.useState(()=>localStorage.getItem("autoTranslateEnabled")!=="false"),[a,i]=J.useState(""),[d,r]=J.useState(!1),[p,O]=J.useState("idle"),g=J.useRef(null),E=J.useRef(null),S=J.useRef(null),N=(k==null?void 0:k.role)==="Super admin";J.useEffect(()=>{y(q)},[q]),J.useEffect(()=>()=>{E.current&&clearTimeout(E.current)},[]);const _=()=>{const B=!l;s(B),localStorage.setItem("autoTranslateEnabled",String(B))},h=async()=>{if(a.trim()){O("saving");try{await mr("/settings",{method:"PUT",body:JSON.stringify({settings:[{key:"gemini_api_key",value:a,group:"translation"}]})}),O("saved"),setTimeout(()=>O("idle"),3e3)}catch(B){console.error("Failed to save API key:",B),O("error")}}},j=async()=>{O("saving");try{await mr("/settings",{method:"PUT",body:JSON.stringify({settings:[{key:"gemini_api_key",value:"",group:"translation"}]})}),i(""),O("idle")}catch(B){console.error("Failed to delete API key:",B),O("error")}},T=B=>{const{name:C,value:A}=B.target;if(S.current=C,C.includes(".")){const[L,M]=C.split(".");y(K=>({...K,[L]:{...K[L],[M]:A}}))}else y(L=>({...L,[C]:A}));if(l&&(E.current&&clearTimeout(E.current),!!C.includes("."))){if(!A.trim()){e(!1);return}e(!0),E.current=window.setTimeout(async()=>{if(S.current!==C){e(!1);return}const[L,M]=C.split("."),K=M==="ar"?"en":"ar",H=await u(A,"a business address");H&&S.current===C&&y(R=>({...R,address:{...R.address,[K]:H}})),e(!1)},800)}},P=B=>{B.preventDefault(),v(!0),setTimeout(()=>{I(m),v(!1),c(!0),setTimeout(()=>c(!1),3e3)},1e3)},D=B=>{if(B.target.files&&B.target.files[0]){const C=B.target.files[0],A=new FileReader;A.onload=L=>{var M;o({isOpen:!0,imageSrc:(M=L.target)==null?void 0:M.result})},A.readAsDataURL(C),B.target.value=""}},U=B=>{y(C=>({...C,logoUrl:B})),o({isOpen:!1,imageSrc:""})},Y=()=>"w-full px-3 py-2 border rounded-lg focus:outline-none transition duration-150 ease-in-out bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400 border-gray-300 focus:ring-2 focus:ring-blue-200 focus:border-smart-blue";return w.jsxs("div",{className:"space-y-6",children:[w.jsxs(xe,{children:[w.jsxs("div",{className:"mb-6",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:f("dashboard.settings.title")}),w.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:f("dashboard.settings.subtitle")})]}),w.jsxs("form",{onSubmit:P,className:"space-y-6 max-w-lg",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Website Logo"}),w.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[w.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-700 border dark:border-gray-600 rounded-md flex items-center justify-center overflow-hidden",children:m.logoUrl?w.jsx("img",{src:m.logoUrl,alt:"Logo Preview",className:"max-w-full max-h-full object-contain"}):w.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 p-2 text-center",children:"No Logo"})}),w.jsx("input",{type:"file",accept:"image/png, image/jpeg, image/svg+xml",ref:g,onChange:D,hidden:!0}),w.jsx(fe,{type:"button",variant:"secondary",onClick:()=>{var B;return(B=g.current)==null?void 0:B.click()},children:"Upload Logo"})]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-2 relative",children:[w.jsx("div",{className:"absolute top-2 left-1/2 -translate-x-1/2 rtl:translate-x-1/2 flex items-center justify-center h-5 w-5 bg-gray-100 dark:bg-gray-600 rounded-full border dark:border-gray-500 z-10",children:n?w.jsx(Ae,{className:"h-4 w-4 text-smart-blue"}):w.jsx(je,{className:"h-4 w-4 text-gray-400"})}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:f("dashboard.settings.addressEn")}),w.jsx("input",{type:"text",name:"address.en",value:m.address.en,onChange:T,className:Y()})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:f("dashboard.settings.addressAr")}),w.jsx("input",{type:"text",name:"address.ar",value:m.address.ar,onChange:T,dir:"rtl",className:Y()})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:f("dashboard.settings.phone")}),w.jsx("input",{type:"text",name:"phone",value:m.phone,onChange:T,className:Y()})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:f("dashboard.settings.email")}),w.jsx("input",{type:"email",name:"email",value:m.email,onChange:T,className:Y()})]}),w.jsxs("div",{className:"pt-4 flex items-center gap-4",children:[w.jsx(fe,{type:"submit",disabled:b,className:"flex items-center justify-center min-w-[150px]",children:b?w.jsx(ge,{className:"h-5 w-5 text-white"}):f("dashboard.settings.save")}),x&&w.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 transition-opacity duration-300",children:[w.jsx(qa,{className:"h-5 w-5"}),w.jsx("span",{children:f("dashboard.settings.success")})]})]})]})]}),w.jsxs(xe,{children:[w.jsxs("div",{className:"mb-6",children:[w.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"Translation Settings"}),w.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Configure automatic translation behavior"})]}),w.jsxs("div",{className:"space-y-4 max-w-lg",children:[w.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Auto-Translate Content"}),w.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Automatically translate content as you type"})]}),w.jsx("button",{type:"button",onClick:_,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-smart-blue focus:ring-offset-2 ${l?"bg-smart-blue":"bg-gray-300 dark:bg-gray-600"}`,children:w.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${l?"translate-x-5":"translate-x-0"}`})})]}),N&&w.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Gemini API Key (Super Admin Only)"}),w.jsx("div",{className:"flex gap-2",children:w.jsxs("div",{className:"relative flex-1",children:[w.jsx("input",{type:d?"text":"password",value:a,onChange:B=>i(B.target.value),placeholder:"Enter your Gemini API key",className:Y()}),w.jsx("button",{type:"button",onClick:()=>r(!d),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:d?"":""})]})}),w.jsxs("div",{className:"flex gap-2 mt-3",children:[w.jsx(fe,{type:"button",onClick:h,disabled:!a.trim()||p==="saving",className:"text-sm",children:p==="saving"?"Saving...":p==="saved"?" Saved":"Save Key"}),w.jsx(fe,{type:"button",variant:"secondary",onClick:j,className:"text-sm",children:"Delete Key"})]}),w.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:["Get your API key from ",w.jsx("a",{href:"https://makersuite.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-smart-blue hover:underline",children:"Google AI Studio"})]})]})]})]}),t.isOpen&&w.jsx(go,{isOpen:t.isOpen,onClose:()=>o({isOpen:!1,imageSrc:""}),imageSrc:t.imageSrc,onSave:U})]})},bo=({isOpen:q,onClose:I,member:k})=>{const{addTeamMember:f,updateTeamMember:u}=J.useContext(Oe),{t:m}=ve(),{translate:y}=wr(),b={name:{ar:"",en:""},role:{ar:"",en:""},imageUrl:""},[v,x]=J.useState(b),[c,n]=J.useState(!1),[e,t]=J.useState({}),[o,l]=J.useState({name:!1,role:!1}),s=J.useRef(null),a=J.useRef(null);J.useEffect(()=>{x(k?{name:k.name,role:k.role,imageUrl:k.imageUrl}:b),t({}),l({name:!1,role:!1})},[k,q]),J.useEffect(()=>()=>{s.current&&clearTimeout(s.current)},[]);const i=()=>{const g={name:{},role:{}};let E=!0;return v.name.en.trim()||(g.name.en=m("contact.validation.fieldRequired"),E=!1),v.name.ar.trim()||(g.name.ar=m("contact.validation.fieldRequired"),E=!1),v.role.en.trim()||(g.role.en=m("contact.validation.fieldRequired"),E=!1),v.role.ar.trim()||(g.role.ar=m("contact.validation.fieldRequired"),E=!1),v.imageUrl.trim()||(g.imageUrl=m("contact.validation.fieldRequired"),E=!1),t(g),E},d=g=>{const{name:E,value:S}=g.target;if(a.current=E,E.includes(".")){const[h,j]=E.split(".");x(T=>({...T,[h]:{...T[h],[j]:S}}))}else x(h=>({...h,[E]:S}));if(s.current&&clearTimeout(s.current),!E.includes("."))return;const[N,_]=E.split(".");if(!S.trim()){l(h=>({...h,[N]:!1}));return}l(h=>({...h,[N]:!0})),s.current=window.setTimeout(async()=>{if(a.current!==E){l(P=>({...P,[N]:!1}));return}const h=_==="ar"?"en":"ar",j=`a team member's ${N}`,T=await y(S,j);T&&a.current===E&&x(P=>({...P,[N]:{...P[N],[h]:T}})),l(P=>({...P,[N]:!1}))},800)},r=g=>{g.preventDefault(),i()&&(n(!0),setTimeout(()=>{k?u({...k,...v}):f(v),n(!1),I()},1e3))},p=g=>`w-full px-3 py-2 border rounded-lg focus:outline-none transition duration-150 ease-in-out bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400 ${g?"border-red-400 focus:ring-2 focus:ring-red-200":"border-gray-300 focus:ring-2 focus:ring-blue-200 focus:border-smart-blue"}`,O=g=>{var E,S,N,_,h,j;return w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-2 relative",children:[w.jsx("div",{className:"absolute top-2 left-1/2 -translate-x-1/2 rtl:translate-x-1/2 flex items-center justify-center h-5 w-5 bg-gray-100 dark:bg-gray-600 rounded-full border dark:border-gray-500 z-10",children:o[g]?w.jsx(Ae,{}):w.jsx(je,{})}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:`${g}-en`,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m(`dashboard.teamForm.${g}En`)}),w.jsx("input",{type:"text",id:`${g}-en`,name:`${g}.en`,value:v[g].en,onChange:d,className:p((E=e[g])==null?void 0:E.en),"aria-describedby":(S=e[g])!=null&&S.en?`${g}-en-error`:void 0}),((N=e[g])==null?void 0:N.en)&&w.jsx("p",{id:`${g}-en-error`,className:"text-red-600 text-xs mt-1",role:"alert",children:e[g].en})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:`${g}-ar`,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m(`dashboard.teamForm.${g}Ar`)}),w.jsx("input",{type:"text",id:`${g}-ar`,name:`${g}.ar`,value:v[g].ar,onChange:d,dir:"rtl",className:p((_=e[g])==null?void 0:_.ar),"aria-describedby":(h=e[g])!=null&&h.ar?`${g}-ar-error`:void 0}),((j=e[g])==null?void 0:j.ar)&&w.jsx("p",{id:`${g}-ar-error`,className:"text-red-600 text-xs mt-1",role:"alert",children:e[g].ar})]})]})};return w.jsx(De,{isOpen:q,onClose:I,title:m(k?"dashboard.teamForm.editTitle":"dashboard.teamForm.addTitle"),children:w.jsxs("form",{onSubmit:r,className:"space-y-4",children:[O("name"),O("role"),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m("dashboard.teamForm.imageUrl")}),w.jsx("input",{id:"imageUrl",type:"text",name:"imageUrl",value:v.imageUrl,onChange:d,className:p(e.imageUrl),"aria-describedby":e.imageUrl?"imageUrl-error":void 0}),e.imageUrl&&w.jsx("p",{id:"imageUrl-error",className:"text-red-600 text-xs mt-1",role:"alert",children:e.imageUrl})]}),w.jsxs("div",{className:"pt-4 flex justify-end gap-4",children:[w.jsx(fe,{variant:"secondary",onClick:I,type:"button",children:m("dashboard.teamForm.cancel")}),w.jsx(fe,{type:"submit",disabled:c,className:"flex items-center justify-center min-w-[120px]",children:c?w.jsx(ge,{}):m(k?"dashboard.teamForm.save":"dashboard.teamForm.addTitle")})]})]})})},xo=()=>{const{teamMembers:q,deleteTeamMember:I}=J.useContext(Oe),{t:k}=ve(),[f,u]=J.useState(!1),[m,y]=J.useState(null),[b,v]=J.useState(null),x=t=>{y(t),u(!0)},c=()=>{y(null),u(!0)},n=t=>{v(t)},e=()=>{b&&(I(b.id),v(null))};return w.jsxs(xe,{children:[w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:k("dashboard.team.title")}),w.jsx(fe,{onClick:c,children:k("dashboard.team.addMember")})]}),w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[w.jsx("thead",{className:"bg-gray-50",children:w.jsxs("tr",{children:[w.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase tracking-wider",children:k("dashboard.team.table.photo")}),w.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase tracking-wider",children:k("dashboard.team.table.name")}),w.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase tracking-wider",children:k("dashboard.team.table.role")}),w.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase tracking-wider",children:k("dashboard.team.table.actions")})]})}),w.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:q.length>0?q.map(t=>w.jsxs("tr",{className:"odd:bg-white even:bg-gray-50",children:[w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:t.imageUrl,alt:k(t.name)})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:k(t.name)}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k(t.role)}),w.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2 rtl:space-x-reverse",children:[w.jsx("button",{onClick:()=>x(t),className:"text-blue-600 hover:text-blue-900",children:k("dashboard.team.edit")}),w.jsx("button",{onClick:()=>n(t),className:"text-red-600 hover:text-red-900",children:k("dashboard.team.delete")})]})]},t.id)):w.jsx("tr",{children:w.jsx("td",{colSpan:4,className:"text-center py-10 text-gray-500",children:k("dashboard.team.noMembers")})})})]})}),f&&w.jsx(bo,{isOpen:f,onClose:()=>u(!1),member:m}),b&&w.jsx(Or,{isOpen:!!b,onClose:()=>v(null),onConfirm:e,title:k("dashboard.confirmDelete.title"),message:k("dashboard.confirmDelete.messageTeamMember")})]})},_o=[{value:"all",labelKey:"dashboard.messages.filter.all"},{value:"new",labelKey:"dashboard.messages.filter.new"},{value:"read",labelKey:"dashboard.messages.filter.read"},{value:"archived",labelKey:"dashboard.messages.filter.archived"}],wo=()=>{const{t:q}=ve(),[I,k]=J.useState([]),[f,u]=J.useState(null),[m,y]=J.useState("all"),[b,v]=J.useState(!1),[x,c]=J.useState(null),[n,e]=J.useState(""),[t,o]=J.useState(!1),[l,s]=J.useState(!1),a=J.useMemo(()=>I.find(O=>O.id===f)||null,[I,f]),i=async()=>{v(!0),c(null);try{const O=await Pa(m==="all"?void 0:m),g=Array.isArray(O==null?void 0:O.data)?O.data:Array.isArray(O)?O:(O==null?void 0:O.data)??[];k(g),!f&&g.length&&u(g[0].id)}catch(O){c((O==null?void 0:O.message)||q("dashboard.messages.errors.load"))}finally{v(!1)}};J.useEffect(()=>{i()},[m]);const d=async(O,g)=>{if(u(O),g==="new"){s(!0);try{await kr(O,"read"),k(E=>E.map(S=>S.id===O?{...S,status:"read"}:S))}catch{}finally{s(!1)}}},r=async()=>{if(!(!a||!n.trim())){o(!0),c(null);try{const O=await Ra(a.id,n.trim());k(g=>g.map(E=>E.id===a.id?{...E,...O}:E)),e("")}catch(O){c((O==null?void 0:O.message)||q("dashboard.messages.errors.reply"))}finally{o(!1)}}},p=async()=>{if(a){s(!0);try{await kr(a.id,a.status==="archived"?"read":"archived"),k(O=>O.map(g=>g.id===a.id?{...g,status:g.status==="archived"?"read":"archived"}:g))}catch(O){c((O==null?void 0:O.message)||q("dashboard.messages.errors.status"))}finally{s(!1)}}};return w.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[w.jsxs(xe,{className:"lg:col-span-1 p-4",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[w.jsx(da,{className:"text-smart-blue"}),q("dashboard.messages.title")]}),w.jsx("select",{className:"border rounded px-2 py-1 text-sm dark:bg-gray-700 dark:border-gray-600",value:m,onChange:O=>y(O.target.value),children:_o.map(O=>w.jsx("option",{value:O.value,children:q(O.labelKey)},O.value))})]}),b?w.jsx("div",{className:"flex justify-center py-10",children:w.jsx(ge,{className:"h-6 w-6"})}):x?w.jsx("div",{className:"text-red-600 text-sm",children:x}):w.jsxs("div",{className:"space-y-2 max-h-[70vh] overflow-auto pr-1",children:[I.length===0&&w.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:q("dashboard.messages.empty")}),I.map(O=>w.jsxs("button",{onClick:()=>d(O.id,O.status),className:`w-full text-left p-3 rounded-lg border transition ${f===O.id?"border-smart-blue bg-blue-50 dark:bg-gray-800":"border-gray-200 dark:border-gray-700"}`,children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("div",{className:"font-semibold text-sm text-gray-800 dark:text-gray-100",children:O.name}),w.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${O.status==="new"?"bg-green-100 text-green-700":O.status==="archived"?"bg-gray-200 text-gray-700":"bg-blue-100 text-blue-700"}`,children:q(`dashboard.messages.status.${O.status}`)})]}),w.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:O.email}),O.subject&&w.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-300 truncate",children:O.subject}),w.jsx("div",{className:"text-xs text-gray-400 mt-1",children:new Date(O.created_at).toLocaleString()})]},O.id))]})]}),w.jsx(xe,{className:"lg:col-span-2 p-6",children:a?w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex items-start justify-between gap-4",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:a.subject||q("dashboard.messages.noSubject")}),w.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[q("dashboard.messages.from"),": ",a.name," (",a.email,")"]}),w.jsx("p",{className:"text-xs text-gray-400",children:new Date(a.created_at).toLocaleString()})]}),w.jsx(fe,{onClick:p,variant:"secondary",disabled:l,children:l?q("dashboard.messages.updating"):a.status==="archived"?q("dashboard.messages.unarchive"):q("dashboard.messages.archive")})]}),w.jsx("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 p-4 bg-gray-50 dark:bg-gray-800",children:w.jsx("p",{className:"whitespace-pre-wrap text-gray-800 dark:text-gray-100",children:a.message})}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:q("dashboard.messages.replyLabel")}),a.reply_message&&w.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-300",children:[q("dashboard.messages.lastReply")," ",a.replied_at?new Date(a.replied_at).toLocaleString():""]}),w.jsx("textarea",{value:n,onChange:O=>e(O.target.value),rows:4,className:"w-full border rounded-lg p-3 bg-white dark:bg-gray-800 dark:border-gray-700",placeholder:q("dashboard.messages.replyPlaceholder")}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsxs(fe,{onClick:r,disabled:t||!n.trim(),className:"flex items-center gap-2",children:[t&&w.jsx(ge,{className:"h-4 w-4"}),q("dashboard.messages.sendReply")]}),a.reply_message&&w.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:q("dashboard.messages.alreadyReplied")})]})]}),x&&w.jsx("div",{className:"text-red-600 text-sm",children:x})]}):w.jsx("p",{className:"text-gray-500 dark:text-gray-300",children:q("dashboard.messages.noSelection")})})]})},Oo=[{value:"all",labelKey:"dashboard.subscriptions.filter.all"},{value:"active",labelKey:"dashboard.subscriptions.filter.active"},{value:"unsubscribed",labelKey:"dashboard.subscriptions.filter.unsubscribed"}],ko=()=>{const{t:q}=ve(),[I,k]=J.useState([]),[f,u]=J.useState("all"),[m,y]=J.useState(!1),[b,v]=J.useState(null),[x,c]=J.useState(null),n=async()=>{y(!0),v(null);try{const o=await Ca(f==="all"?void 0:f),l=Array.isArray(o==null?void 0:o.data)?o.data:Array.isArray(o)?o:(o==null?void 0:o.data)??[];k(l)}catch(o){console.error("Failed to load subscriptions:",o),v((o==null?void 0:o.message)||q("dashboard.subscriptions.errors.load"))}finally{y(!1)}};J.useEffect(()=>{n()},[f]);const e=async o=>{const l=o.status==="active"?"unsubscribed":"active";c(o.id);try{await Ia(o.id,l),k(s=>s.map(a=>a.id===o.id?{...a,status:l}:a))}catch(s){v((s==null?void 0:s.message)||q("dashboard.subscriptions.errors.update"))}finally{c(null)}},t=async o=>{if(confirm(q("dashboard.subscriptions.confirmDelete"))){c(o);try{await Ma(o),k(l=>l.filter(s=>s.id!==o))}catch(l){v((l==null?void 0:l.message)||q("dashboard.subscriptions.errors.delete"))}finally{c(null)}}};return w.jsxs(xe,{className:"p-6",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6",children:[w.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[w.jsx(da,{className:"text-smart-blue"}),q("dashboard.subscriptions.title")||"Email Subscriptions"]}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("select",{className:"border rounded px-3 py-2 text-sm dark:bg-gray-700 dark:border-gray-600",value:f,onChange:o=>u(o.target.value),children:Oo.map(o=>w.jsx("option",{value:o.value,children:q(o.labelKey)||o.value},o.value))}),w.jsx(fe,{onClick:n,variant:"secondary",disabled:m,children:m?w.jsx(ge,{className:"h-4 w-4"}):q("dashboard.refresh")||"Refresh"})]})]}),b&&w.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-600 dark:text-red-400 text-sm",children:b}),m?w.jsx("div",{className:"flex justify-center py-12",children:w.jsx(ge,{className:"h-8 w-8"})}):I.length===0?w.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:q("dashboard.subscriptions.empty")||"No subscriptions found"}):w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"w-full text-left",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"border-b dark:border-gray-700",children:[w.jsx("th",{className:"py-3 px-4 font-semibold text-gray-700 dark:text-gray-200",children:q("dashboard.subscriptions.email")||"Email"}),w.jsx("th",{className:"py-3 px-4 font-semibold text-gray-700 dark:text-gray-200",children:q("dashboard.subscriptions.name")||"Name"}),w.jsx("th",{className:"py-3 px-4 font-semibold text-gray-700 dark:text-gray-200",children:q("dashboard.subscriptions.source")||"Source"}),w.jsx("th",{className:"py-3 px-4 font-semibold text-gray-700 dark:text-gray-200",children:q("dashboard.subscriptions.status")||"Status"}),w.jsx("th",{className:"py-3 px-4 font-semibold text-gray-700 dark:text-gray-200",children:q("dashboard.subscriptions.date")||"Date"}),w.jsx("th",{className:"py-3 px-4 font-semibold text-gray-700 dark:text-gray-200",children:q("dashboard.subscriptions.actions")||"Actions"})]})}),w.jsx("tbody",{children:I.map(o=>w.jsxs("tr",{className:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[w.jsx("td",{className:"py-3 px-4 text-gray-800 dark:text-gray-100",children:o.email}),w.jsx("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-300",children:o.name||"-"}),w.jsx("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-300",children:w.jsx("span",{className:"text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:o.source||"website"})}),w.jsx("td",{className:"py-3 px-4",children:w.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${o.status==="active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-400"}`,children:o.status})}),w.jsx("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-300 text-sm",children:new Date(o.subscribed_at).toLocaleDateString()}),w.jsx("td",{className:"py-3 px-4",children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(fe,{variant:"secondary",onClick:()=>e(o),disabled:x===o.id,className:"text-xs py-1 px-2",children:x===o.id?w.jsx(ge,{className:"h-3 w-3"}):o.status==="active"?q("dashboard.subscriptions.unsubscribe")||"Unsubscribe":q("dashboard.subscriptions.resubscribe")||"Resubscribe"}),w.jsx("button",{onClick:()=>t(o.id),disabled:x===o.id,className:"p-1.5 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition",title:q("dashboard.subscriptions.delete")||"Delete",children:w.jsx(La,{className:"h-4 w-4"})})]})})]},o.id))})]})}),w.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:[q("dashboard.subscriptions.total")||"Total",": ",I.length," ",q("dashboard.subscriptions.subscribers")||"subscribers"]})]})},Ao=()=>{const{user:q}=Se(),{t:I}=ve(),[k,f]=J.useState("posts"),[u,m]=J.useState(!1),y=()=>{switch(k){case"posts":return w.jsx(fa,{});case"messages":return w.jsx(wo,{});case"subscriptions":return w.jsx(ko,{});case"users":return w.jsx(yo,{});case"team":return w.jsx(xo,{});case"settings":return w.jsx(mo,{});default:return w.jsx(fa,{})}},b=()=>{const v={posts:I("dashboard.tabs.posts"),messages:I("dashboard.tabs.messages"),subscriptions:I("dashboard.tabs.subscriptions")||"Subscriptions",users:I("dashboard.tabs.users"),team:I("dashboard.tabs.team"),settings:I("dashboard.tabs.settings")};return v[k]||v.posts};return w.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[w.jsx(Va,{activeSection:k,onSectionChange:f,isOpen:u,onToggle:()=>m(!u)}),w.jsx("main",{className:"flex-1 overflow-y-auto",children:w.jsxs("div",{className:"container mx-auto px-6 py-8",children:[w.jsxs("div",{className:"mb-8",children:[w.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:b()}),w.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[I("dashboardPage.welcome")," ",q==null?void 0:q.email]})]}),w.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:y()})]})})]})};export{Ao as default};
