import{u as N,h as P,i as k,k as S,r,j as e,d as h,f as E}from"./index-CPX-lSZf.js";import{C}from"./Card-TM38ZO9b.js";import{B as L}from"./Button-a7pG-8Yw.js";import{u as q}from"./useSeo-CtxesKoA.js";const R=()=>{var x,p;const{t:a}=N();q(a("loginPage.title"),a("loginPage.subtitle"));const{login:f,isAuthenticated:l,loading:b}=P(),t=k(),y=S(),[d,j]=r.useState(""),[c,v]=r.useState(""),[u,o]=r.useState(""),[m,g]=r.useState(!1),i=((p=(x=y.state)==null?void 0:x.from)==null?void 0:p.pathname)||"/dashboard";r.useEffect(()=>{l&&t(i,{replace:!0})},[l,t,i]);const w=async s=>{s.preventDefault(),o(""),g(!0);try{(await f(d,c)).otpRequired?t("/verify-otp"):t(i,{replace:!0})}catch(n){n instanceof Error&&n.message==="unverified"?o(a("loginPage.unverifiedError")):o(a("loginPage.errorMessage"))}finally{g(!1)}};return b&&!l?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(h,{})}):e.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-200px)] bg-gray-50 dark:bg-zinc-950 py-12 px-4 sm:px-6 lg:px-8 transition-colors duration-300",children:e.jsx("div",{className:"max-w-md w-full space-y-8",children:e.jsx("div",{className:"animate-on-scroll is-visible",children:e.jsxs(C,{className:"p-10",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-smart-blue",children:a("loginPage.title")}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:a("loginPage.subtitle")})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:w,noValidate:!0,children:[e.jsx("input",{type:"hidden",name:"remember",defaultValue:"true"}),e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email-address",className:"sr-only",children:a("loginPage.email")}),e.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700 rounded-t-md focus:outline-none focus:ring-smart-blue focus:border-smart-blue focus:z-10 sm:text-sm",placeholder:a("loginPage.emailPlaceholder"),value:d,onChange:s=>j(s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"sr-only",children:a("loginPage.password")}),e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700 rounded-b-md focus:outline-none focus:ring-smart-blue focus:border-smart-blue focus:z-10 sm:text-sm",placeholder:a("loginPage.passwordPlaceholder"),value:c,onChange:s=>v(s.target.value)})]})]}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx("div",{className:"text-sm",children:e.jsx(E,{to:"/forgot-password",className:"font-medium text-smart-blue hover:text-blue-700 dark:text-soft-blue dark:hover:text-blue-400",children:a("loginPage.forgotPassword")})})}),u&&e.jsx("p",{className:"text-sm text-red-600 text-center","aria-live":"polite",children:u}),e.jsx("div",{children:e.jsxs(L,{type:"submit",className:"w-full flex justify-center",disabled:m,children:[m&&e.jsx(h,{}),a("loginPage.loginButton")]})})]})]})})})})};export{R as default};
