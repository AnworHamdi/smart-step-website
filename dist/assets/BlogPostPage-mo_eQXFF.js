import{j as e,b as x,r as d,u as g,f as u,g as f,D as w}from"./index-CTFYKnJ2.js";import{u as v}from"./useSeo-CUnsv19d.js";const N=()=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx(x,{className:"h-12 w-3/4 mb-4"}),e.jsx(x,{className:"h-4 w-1/2 mb-8"}),e.jsx(x,{className:"w-full aspect-[4/3] rounded-xl mb-8"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(x,{className:"h-5 w-full"}),e.jsx(x,{className:"h-5 w-full"}),e.jsx(x,{className:"h-5 w-11/12"}),e.jsx("br",{}),e.jsx(x,{className:"h-5 w-full"}),e.jsx(x,{className:"h-5 w-10/12"})]})]}),k=()=>{const[a,s]=d.useState(0);return d.useEffect(()=>{const l=()=>{const n=window.scrollY,t=document.documentElement.scrollHeight-window.innerHeight,c=t>0?n/t*100:0;s(Math.min(100,Math.max(0,c)))};return window.addEventListener("scroll",l,{passive:!0}),l(),()=>window.removeEventListener("scroll",l)},[]),e.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 h-1 bg-gray-200/50 dark:bg-zinc-800/50",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-smart-blue to-smart-green transition-all duration-150 ease-out",style:{width:`${a}%`}})})},b=({content:a})=>{g();const[s,l]=d.useState(""),[n,t]=d.useState(!1),c=d.useMemo(()=>{const o=new DOMParser().parseFromString(a,"text/html"),i=[];return o.querySelectorAll("h2, h3").forEach((m,p)=>{const j=m.id||`heading-${p}`;i.push({id:j,text:m.textContent||"",level:m.tagName==="H2"?2:3})}),i},[a]);if(d.useEffect(()=>{const r=document.querySelector(".prose");r&&r.querySelectorAll("h2, h3").forEach((o,i)=>{o.id||(o.id=`heading-${i}`)})},[a]),d.useEffect(()=>{const r=new IntersectionObserver(o=>{o.forEach(i=>{i.isIntersecting&&l(i.target.id)})},{rootMargin:"-80px 0px -80% 0px"});return c.forEach(({id:o})=>{const i=document.getElementById(o);i&&r.observe(i)}),()=>r.disconnect()},[c]),c.length<2)return null;const h=r=>{const o=document.getElementById(r);if(o){const m=o.getBoundingClientRect().top+window.scrollY-100;window.scrollTo({top:m,behavior:"smooth"}),t(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>t(!n),className:"lg:hidden fixed bottom-20 right-4 z-40 p-3 bg-smart-blue text-white rounded-full shadow-lg hover:shadow-xl transition-shadow","aria-label":"Toggle table of contents",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})}),e.jsx("nav",{className:"hidden lg:block sticky top-28 h-fit max-h-[calc(100vh-8rem)] overflow-y-auto",children:e.jsxs("div",{className:"p-5 bg-white dark:bg-zinc-900 rounded-xl shadow-sm border border-gray-100 dark:border-zinc-800",children:[e.jsx("h4",{className:"text-sm font-bold text-gray-900 dark:text-white mb-4 uppercase tracking-wider",children:"Table of Contents"}),e.jsx("ul",{className:"space-y-2",children:c.map(({id:r,text:o,level:i})=>e.jsx("li",{children:e.jsx("button",{onClick:()=>h(r),className:`text-left w-full text-sm transition-all duration-200 hover:text-smart-blue ${i===3?"ps-4":""} ${s===r?"text-smart-blue font-semibold":"text-gray-600 dark:text-gray-400"}`,children:o})},r))})]})}),n&&e.jsxs("div",{className:"lg:hidden fixed inset-0 z-50",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>t(!1)}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-white dark:bg-zinc-900 rounded-t-2xl p-6 max-h-[60vh] overflow-y-auto animate-slide-up",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Table of Contents"}),e.jsx("button",{onClick:()=>t(!1),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("ul",{className:"space-y-3",children:c.map(({id:r,text:o,level:i})=>e.jsx("li",{children:e.jsx("button",{onClick:()=>h(r),className:`text-left w-full text-base transition-all duration-200 hover:text-smart-blue ${i===3?"ps-4":""} ${s===r?"text-smart-blue font-semibold":"text-gray-600 dark:text-gray-400"}`,children:o})},r))})]})]})]})},y=({name:a,avatar:s})=>{g();const l=a.split(" ").map(n=>n[0]).join("").substring(0,2).toUpperCase();return e.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200 dark:border-zinc-800",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:s?e.jsx("img",{src:s,alt:a,className:"w-16 h-16 rounded-full object-cover ring-2 ring-gray-100 dark:ring-zinc-700"}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-smart-blue to-smart-green flex items-center justify-center text-white font-bold text-xl",children:l})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-1",children:"Written by"}),e.jsx("h4",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:a}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed",children:"A passionate writer and technology enthusiast sharing insights on the latest trends in IT and digital transformation."})]})]})})},C=({posts:a,currentPostId:s})=>{const{t:l}=g(),n=a.filter(t=>t.id!==s&&t.status==="published").slice(0,3);return n.length===0?null:e.jsxs("section",{className:"mt-16 pt-12 border-t border-gray-200 dark:border-zinc-800",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-8 text-center",children:"Continue Reading"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:n.map(t=>e.jsx(u,{to:`/blog/${t.id}`,className:"group block",children:e.jsxs("article",{className:"h-full bg-gray-50 dark:bg-zinc-900 rounded-xl overflow-hidden hover:shadow-lg transition-all duration-300",children:[e.jsx("div",{className:"aspect-[16/10] overflow-hidden bg-gray-200 dark:bg-zinc-800",children:e.jsx("img",{src:t.imageUrl,alt:l(t.title),className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",loading:"lazy"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white line-clamp-2 group-hover:text-smart-blue transition-colors duration-300",children:l(t.title)}),e.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:t.date})]})]})},t.id))})]})},M=a=>{const n=a.replace(/<[^>]*>/g,"").split(/\s+/).length;return Math.max(1,Math.ceil(n/200))},z=()=>{const[a,s]=d.useState(!1);d.useEffect(()=>{const n=()=>{s(window.scrollY>500)};return window.addEventListener("scroll",n,{passive:!0}),()=>window.removeEventListener("scroll",n)},[]);const l=()=>{window.scrollTo({top:0,behavior:"smooth"})};return a?e.jsx("button",{onClick:l,className:"fixed bottom-6 right-4 z-40 p-3 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1","aria-label":"Back to top",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})}):null},T=()=>{const{id:a}=f(),{t:s}=g(),{posts:l,loading:n}=d.useContext(w),t=l.find(r=>r.id===a);if(v(s(t?t.title:"blog.title"),s(t?t.excerpt:"blog.subtitle")),n)return e.jsx("div",{className:"min-h-screen bg-white dark:bg-zinc-950",children:e.jsx("div",{className:"container mx-auto px-6 py-24 max-w-4xl",children:e.jsx(N,{})})});if(!t||t.status!=="published")return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-zinc-950",children:e.jsxs("div",{className:"text-center p-12 bg-white dark:bg-zinc-900 rounded-2xl shadow-sm",children:[e.jsx("svg",{className:"w-20 h-20 mx-auto text-gray-300 dark:text-zinc-600 mb-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:s("blog.postNotFound")}),e.jsxs(u,{to:"/blog",className:"inline-flex items-center gap-2 px-6 py-3 bg-smart-blue text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx("svg",{className:"w-4 h-4 rtl:rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),s("blog.backToBlog")]})]})});const c=M(s(t.content)),h=s(t.content);return e.jsxs(e.Fragment,{children:[e.jsx(k,{}),e.jsx(z,{}),e.jsxs("article",{className:"min-h-screen bg-white dark:bg-zinc-950 transition-colors duration-300",children:[e.jsxs("header",{className:"relative",children:[e.jsxs("div",{className:"relative h-[50vh] md:h-[60vh] overflow-hidden bg-gray-200 dark:bg-zinc-800",children:[e.jsx("img",{src:t.imageUrl,alt:s(t.title),className:"w-full h-full object-cover",loading:"eager"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:e.jsx("div",{className:"container mx-auto px-6 pb-12 md:pb-16",children:e.jsxs("div",{className:"max-w-4xl",children:[e.jsxs(u,{to:"/blog",className:"inline-flex items-center gap-2 text-white/80 hover:text-white mb-6 transition-colors",children:[e.jsx("svg",{className:"w-4 h-4 rtl:rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),e.jsx("span",{className:"text-sm font-medium",children:s("blog.backToBlog")})]}),e.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-extrabold text-white leading-tight mb-6",children:s(t.title)}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-white/80",children:[e.jsx("span",{className:"font-medium text-white",children:t.author}),e.jsx("span",{className:"w-1 h-1 rounded-full bg-white/50"}),e.jsxs("span",{children:[s("blog.publishedOn")," ",t.date]}),e.jsx("span",{className:"w-1 h-1 rounded-full bg-white/50"}),e.jsxs("span",{children:[c," min read"]})]})]})})})]}),e.jsx("div",{className:"container mx-auto px-6 py-12 lg:py-16",children:e.jsxs("div",{className:"lg:grid lg:grid-cols-[1fr,280px] lg:gap-12 max-w-6xl mx-auto",children:[e.jsxs("main",{className:"max-w-none lg:max-w-3xl",children:[e.jsx("div",{className:`prose prose-lg lg:prose-xl max-w-none 
                  prose-headings:font-bold prose-headings:text-gray-900 dark:prose-headings:text-white
                  prose-h2:text-2xl prose-h2:mt-12 prose-h2:mb-6
                  prose-h3:text-xl prose-h3:mt-8 prose-h3:mb-4
                  prose-p:text-gray-700 dark:prose-p:text-gray-300 prose-p:leading-relaxed
                  prose-a:text-smart-blue prose-a:no-underline hover:prose-a:underline
                  prose-strong:text-gray-900 dark:prose-strong:text-white
                  prose-ul:my-6 prose-li:my-2
                  prose-img:rounded-xl prose-img:shadow-lg
                  dark:prose-invert`,dangerouslySetInnerHTML:{__html:h}}),e.jsx(y,{name:t.author}),e.jsx(C,{posts:l,currentPostId:t.id})]}),e.jsx("aside",{className:"hidden lg:block",children:e.jsx(b,{content:h})})]})}),e.jsx("div",{className:"lg:hidden",children:e.jsx(b,{content:h})})]})]})};export{T as default};
