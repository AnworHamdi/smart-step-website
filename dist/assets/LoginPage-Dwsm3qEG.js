import{u as N,h as w,i as P,k as S,r as s,j as e,d as f,f as E}from"./index-CTFYKnJ2.js";import{C}from"./Card-CxKyUKUl.js";import{B as L}from"./Button-DuFCzZAU.js";import{u as q}from"./useSeo-CUnsv19d.js";const V=()=>{var x,p;const{t:a}=N();q(a("loginPage.title"),a("loginPage.subtitle"));const{login:h,isAuthenticated:l,loading:b}=w(),r=P(),y=S(),[d,j]=s.useState(""),[c,v]=s.useState(""),[m,i]=s.useState(""),[u,g]=s.useState(!1),o=((p=(x=y.state)==null?void 0:x.from)==null?void 0:p.pathname)||"/dashboard";s.useEffect(()=>{l&&r(o,{replace:!0})},[l,r,o]);const k=async t=>{t.preventDefault(),i(""),g(!0);try{(await h(d,c)).otpRequired?r("/verify-otp"):r(o,{replace:!0})}catch(n){n instanceof Error&&n.message==="unverified"?i(a("loginPage.unverifiedError")):i(a("loginPage.errorMessage"))}finally{g(!1)}};return b&&!l?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(f,{})}):e.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-200px)] bg-gray-50 dark:bg-zinc-950 py-12 px-4 sm:px-6 lg:px-8 transition-colors duration-300",children:e.jsx("div",{className:"max-w-md w-full space-y-8",children:e.jsx("div",{className:"animate-on-scroll is-visible",children:e.jsxs(C,{className:"p-10",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-smart-blue",children:a("loginPage.title")}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:a("loginPage.subtitle")})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:k,noValidate:!0,children:[e.jsx("input",{type:"hidden",name:"remember",defaultValue:"true"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a("loginPage.email")}),e.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-4 py-3 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-smart-blue focus:border-smart-blue sm:text-sm transition-colors",placeholder:a("loginPage.emailPlaceholder"),value:d,onChange:t=>j(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a("loginPage.password")}),e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none relative block w-full px-4 py-3 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-smart-blue focus:border-smart-blue sm:text-sm transition-colors",placeholder:a("loginPage.passwordPlaceholder"),value:c,onChange:t=>v(t.target.value)})]})]}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx("div",{className:"text-sm",children:e.jsx(E,{to:"/forgot-password",className:"font-medium text-smart-blue hover:text-blue-700 dark:text-soft-blue dark:hover:text-blue-400",children:a("loginPage.forgotPassword")})})}),m&&e.jsx("p",{className:"text-sm text-red-600 text-center","aria-live":"polite",children:m}),e.jsx("div",{children:e.jsxs(L,{type:"submit",className:"w-full flex justify-center",disabled:u,children:[u&&e.jsx(f,{}),a("loginPage.loginButton")]})})]})]})})})})};export{V as default};
